(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const s of f.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerpolicy&&(f.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?f.credentials="include":r.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=n(r);fetch(r.href,f)}})();const Z={},le=(t,e)=>t===e,Wt=Symbol("solid-proxy"),ce=Symbol("solid-track"),bt={equals:le};let he=Zt;const ot=1,mt=2,Ft={owned:null,cleanups:null,context:null,owner:null};var U=null;let rt=null,q=null,K=null,it=null,Dt=0;function wt(t,e){const n=q,a=U,r=t.length===0,f=r?Ft:{owned:null,cleanups:null,context:null,owner:e||a},s=r?t:()=>t(()=>Y(()=>Ct(f)));U=f,q=null;try{return ut(s,!0)}finally{q=n,U=a}}function tt(t,e){e=e?Object.assign({},bt,e):bt;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},a=r=>(typeof r=="function"&&(r=r(n.value)),Xt(n,r));return[zt.bind(n),a]}function Q(t,e,n){const a=Qt(t,e,!1,ot);_t(a)}function V(t,e,n){n=n?Object.assign({},bt,n):bt;const a=Qt(t,e,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=n.equals||void 0,_t(a),zt.bind(a)}function Y(t){let e,n=q;return q=null,e=t(),q=n,e}function de(t,e,n){const a=Array.isArray(t);let r,f=n&&n.defer;return s=>{let u;if(a){u=Array(t.length);for(let c=0;c<t.length;c++)u[c]=t[c]()}else u=t();if(f){f=!1;return}const v=Y(()=>e(u,r,s));return r=u,v}}function Nt(t){return U===null||(U.cleanups===null?U.cleanups=[t]:U.cleanups.push(t)),t}function pe(){return U}function ye(t,e){const n=U;U=t;try{return ut(e,!0)}finally{U=n}}function ge(t){const e=q,n=U;return Promise.resolve().then(()=>{q=e,U=n;let a;return ut(t,!1),q=U=null,a?a.done:void 0})}function Kt(t,e){const n=Symbol("context");return{id:n,Provider:me(n),defaultValue:t}}function Vt(t){let e;return(e=ne(U,t.id))!==void 0?e:t.defaultValue}function Ht(t){const e=V(t),n=V(()=>At(e()));return n.toArray=()=>{const a=n();return Array.isArray(a)?a:a!=null?[a]:[]},n}function zt(){const t=rt;if(this.sources&&(this.state||t))if(this.state===ot||t)_t(this);else{const e=K;K=null,ut(()=>kt(this),!1),K=e}if(q){const e=this.observers?this.observers.length:0;q.sources?(q.sources.push(this),q.sourceSlots.push(e)):(q.sources=[this],q.sourceSlots=[e]),this.observers?(this.observers.push(q),this.observerSlots.push(q.sources.length-1)):(this.observers=[q],this.observerSlots=[q.sources.length-1])}return this.value}function Xt(t,e,n){let a=t.value;return(!t.comparator||!t.comparator(a,e))&&(t.value=e,t.observers&&t.observers.length&&ut(()=>{for(let r=0;r<t.observers.length;r+=1){const f=t.observers[r],s=rt&&rt.running;s&&rt.disposed.has(f),(s&&!f.tState||!s&&!f.state)&&(f.pure?K.push(f):it.push(f),f.observers&&te(f)),s||(f.state=ot)}if(K.length>1e6)throw K=[],new Error},!1)),e}function _t(t){if(!t.fn)return;Ct(t);const e=U,n=q,a=Dt;q=U=t,ve(t,t.value,a),q=n,U=e}function ve(t,e,n){let a;try{a=t.fn(e)}catch(r){t.pure&&(t.state=ot),ee(r)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Xt(t,a):t.value=a,t.updatedAt=n)}function Qt(t,e,n,a=ot,r){const f={fn:t,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:U,context:null,pure:n};return U===null||U!==Ft&&(U.owned?U.owned.push(f):U.owned=[f]),f}function Yt(t){const e=rt;if(t.state===0||e)return;if(t.state===mt||e)return kt(t);if(t.suspense&&Y(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Dt);)(t.state||e)&&n.push(t);for(let a=n.length-1;a>=0;a--)if(t=n[a],t.state===ot||e)_t(t);else if(t.state===mt||e){const r=K;K=null,ut(()=>kt(t,n[0]),!1),K=r}}function ut(t,e){if(K)return t();let n=!1;e||(K=[]),it?n=!0:it=[],Dt++;try{const a=t();return we(n),a}catch(a){K||(it=null),ee(a)}}function we(t){if(K&&(Zt(K),K=null),t)return;const e=it;it=null,e.length&&ut(()=>he(e),!1)}function Zt(t){for(let e=0;e<t.length;e++)Yt(t[e])}function kt(t,e){const n=rt;t.state=0;for(let a=0;a<t.sources.length;a+=1){const r=t.sources[a];r.sources&&(r.state===ot||n?r!==e&&Yt(r):(r.state===mt||n)&&kt(r,e))}}function te(t){const e=rt;for(let n=0;n<t.observers.length;n+=1){const a=t.observers[n];(!a.state||e)&&(a.state=mt,a.pure?K.push(a):it.push(a),a.observers&&te(a))}}function Ct(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),a=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const f=r.pop(),s=n.observerSlots.pop();a<r.length&&(f.sourceSlots[s]=a,r[a]=f,n.observerSlots[a]=s)}}if(t.owned){for(e=0;e<t.owned.length;e++)Ct(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function be(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function ee(t){throw t=be(t),t}function ne(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:ne(t.owner,e):void 0}function At(t){if(typeof t=="function"&&!t.length)return At(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const a=At(t[n]);Array.isArray(a)?e.push.apply(e,a):e.push(a)}return e}return t}function me(t,e){return function(a){let r;return Q(()=>r=Y(()=>(U.context={[t]:a.value},Ht(()=>a.children))),void 0),r}}const ke=Symbol("fallback");function Pt(t){for(let e=0;e<t.length;e++)t[e]()}function _e(t,e,n={}){let a=[],r=[],f=[],s=0,u=e.length>1?[]:null;return Nt(()=>Pt(f)),()=>{let v=t()||[],c,l;return v[ce],Y(()=>{let m=v.length,T,d,$,k,D,x,i,p,_;if(m===0)s!==0&&(Pt(f),f=[],a=[],r=[],s=0,u&&(u=[])),n.fallback&&(a=[ke],r[0]=wt(O=>(f[0]=O,n.fallback())),s=1);else if(s===0){for(r=new Array(m),l=0;l<m;l++)a[l]=v[l],r[l]=wt(y);s=m}else{for($=new Array(m),k=new Array(m),u&&(D=new Array(m)),x=0,i=Math.min(s,m);x<i&&a[x]===v[x];x++);for(i=s-1,p=m-1;i>=x&&p>=x&&a[i]===v[p];i--,p--)$[p]=r[i],k[p]=f[i],u&&(D[p]=u[i]);for(T=new Map,d=new Array(p+1),l=p;l>=x;l--)_=v[l],c=T.get(_),d[l]=c===void 0?-1:c,T.set(_,l);for(c=x;c<=i;c++)_=a[c],l=T.get(_),l!==void 0&&l!==-1?($[l]=r[c],k[l]=f[c],u&&(D[l]=u[c]),l=d[l],T.set(_,l)):f[c]();for(l=x;l<m;l++)l in $?(r[l]=$[l],f[l]=k[l],u&&(u[l]=D[l],u[l](l))):r[l]=wt(y);r=r.slice(0,s=m),a=v.slice(0)}return r});function y(m){if(f[l]=m,u){const[T,d]=tt(l);return u[l]=d,e(v[l],T)}return e(v[l])}}}function J(t,e){return Y(()=>t(e||{}))}function gt(){return!0}const xe={get(t,e,n){return e===Wt?n:t.get(e)},has(t,e){return t.has(e)},set:gt,deleteProperty:gt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:gt,deleteProperty:gt}},ownKeys(t){return t.keys()}};function $t(t){return(t=typeof t=="function"?t():t)==null?{}:t}function $e(...t){if(t.some(n=>n&&(Wt in n||typeof n=="function")))return new Proxy({get(n){for(let a=t.length-1;a>=0;a--){const r=$t(t[a])[n];if(r!==void 0)return r}},has(n){for(let a=t.length-1;a>=0;a--)if(n in $t(t[a]))return!0;return!1},keys(){const n=[];for(let a=0;a<t.length;a++)n.push(...Object.keys($t(t[a])));return[...new Set(n)]}},xe);const e={};for(let n=t.length-1;n>=0;n--)if(t[n]){const a=Object.getOwnPropertyDescriptors(t[n]);for(const r in a)r in e||Object.defineProperty(e,r,{enumerable:!0,get(){for(let f=t.length-1;f>=0;f--){const s=(t[f]||{})[r];if(s!==void 0)return s}}})}return e}function je(t){const e="fallback"in t&&{fallback:()=>t.fallback};return V(_e(()=>t.each,t.children,e||void 0))}function re(t){let e=!1,n=!1;const a=Ht(()=>t.children),r=V(()=>{let f=a();Array.isArray(f)||(f=[f]);for(let s=0;s<f.length;s++){const u=f[s].when;if(u)return n=!!f[s].keyed,[s,u,f[s]]}return[-1]},void 0,{equals:(f,s)=>f[0]===s[0]&&(e?f[1]===s[1]:!f[1]==!s[1])&&f[2]===s[2]});return V(()=>{const[f,s,u]=r();if(f<0)return t.fallback;const v=u.children,c=typeof v=="function"&&v.length>0;return e=n||c,c?Y(()=>v(s)):v})}function ht(t){return t}const Se=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Te=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Se]),Ae=new Set(["innerHTML","textContent","innerText","children"]),Oe=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Lt=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),De=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ne={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ce(t,e,n){let a=n.length,r=e.length,f=a,s=0,u=0,v=e[r-1].nextSibling,c=null;for(;s<r||u<f;){if(e[s]===n[u]){s++,u++;continue}for(;e[r-1]===n[f-1];)r--,f--;if(r===s){const l=f<a?u?n[u-1].nextSibling:n[f-u]:v;for(;u<f;)t.insertBefore(n[u++],l)}else if(f===u)for(;s<r;)(!c||!c.has(e[s]))&&e[s].remove(),s++;else if(e[s]===n[f-1]&&n[u]===e[r-1]){const l=e[--r].nextSibling;t.insertBefore(n[u++],e[s++].nextSibling),t.insertBefore(n[--f],l),e[r]=n[f]}else{if(!c){c=new Map;let y=u;for(;y<f;)c.set(n[y],y++)}const l=c.get(e[s]);if(l!=null)if(u<l&&l<f){let y=s,m=1,T;for(;++y<r&&y<f&&!((T=c.get(e[y]))==null||T!==l+m);)m++;if(m>l-u){const d=e[s];for(;u<l;)t.insertBefore(n[u++],d)}else t.replaceChild(n[u++],e[s++])}else s++;else e[s++].remove()}}}const Mt="_$DX_DELEGATE";function Ee(t,e,n,a={}){let r;return wt(f=>{r=f,e===document?t():X(e,t(),e.firstChild?null:void 0,n)},a.owner),()=>{r(),e.textContent=""}}function st(t,e,n){const a=document.createElement("template");a.innerHTML=t;let r=a.content.firstChild;return n&&(r=r.firstChild),r}function xt(t,e=window.document){const n=e[Mt]||(e[Mt]=new Set);for(let a=0,r=t.length;a<r;a++){const f=t[a];n.has(f)||(n.add(f),e.addEventListener(f,Be))}}function dt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ge(t,e,n,a){a==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,a)}function Ie(t,e){e==null?t.removeAttribute("class"):t.className=e}function Et(t,e,n,a){if(a)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const r=n[0];t.addEventListener(e,n[0]=f=>r.call(t,n[1],f))}else t.addEventListener(e,n)}function Pe(t,e,n={}){const a=Object.keys(e||{}),r=Object.keys(n);let f,s;for(f=0,s=r.length;f<s;f++){const u=r[f];!u||u==="undefined"||e[u]||(Rt(t,u,!1),delete n[u])}for(f=0,s=a.length;f<s;f++){const u=a[f],v=!!e[u];!u||u==="undefined"||n[u]===v||!v||(Rt(t,u,!0),n[u]=v)}return n}function ie(t,e,n){if(!e)return n?dt(t,"style"):e;const a=t.style;if(typeof e=="string")return a.cssText=e;typeof n=="string"&&(a.cssText=n=void 0),n||(n={}),e||(e={});let r,f;for(f in n)e[f]==null&&a.removeProperty(f),delete n[f];for(f in e)r=e[f],r!==n[f]&&(a.setProperty(f,r),n[f]=r);return n}function Le(t,e={},n,a){const r={};return a||Q(()=>r.children=lt(t,e.children,r.children)),Q(()=>e.ref&&e.ref(t)),Q(()=>Me(t,e,n,!0,r,!0)),r}function X(t,e,n,a){if(n!==void 0&&!a&&(a=[]),typeof e!="function")return lt(t,e,a,n);Q(r=>lt(t,e(),r,n),a)}function Me(t,e,n,a,r={},f=!1){e||(e={});for(const s in r)if(!(s in e)){if(s==="children")continue;r[s]=Bt(t,s,null,r[s],n,f)}for(const s in e){if(s==="children"){a||lt(t,e.children);continue}const u=e[s];r[s]=Bt(t,s,u,r[s],n,f)}}function Re(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Rt(t,e,n){const a=e.trim().split(/\s+/);for(let r=0,f=a.length;r<f;r++)t.classList.toggle(a[r],n)}function Bt(t,e,n,a,r,f){let s,u,v;if(e==="style")return ie(t,n,a);if(e==="classList")return Pe(t,n,a);if(n===a)return a;if(e==="ref")f||n(t);else if(e.slice(0,3)==="on:"){const c=e.slice(3);a&&t.removeEventListener(c,a),n&&t.addEventListener(c,n)}else if(e.slice(0,10)==="oncapture:"){const c=e.slice(10);a&&t.removeEventListener(c,a,!0),n&&t.addEventListener(c,n,!0)}else if(e.slice(0,2)==="on"){const c=e.slice(2).toLowerCase(),l=De.has(c);if(!l&&a){const y=Array.isArray(a)?a[0]:a;t.removeEventListener(c,y)}(l||n)&&(Et(t,c,n,l),l&&xt([c]))}else if((v=Ae.has(e))||!r&&(Lt[e]||(u=Te.has(e)))||(s=t.nodeName.includes("-")))e==="class"||e==="className"?Ie(t,n):s&&!u&&!v?t[Re(e)]=n:t[Lt[e]||e]=n;else{const c=r&&e.indexOf(":")>-1&&Ne[e.split(":")[0]];c?Ge(t,c,e,n):dt(t,Oe[e]||e,n)}return n}function Be(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),Z.registry&&!Z.done&&(Z.done=!0,document.querySelectorAll("[id^=pl-]").forEach(a=>a.remove()));n!==null;){const a=n[e];if(a&&!n.disabled){const r=n[`${e}Data`];if(r!==void 0?a.call(n,r,t):a.call(n,t),t.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function lt(t,e,n,a,r){for(Z.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;const f=typeof e,s=a!==void 0;if(t=s&&n[0]&&n[0].parentNode||t,f==="string"||f==="number"){if(Z.context)return n;if(f==="number"&&(e=e.toString()),s){let u=n[0];u&&u.nodeType===3?u.data=e:u=document.createTextNode(e),n=ft(t,n,a,u)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||f==="boolean"){if(Z.context)return n;n=ft(t,n,a)}else{if(f==="function")return Q(()=>{let u=e();for(;typeof u=="function";)u=u();n=lt(t,u,n,a)}),()=>n;if(Array.isArray(e)){const u=[],v=n&&Array.isArray(n);if(Ot(u,e,n,r))return Q(()=>n=lt(t,u,n,a,!0)),()=>n;if(Z.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=ft(t,n,a),s)return n}else v?n.length===0?Ut(t,u,a):Ce(t,n,u):(n&&ft(t),Ut(t,u));n=u}else if(e instanceof Node){if(Z.context&&e.parentNode)return n=s?[e]:e;if(Array.isArray(n)){if(s)return n=ft(t,n,a,e);ft(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Ot(t,e,n,a){let r=!1;for(let f=0,s=e.length;f<s;f++){let u=e[f],v=n&&n[f];if(u instanceof Node)t.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))r=Ot(t,u,v)||r;else if(typeof u=="function")if(a){for(;typeof u=="function";)u=u();r=Ot(t,Array.isArray(u)?u:[u],Array.isArray(v)?v:[v])||r}else t.push(u),r=!0;else{const c=String(u);v&&v.nodeType===3&&v.data===c?t.push(v):t.push(document.createTextNode(c))}}return r}function Ut(t,e,n=null){for(let a=0,r=e.length;a<r;a++)t.insertBefore(e[a],n)}function ft(t,e,n,a){if(n===void 0)return t.textContent="";const r=a||document.createTextNode("");if(e.length){let f=!1;for(let s=e.length-1;s>=0;s--){const u=e[s];if(r!==u){const v=u.parentNode===t;!f&&!s?v?t.replaceChild(r,u):t.insertBefore(r,n):v&&u.remove()}else f=!0}}else t.insertBefore(r,n);return[r]}const Ue=!1;var F=(t=>(t[t.None=0]="None",t[t.Cross=1]="Cross",t[t.Circle=2]="Circle",t[t.Draw=3]="Draw",t))(F||{});const qe=t=>{switch(t){case 2:return 1;case 1:return 2}return 0},Je=t=>{const e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]];for(let a of e){const[r,f,s]=a;if(t[r]!==0&&t[r]===t[f]&&t[r]==t[s])return t[r]}let n=!0;for(let a of t)a===0&&(n=!1);return n?3:0},We=st('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),Fe=st("<title></title>");function oe(t,e){const n=$e(t.a,e);return(()=>{const a=We.cloneNode(!0);return Le(a,n,!0,!0),X(a,()=>Ue,null),X(a,(()=>{const r=V(()=>!!e.title,!0);return()=>r()&&(()=>{const f=Fe.cloneNode(!0);return X(f,()=>e.title),f})()})(),null),Q(r=>{const f=t.a.stroke,s={...e.style,overflow:"visible",color:e.color||"currentColor"},u=e.size||"1em",v=e.size||"1em",c=t.c;return f!==r._v$&&dt(a,"stroke",r._v$=f),r._v$2=ie(a,s,r._v$2),u!==r._v$3&&dt(a,"height",r._v$3=u),v!==r._v$4&&dt(a,"width",r._v$4=v),c!==r._v$5&&(a.innerHTML=r._v$5=c),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),a})()}function Ke(t){return oe({a:{viewBox:"0 0 512 512"},c:'<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"/>'},t)}function Ve(t){return oe({a:{viewBox:"0 0 384 512"},c:'<path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 01-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 01-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/>'},t)}const He=st('<div class="bg-gray-300 rounded min-w-[6rem] min-h-[6rem] sm:min-w-[8rem] sm:min-h-[8rem] md:min-w-[12rem] md:min-h-[12rem] lg:min-w-[16rem] lg:min-h-[16rem] m-2 flex justify-center items-center"></div>'),ze=t=>(()=>{const e=He.cloneNode(!0);return Et(e,"click",t.onClick,!0),X(e,J(re,{get fallback(){return[]},get children(){return[J(ht,{get when(){return t.state===F.Cross},get children(){return J(Ve,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}}),J(ht,{get when(){return t.state===F.Circle},get children(){return J(Ke,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}})]}})),e})();xt(["click"]);const Xe=st('<div class="absolute inset-0 flex justify-center items-center"><div class="rounded bg-gray-100 px-8 py-5"></div></div>'),Qe=t=>(()=>{const e=Xe.cloneNode(!0),n=e.firstChild;return X(n,()=>t.children),e})(),Ye=st('<div class="flex flex-col"><h3 class="m-3 text-4xl text-center"></h3><span class="py-2 px-3 rounded bg-gray-300 m-auto cursor-pointer">Restart Game</span></div>'),jt=t=>J(Qe,{get children(){const e=Ye.cloneNode(!0),n=e.firstChild,a=n.nextSibling;return X(n,()=>t.result),Et(a,"click",t.restartGame,!0),e}});xt(["click"]);function Ze(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function tn([t,e],n,a){return[n?()=>n(t()):t,a?r=>e(a(r)):e]}function en(t){try{return document.querySelector(t)}catch{return null}}function nn(t,e){const n=en(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}function rn(t,e,n,a){let r=!1;const f=u=>typeof u=="string"?{value:u}:u,s=tn(tt(f(t()),{equals:(u,v)=>u.value===v.value}),void 0,u=>(!r&&e(u),u));return n&&Nt(n((u=t())=>{r=!0,s[1](f(u)),r=!1})),{signal:s,utils:a}}function on(t){if(t){if(Array.isArray(t))return{signal:t}}else return{signal:tt({value:""})};return t}function un(){return rn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:t,replace:e,scroll:n,state:a})=>{e?window.history.replaceState(a,"",t):window.history.pushState(a,"",t),nn(window.location.hash.slice(1),n)},t=>Ze(window,"popstate",()=>t()),{go:t=>window.history.go(t)})}const sn=/^(?:[a-z0-9]+:)?\/\//i,fn=/^\/+|\/+$/g;function St(t,e=!1){const n=t.replace(fn,"");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Tt(t,e,n){if(sn.test(e))return;const a=St(t),r=n&&St(n);let f="";return!r||e.startsWith("/")?f=a:r.toLowerCase().indexOf(a.toLowerCase())!==0?f=a+r:f=r,(f||"/")+St(e,!f)}function an(t,e){if(t==null)throw new Error(e);return t}function ln(t){const e={};return t.searchParams.forEach((n,a)=>{e[a]=n}),e}function at(t,e){return decodeURIComponent(e?t.replace(/\+/g," "):t)}function cn(t){const e=new Map,n=pe();return new Proxy({},{get(a,r){return e.has(r)||ye(n,()=>e.set(r,V(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}const hn=100,ue=Kt(),dn=Kt(),se=()=>an(Vt(ue),"Make sure your app is wrapped in a <Router />");let qt;const pn=()=>se().navigatorFactory(),yn=()=>se().location;function gn(t,e){const n=new URL("http://sar"),a=V(v=>{const c=t();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),v}},n,{equals:(v,c)=>v.href===c.href}),r=V(()=>at(a().pathname)),f=V(()=>at(a().search,!0)),s=V(()=>at(a().hash)),u=V(()=>"");return{get pathname(){return r()},get search(){return f()},get hash(){return s()},get state(){return e()},get key(){return u()},query:cn(de(f,()=>ln(a())))}}function vn(t,e="",n,a){const{signal:[r,f],utils:s={}}=on(t),u=s.parsePath||(S=>S),v=s.renderPath||(S=>S),c=Tt("",e),l=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!r().value&&f({value:c,replace:!0,scroll:!1});const[y,m]=tt(!1),T=async S=>{m(!0);try{await ge(S)}finally{m(!1)}},[d,$]=tt(r().value),[k,D]=tt(r().state),x=gn(d,k),i=[],p={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(S){return Tt(c,S)}};if(n)try{qt=p,p.data=n({data:void 0,params:{},location:x,navigate:O(p)})}finally{qt=void 0}function _(S,C,E){Y(()=>{if(typeof C=="number"){C&&(s.go?s.go(C):console.warn("Router integration does not support relative routing"));return}const{replace:h,resolve:o,scroll:g,state:w}={replace:!1,resolve:!0,scroll:!0,...E},I=o?S.resolvePath(C):Tt("",C);if(I===void 0)throw new Error(`Path '${C}' is not a routable path`);if(i.length>=hn)throw new Error("Too many redirects");const N=d();if(I!==N||w!==k()){const j=i.push({value:N,replace:h,scroll:g,state:k()});T(()=>{$(I),D(w)}).then(()=>{i.length===j&&b({value:I,state:w})})}})}function O(S){return S=S||Vt(dn)||p,(C,E)=>_(S,C,E)}function b(S){const C=i[0];C&&((S.value!==C.value||S.state!==C.state)&&f({...S,replace:C.replace,scroll:C.scroll}),i.length=0)}Q(()=>{const{value:S,state:C}=r();Y(()=>{S!==d()&&T(()=>{$(S),D(C)})})});{let S=function(C){if(C.defaultPrevented||C.button!==0||C.metaKey||C.altKey||C.ctrlKey||C.shiftKey)return;const E=C.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!E||!E.hasAttribute("link"))return;const h=E.href;if(E.target||!h&&!E.hasAttribute("state"))return;const o=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||o&&o.includes("external"))return;const g=new URL(h),w=at(g.pathname);if(g.origin!==window.location.origin||c&&w&&!w.toLowerCase().startsWith(c.toLowerCase()))return;const I=u(w+at(g.search,!0)+at(g.hash)),N=E.getAttribute("state");C.preventDefault(),_(p,I,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:N&&JSON.parse(N)})};var A=S;xt(["click"]),document.addEventListener("click",S),Nt(()=>document.removeEventListener("click",S))}return{base:p,out:l,location:x,isRouting:y,renderPath:v,parsePath:u,navigatorFactory:O}}const wn=t=>{const{source:e,url:n,base:a,data:r,out:f}=t,s=e||un(),u=vn(s,a,r);return J(ue.Provider,{value:u,get children(){return t.children}})};let vt;const bn=new Uint8Array(16);function mn(){if(!vt&&(vt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vt(bn)}const W=[];for(let t=0;t<256;++t)W.push((t+256).toString(16).slice(1));function kn(t,e=0){return(W[t[e+0]]+W[t[e+1]]+W[t[e+2]]+W[t[e+3]]+"-"+W[t[e+4]]+W[t[e+5]]+"-"+W[t[e+6]]+W[t[e+7]]+"-"+W[t[e+8]]+W[t[e+9]]+"-"+W[t[e+10]]+W[t[e+11]]+W[t[e+12]]+W[t[e+13]]+W[t[e+14]]+W[t[e+15]]).toLowerCase()}const _n=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jt={randomUUID:_n};function xn(t,e,n){if(Jt.randomUUID&&!e&&!t)return Jt.randomUUID();t=t||{};const a=t.random||(t.rng||mn)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=a[r];return e}return kn(a)}function $n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fe={exports:{}};function jn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ae={exports:{}};(function(t){(function(){function e(a,r){return r?jn(a):a.slice?e[f(a)]:function(s,u){a(s={exports:{}}),e[f(u)]=s.exports};function f(s){return s.split("/").slice(-1).toString().replace(".js","")}}var n=t;e(function(a){String.random=function(f,s){var u="";for(f=f||24,s=s||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";f-- >0;)u+=s.charAt(Math.floor(Math.random()*s.length));return u},String.match=function(f,s){var u,v;return typeof f!="string"?!1:(typeof s=="string"&&(s={"=":s}),s=s||{},u=s["="]||s["*"]||s[">"]||s["<"],f===u?!0:v!==s["="]?!1:(u=s["*"]||s[">"],f.slice(0,(u||"").length)===u?!0:v!==s["*"]?!1:v!==s[">"]&&v!==s["<"]?f>=s[">"]&&f<=s["<"]:v!==s[">"]&&f>=s[">"]||v!==s["<"]&&f<=s["<"]))},String.hash=function(f,s){if(typeof f=="string"){if(s=s||0,!f.length)return s;for(var u=0,v=f.length,c;u<v;++u)c=f.charCodeAt(u),s=(s<<5)-s+c,s|=0;return s}};var r=Object.prototype.hasOwnProperty;Object.plain=function(f){return f?f instanceof Object&&f.constructor===Object||Object.prototype.toString.call(f).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(f,s){for(var u in f)if(r.call(f,u)&&(!s||s.indexOf(u)==-1))return!1;return!0},Object.keys=Object.keys||function(f){var s=[];for(var u in f)r.call(f,u)&&s.push(u);return s},function(){var f,s=setTimeout,u=0,v=0,c=typeof setImmediate!=""+f&&setImmediate||function(y,m){return typeof MessageChannel==""+f?s:((y=new MessageChannel).port1.onmessage=function(T){T.data==""&&m()},function(T){m=T,y.port2.postMessage("")})}(),l=s.check=s.check||typeof performance!=""+f&&performance||{now:function(){return+new Date}};s.hold=s.hold||9,s.poll=s.poll||function(y){if(s.hold>=l.now()-u&&v++<3333){y();return}c(function(){u=l.now(),y()},v=0)}}(),function(){var f=setTimeout,s=f.turn=f.turn||function(m){u.push(m)==1&&v(y)},u=s.s=[],v=f.poll,c=0,l,y=function(){(l=u[c++])&&l(),(c==u.length||c==99)&&(u=s.s=u.slice(c),c=0),u.length&&v(y)}}(),function(){var f,s=setTimeout,u=s.turn;(s.each=s.each||function(v,c,l,y){y=y||9,function m(T,d,$){if(d=(T=(v||[]).splice(0,y)).length){for(var k=0;k<d&&f===($=c(T[k]));k++);if(f===$){u(m);return}}l&&l($)}()})()}()})(e,"./shim"),e(function(a){a.exports=function r(l,s,u){if(!l)return{to:r};var v,c=typeof s=="function",l=(this.tag||(this.tag={}))[l]||c&&(this.tag[l]={tag:l,to:r._={next:function(m){var T;(T=this.to)&&T.next(m)}}});if(c){var y={off:r.off||(r.off=function(){if(this.next===r._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=r._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:r._,next:s,the:l,on:this,as:u};return(y.back=l.last||l).to=y,l.last=y}return(l=l.to)&&v!==s&&l.next(s),l}})(e,"./onto"),e(function(a){a.exports=function(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"&&r!=1/0&&r!=-1/0&&r===r||!!r&&typeof r["#"]=="string"&&Object.keys(r).length===1&&r["#"]}})(e,"./valid"),e(function(a){e("./shim");function r(){var l=+new Date;return v<l?(s=0,v=l+r.drift):v=l+(s+=1)/u+r.drift}r.drift=0;var f=-1/0,s=0,u=999,v=f,c;r.is=function(l,y,m){var T=y&&l&&l._&&l._[">"]||m;if(!!T)return typeof(T=T[y])=="number"?T:f},r.ify=function(l,y,m,T,d){(l=l||{})._=l._||{},d&&(l._["#"]=d);var $=l._[">"]||(l._[">"]={});return c!==y&&y!=="_"&&(typeof m=="number"&&($[y]=m),c!==T&&(l[y]=T)),l},a.exports=r})(e,"./state"),e(function(a){e("./shim");function r(f){var s={s:{}},u=s.s;f=f||{max:999,age:1e3*9},s.check=function(c){return u[c]?v(c):!1};var v=s.track=function(c){var l=u[c]||(u[c]={});return l.was=s.now=+new Date,s.to||(s.to=setTimeout(s.drop,f.age+9)),l};return s.drop=function(c){s.to=null,s.now=+new Date;var l=Object.keys(u);console.STAT&&console.STAT(s.now,+new Date-s.now,"dup drop keys"),setTimeout.each(l,function(y){var m=u[y];m&&(c||f.age)>s.now-m.was||delete u[y]},0,99)},s}a.exports=r})(e,"./dup"),e(function(a){e("./onto"),a.exports=function(s,u){if(!!this.on){var v=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var l=s["#"]||s,c=(this.tag||"")[l];return c?(u&&(c=this.on(l,u),clearTimeout(c.err),c.err=setTimeout(function(){c.off()},v)),!0):void 0}var l=u&&u["#"]||r(9);if(!s)return l;var y=this.on(l,s,u);return y.err=y.err||setTimeout(function(){y.off(),y.next({err:"Error: No ACK yet.",lack:!0})},v),l}};var r=String.random||function(){return Math.random().toString(36).slice(2)}})(e,"./ask"),e(function(a){function r(d){return d instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:d}):new r(d)}r.is=function(d){return d instanceof r||d&&d._&&d===d._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},e("./shim"),r.valid=e("./valid"),r.state=e("./state"),r.on=e("./onto"),r.dup=e("./dup"),r.ask=e("./ask"),function(){r.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||r.on,o.ask=o.ask||r.ask,o.dup=o.dup||r.dup();var g=o.$.opt(o.opt);return o.once||(o.on("in",d,o),o.on("out",d,o),o.on("put",D,o),r.on("create",o),o.on("create",o)),o.once=1,g};function d(o){if(!!o){if(o.out===d){this.to.next(o);return}var g=this,w=g.as,I=w.at||w,N=I.$,j=I.dup,G,P=o.DBG;if((G=o["#"])||(G=o["#"]=s(9)),!j.check(G)){if(j.track(G),G=o._,o._=typeof G=="function"?G:function(){},o.$&&o.$===(o.$._||"").$||(o.$=N),o["@"]&&!o.put&&i(o),!I.ask(o["@"],o))if(P&&(P.u=+new Date),o.put){$(o);return}else o.get&&r.on.get(o,N);P&&(P.uc=+new Date),g.to.next(o),P&&(P.ua=+new Date),!(o.nts||o.NTS)&&(o.out=d,I.on("out",o),P&&(P.ue=+new Date))}}}function $(o){if(!!o){var g=o._||"",w=g.root=((g.$=o.$||"")._||"").root;if(o["@"]&&g.faith&&!g.miss){o.out=d,w.on("out",o);return}g.latch=w.hatch,g.match=w.hatch=[];var I=o.put,N=g.DBG=o.DBG,j=+new Date;if(E=E||j,!(I["#"]&&I["."])){N&&(N.p=j),g["#"]=o["#"],g.msg=o,g.all=0,g.stun=1;var G=Object.keys(I);console.STAT&&console.STAT(j,((N||g).pk=+new Date)-j,"put sort");var P=0,L,M,R,B,z,H,ct;(function et(pt){if(L!=P){if(L=P,!(R=G[P])){console.STAT&&console.STAT(j,((N||g).pd=+new Date)-j,"put"),x(g);return}(B=I[R])?(ct=B._)?R!==ct["#"]?H=_+O(R)+"soul not same.":(z=ct[">"])||(H=_+O(R)+"no state."):H=_+O(R)+"no meta.":H=_+O(R)+"no node.",M=Object.keys(B||{})}if(H){o.err=g.err=H,x(g);return}var Gt=0,nt;for(pt=pt||0;pt++<9&&(nt=M[Gt++]);)if(nt!=="_"){var yt=B[nt],It=z[nt];if(y===It){H=_+O(nt)+"on"+O(R)+"no state.";break}if(!v(yt)){H=_+O(nt)+"on"+O(R)+"bad "+typeof yt+O(yt);break}k(yt,nt,R,It,o),++C}if((M=M.slice(Gt)).length){u(et);return}++P,M=null,et(pt)})()}}}r.on.put=$;function k(o,g,w,I,N){var j=N._||"",G=j.root,P=G.graph,L,M=P[w]||m,R=c(M,g,1),B=M[g],z=j.DBG;(L=console.STAT)&&(!P[w]||!B)&&(L.has=(L.has||0)+1);var H=S();if(I>H){setTimeout(function(){k(o,g,w,I,N)},(L=I-H)>A?A:L),console.STAT&&console.STAT((z||j).Hf=+new Date,L,"future");return}if(!(I<R)&&!(!j.faith&&I===R&&(o===B||b(o)<=b(B))&&!j.miss)){j.stun++;var ct=N["#"]+j.all++,et={toString:function(){return ct},_:j};et.toJSON=et.toString,G.dup.track(et)["#"]=N["#"],z&&(z.ph=z.ph||+new Date),G.on("put",{"#":et,"@":N["@"],put:{"#":w,".":g,":":o,">":I},ok:N.ok,_:j})}}function D(o){var g;(g=(o._||"").DBG)&&(g.pa=+new Date,g.pm=g.pm||+new Date);var w=this,I=w.as,N=I.graph,j=o._,G=o.put,P=G["#"],L=G["."],M=G[":"],R=G[">"];o["#"];var B;(B=j.msg)&&(B=B.put)&&(B=B[P])&&l(B,L,R,M,P),N[P]=l(N[P],L,R,M,P),(B=(I.next||"")[P])&&B.on("in",o),x(j),w.to.next(o)}function x(o,g){var w;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!(w=o.root))){var I=o.match;I.end=1,I===w.hatch&&(!(I=o.latch)||I.end?delete w.hatch:w.hatch=I),o.hatch&&o.hatch(),setTimeout.each(o.match,function(N){N&&N()}),!(!(g=o.msg)||o.err||g.err)&&(g.out=d,o.root.on("out",g),h())}}function i(o){var g=o["@"]||"",w;if(!(w=g._)){var I=(I=o.$)&&(I=I._)&&(I=I.root)&&(I=I.dup);if(!(I=I.check(g)))return;o["@"]=I["#"]||o["@"];return}w.acks=(w.acks||0)+1,(w.err=o.err)&&(o["@"]=w["#"],x(w)),w.ok=o.ok||w.ok,!w.stop&&!w.crack&&(w.crack=w.match&&w.match.push(function(){p(w)})),p(w)}function p(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?y:o.ok||{"":1}})}var _="Error: Invalid graph!",O=function(o){return" '"+(""+o).slice(0,9)+"...' "},b=JSON.stringify,A=2147483647,S=r.state,C=0,E,h=function(){C>999&&C/-(E-(E=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),h=function(){C=0})}}(),function(){r.on.get=function($,k){var D=k._,x=$.get,i=x["#"],p=D.graph[i],_=x["."],O=D.next||(D.next={});O[i];var b=$._||{},A=b.DBG=$.DBG;if(A&&(A.g=+new Date),!p)return D.on("get",$);if(_){if(typeof _!="string"||y===p[_])return D.on("get",$);p=l({},_,c(p,_),p[_],i)}p&&d($,p),D.on("get",$)};function d($,k){var D=+new Date,x=$._||{},i=x.DBG=$.DBG,p=$["#"],_=s(9),O=Object.keys(k||"").sort(),b=((k||"")._||"")["#"];O.length;var A=$.$._.root,S=k===A.graph[b];console.STAT&&console.STAT(D,((i||x).gk=+new Date)-D,"got keys"),k&&function C(){D=+new Date;for(var E=0,h,o={},g;E<9&&(h=O[E++]);)l(o,h,c(k,h),k[h],b);O=O.slice(E),(g={})[b]=o,o=g;var w;S&&(w=function(){},w.ram=w.faith=!0),g=O.length,console.STAT&&console.STAT(D,-(D-(D=+new Date)),"got copied some"),i&&(i.ga=+new Date),A.on("in",{"@":p,"#":_,put:o,"%":g?_=s(9):y,$:A.$,_:w,DBG:i}),console.STAT&&console.STAT(D,+new Date-D,"got in"),g&&setTimeout.turn(C)}(),k||A.on("in",{"@":$["#"]})}r.on.get.ack=d}(),function(){r.chain.opt=function(d){d=d||{};var $=this,k=$._,D=d.peers||d;return Object.plain(d)||(d={}),Object.plain(k.opt)||(k.opt=d),typeof D=="string"&&(D=[D]),Object.plain(k.opt.peers)||(k.opt.peers={}),D instanceof Array&&(d.peers={},D.forEach(function(x){var i={};i.id=i.url=x,d.peers[x]=k.opt.peers[x]=k.opt.peers[x]||i})),f(d,function x(i){var p=this[i];if(this&&this.hasOwnProperty(i)||typeof p=="string"||Object.empty(p)){this[i]=p;return}p&&p.constructor!==Object&&!(p instanceof Array)||f(p,x)}),k.opt.from=d,r.on("opt",k),k.opt.uuid=k.opt.uuid||function(i){return r.state().toString(36).replace(".","")+String.random(i||12)},$}}();var f=function(d,$){Object.keys(d).forEach($,d)},s=String.random,u=setTimeout.turn,v=r.valid,c=r.state.is,l=r.state.ify,y,m={},T;r.log=function(){return!r.log.off&&T.log.apply(T,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(d,$,k){return(k=r.log.once)[d]=k[d]||0,k[d]++||r.log($)},typeof window<"u"&&((window.GUN=window.Gun=r).window=window);try{typeof n<"u"&&(n.exports=r)}catch{}a.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(T=console).only=function(d,$){return T.only.i&&d===T.only.i&&T.only.i++&&(T.log.apply(T,arguments)||$)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(e,"./root"),e(function(a){var r=e("./root");r.chain.back=function(u,v){var c;if(u=u||1,u===-1||u===1/0)return this._.root.$;if(u===1)return(this._.back||this._).$;var l=this,y=l._;if(typeof u=="string"&&(u=u.split(".")),u instanceof Array){var m=0,T=u.length,c=y;for(m;m<T;m++)c=(c||f)[u[m]];return s!==c?v?l:c:(c=y.back)?c.$.back(u,v):void 0}if(typeof u=="function"){for(var d,c={back:y};(c=c.back)&&s===(d=u(c,v)););return d}return typeof u=="number"?(y.back||y).$.back(u-1):this};var f={},s})(e,"./back"),e(function(a){var r=e("./root");r.chain.chain=function(x){var i=this,p=i._,_=new(x||i).constructor(i),O=_._,b;return O.root=b=p.root,O.id=++b.once,O.back=i._,O.on=r.on,O.on("in",r.on.in,O),O.on("out",r.on.out,O),_};function f(x){var i,p=this.as,_=p.back,O=p.root,b;if(x.$||(x.$=p.$),this.to.next(x),p.err){p.on("in",{put:p.put=y,$:p.$});return}if(i=x.get){if(O.pass&&(O.pass[p.id]=p),p.lex&&Object.keys(p.lex).forEach(function(A){b[A]=p.lex[A]},b=x.get=x.get||{}),i["#"]||p.soul){if(i["#"]=i["#"]||p.soul,x["#"]||(x["#"]=m(9)),_=O.$.get(i["#"])._,i=i["."]){if(d(_.put,i)&&(b=_.ask&&_.ask[i],(_.ask||(_.ask={}))[i]=_.$.get(i)._,_.on("in",{get:i,put:{"#":_.soul,".":i,":":_.put[i],">":k(O.graph[_.soul],i)}}),b))return}else{if(b=_.ask&&_.ask[""],(_.ask||(_.ask={}))[""]=_,y!==_.put&&(_.on("in",_),b))return;x.$=_.$}return O.ask(c,x),O.on("in",x)}if(i["."])return p.get?(x={get:{".":p.get},$:p.$},(_.ask||(_.ask={}))[p.get]=x.$._,_.on("out",x)):(x={get:p.lex?x.get:{},$:p.$},_.on("out",x));if((p.ask||(p.ask={}))[""]=p,p.get)return i["."]=p.get,(_.ask||(_.ask={}))[p.get]=x.$._,_.on("out",x)}return _.on("out",x)}r.on.out=f;function s(x,i){i=i||this.as;var p=i.root,_=x.$||(x.$=i.$),O=(_||"")._||l,b=x.put||"",A=b["#"],S=b["."],C=y!==b["="]?b["="]:b[":"],E=b[">"]||-1/0,h;if(y!==x.put&&(y===b["#"]||y===b["."]||y===b[":"]&&y===b["="]||y===b[">"])){if(!T(b)){if(!(A=((b||"")._||"")["#"])){console.log("chain not yet supported for",b,"...",x,i);return}return _=i.root.$.get(A),setTimeout.each(Object.keys(b).sort(),function(o){o=="_"||y===(E=k(b,o))||i.on("in",{$:_,put:{"#":A,".":o,"=":b[o],">":E},VIA:x})})}i.on("in",{$:O.back.$,put:{"#":A=O.back.soul,".":S=O.has||O.get,"=":b,">":k(O.back.put,S)},via:x});return}(x.seen||"")[i.id]||((x.seen||(x.seen=function(){}))[i.id]=i,i!==O&&(Object.keys(x).forEach(function(o){b[o]=x[o]},b={}),b.get=i.get||b.get,!i.soul&&!i.has?b.$$$=b.$$$||i.$:O.soul&&(b.$=i.$,b.$$=b.$$||O.$),x=b),v(x,i),(i.soul||x.$$)&&E>=k(p.graph[A],S)&&((b=p.$.get(A)._).put=D(b.put,S,E,C,A)),!O.soul&&E>=k(p.graph[A],S)&&(h=(p.$.get(A)._.next||"")[S])&&(h.put=C,typeof(b=T(C))=="string"&&(h.put=p.$.get(b)._.put||C)),this.to&&this.to.next(x),i.any&&setTimeout.each(Object.keys(i.any),function(o){(o=i.any[o])&&o(x)},0,99),i.echo&&setTimeout.each(Object.keys(i.echo),function(o){(o=i.echo[o])&&o.on("in",x)},0,99),((x.$$||"")._||O).soul&&(h=i.next)&&(h=h[S])&&(b={},Object.keys(x).forEach(function(o){b[o]=x[o]}),b.$=(x.$$||x.$).get(b.get=S),delete b.$$,delete b.$$$,h.on("in",b)),u(x,i))}r.on.in=s;function u(x,i){if(i=i||this.as||x.$._,!(x.$$&&this!==r.on)&&!(!x.put||i.soul)){var p=x.put||"",_=p["="]||p[":"],S,O=i.root,b=O.$.get(p["#"]).get(p["."])._;if(typeof(_=T(_))!="string"){this===r.on&&((b.echo||(b.echo={}))[i.id]=i);return}if(!((b.echo||(b.echo={}))[i.id]&&!(O.pass||"")[i.id])){if(S=O.pass){if(S[_+i.id])return;S[_+i.id]=1}(b.echo||(b.echo={}))[i.id]=i,i.has&&(i.link=_);var A=O.$.get(b.link=_)._;(A.echo||(A.echo={}))[b.id]=b;var S=i.ask||"";(S[""]||i.lex)&&A.on("out",{get:{"#":_}}),setTimeout.each(Object.keys(S),function(C,E){!C||!(E=S[C])||E.on("out",{get:{"#":_,".":C}})},0,99)}}}r.on.link=u;function v(x,i){var p=x.put||"",_=y!==p["="]?p["="]:p[":"],O=i.root,b,A;if(y===_){if(i.soul&&y!==i.put||(A=(x.$$||x.$||"")._||"",x["@"]&&(y!==A.put||y!==i.put)))return;(b=i.link||x.linked)&&delete(O.$.get(b)._.echo||"")[i.id],i.has&&(i.link=null),i.put=y,setTimeout.each(Object.keys(i.next||""),function(S,C){!(C=i.next[S])||(b&&delete(O.$.get(b).get(S)._.echo||"")[C.id],C.on("in",{get:S,put:y,$:C.$}))},0,99);return}i.soul||x.$$||(b=T(_),A=x.$._||"",!((b===A.link||i.has&&!A.link)&&!((O.pass||"")[i.id]&&typeof b!="string"))&&(delete(A.echo||"")[i.id],v({get:i.get,put:y,$:x.$,linked:x.linked=x.linked||A.link},i)))}r.on.unlink=v;function c(x,i){var p=this.as,_=p.$._;_.root;var O=p.get||"",b=(x.put||"")[O["#"]]||"";if(!x.put||typeof O["."]=="string"&&y===b[O["."]]){if(y!==_.put||!_.soul&&!_.has)return;_.ack=(_.ack||0)+1,_.on("in",{get:_.get,put:_.put=y,$:_.$,"@":x["@"]});return}(x._||{}).miss=1,r.on.put(x)}var l={},y,m=String.random,T=r.valid,d=function(x,i){return x&&Object.prototype.hasOwnProperty.call(x,i)},$=r.state,k=$.is,D=$.ify})(e,"./chain"),e(function(a){var r=e("./root");r.chain.get=function(y,m,T){var d,$;if(typeof y=="string"){if(y.length==0)return(d=this.chain())._.err={err:r.log("0 length key!",y)},m&&m.call(d,d._.err),d;var k=this,D=k._,x=D.next||v;(d=x[y])||(d=y&&f(y,k)),d=d&&d.$}else if(typeof y=="function"){let S=function(C,E,h){if(!S.stun&&!((j=p.pass)&&!j[_])){var o=C.$._,g=(C.$$||"")._,w=(g||o).put,I=!o.has&&!o.soul,N={},j;if((I||l===w)&&(w=l===((j=C.put)||"")["="]?l===(j||"")[":"]?j:j[":"]:j["="]),typeof(j=r.valid(w))=="string"&&(w=l===(j=p.$.get(j)._.put)?i.not?l:w:j),!(i.not&&l===w)){if(l===i.stun){if((j=p.stun)&&j.on&&(D.$.back(function(G){if(j.on(""+G.id,N={}),(N.run||0)<S.id)return N}),!N.run&&j.on(""+o.id,N={}),!N.run&&g&&j.on(""+g.id,N={}),S.id>N.run&&((!N.stun||N.stun.end)&&(N.stun=j.on("stun"),N.stun=N.stun&&N.stun.last),N.stun&&!N.stun.end))){(N.stun.add||(N.stun.add={}))[_]=function(){S(C,E,1)};return}if(l===w&&(h=0),(j=p.hatch)&&!j.end&&l===i.hatch&&!h){if(O[o.$._.id])return;O[o.$._.id]=1,j.push(function(){S(C,E,1)});return}O={}}if(p.pass){if(p.pass[_+o.id])return;p.pass[_+o.id]=1}if(i.on){i.ok.call(o.$,w,o.get,C,E||S);return}if(i.v2020){i.ok(C,E||S);return}Object.keys(C).forEach(function(G){j[G]=C[G]},j={}),C=j,C.put=w,i.ok.call(i.as,C,E||S)}}};var b=S;if(m===!0)return s(this,y,m,T),this;d=this;var D=d._,i=m||{},p=D.root,_;i.at=D,i.ok=y;var O={};return S.at=D,(D.any||(D.any={}))[_=String.random(7)]=S,S.off=function(){S.stun=1,D.any&&delete D.any[_]},S.rid=u,S.id=i.run||++p.once,$=p.pass,(p.pass={})[_]=1,i.out=i.out||{get:{}},D.on("out",i.out),p.pass=$,d}else{if(typeof y=="number")return this.get(""+y,m,T);if(typeof($=c(y))=="string")return this.get($,m,T);($=this.get.next)&&(d=$(this,y))}return d?(m&&typeof m=="function"&&d.get(m,T),d):((d=this.chain())._.err={err:r.log("Invalid get request!",y)},m&&m.call(d,d._.err),d)};function f(y,m){var T=m._,d=T.next,$=m.chain(),k=$._;return d||(d=T.next={}),d[k.get=y]=k,m===T.root.$?k.soul=y:(T.soul||T.has)&&(k.has=y),k}function s(y,m,T,d){var $=y._,k=0,D;return(D=$.soul||$.link)?m(D,d,$):$.jam?$.jam.push([m,d]):($.jam=[[m,d]],y.get(function(i,p){if(!(l===i.put&&!$.root.opt.super&&(D=Object.keys($.root.opt.peers).length)&&++k<=D)){p.rid(i);var _=(_=i.$)&&_._||{},O=0,b;for(D=$.jam,delete $.jam;b=D[O++];){var A=b[0];b=b[1],A&&A(_.link||_.soul||r.valid(i.put)||((i.put||{})._||{})["#"],b,i,p)}}},{out:{get:{".":!0}}}),y)}function u(y){var m=this.at||this.on;if(!y||m.soul||m.has)return this.off();if(!!(y=(y=(y=y.$||y)._||y).id)){m.map;var T;if((T=this.seen||(this.seen={}))[y])return!0;T[y]=!0}}var v={},c=r.valid,l})(e,"./get"),e(function(a){var r=e("./root");r.chain.put=function(d,$,k){var D=this,x=D._,i=x.root;k=k||{},k.root=x.root,k.run||(k.run=i.once),f(k,x.id),k.ack=k.ack||$,k.via=k.via||D,k.data=k.data||d,k.soul||(k.soul=x.soul||typeof $=="string"&&$);var p=k.state=k.state||r.state();return typeof d=="function"?(d(function(_){k.data=_,D.put(c,c,k)}),D):k.soul?(k.$=i.$.get(k.soul),k.todo=[{it:k.data,ref:k.$}],k.turn=k.turn||y,k.ran=k.ran||s,function _(){var O=k.todo,b=O.pop(),A=b.it;b.ref&&b.ref._.id;var S,C,E,h,o;if(f(k,b.ref),(h=b.todo)&&(C=h.pop(),A=A[C],h.length&&O.push(b)),C&&(O.path||(O.path=[])).push(C),!(S=m(A))&&!(o=r.is(A))){if(!Object.plain(A)){s.err(k,"Invalid data: "+v(A)+" at "+(k.via.back(function(j){j.get&&h.push(j.get)},h=[])||h.join("."))+"."+(O.path||[]).join("."));return}for(var g=k.seen||(k.seen=[]),w=g.length;w--;)if(A===(h=g[w]).it){S=A=h.link;break}}if(C&&S)b.node=T(b.node,C,p,A);else{let j=function(G,P){var L=E.link["#"];P&&(P.off(),P.rid(G));var M=L||G.soul||(h=(G.$$||G.$)._||"").soul||h.link||((h=h.put||"")._||"")["#"]||h["#"]||((h=G.put||"")&&G.$$?h["#"]:(h["="]||h[":"]||"")["#"]);if(!L&&f(k,G.$),!M&&!b.link["#"]){(b.wait||(b.wait=[])).push(function(){j(G,P)});return}M||(M=[],(G.$$||G.$).back(function(R){if(h=R.soul||R.link)return M.push(h);M.push(R.get)}),M=M.reverse().join("/")),E.link["#"]=M,!o&&(((k.graph||(k.graph={}))[M]=E.node||(E.node={_:{}}))._["#"]=M),delete k.wait[I],E.wait&&setTimeout.each(E.wait,function(R){R&&R()}),k.ran(k)};var N=j;if(!k.seen){s.err(k,"Data at root of graph must be a node (an object).");return}k.seen.push(E={it:A,link:{},todo:o?[]:Object.keys(A).sort().reverse(),path:(O.path||[]).slice(),up:b}),b.node=T(b.node,C,p,E.link),!o&&E.todo.length&&O.push(E);var I=k.seen.length;(k.wait||(k.wait={}))[I]="",h=(E.ref=o?A:C?b.ref.get(C):b.ref)._,(h=A&&(A._||"")["#"]||h.soul||h.link)?j({soul:h}):E.ref.get(j,{run:k.run,v2020:1,out:{get:{".":" "}}})}if(!O.length)return k.ran(k);k.turn(_)}(),D):(u(k),D)};function f(d,$){if(!!$){$=($._||"").id||$;var k=d.root.stun||(d.root.stun={on:r.on}),D={},x;d.stun||(d.stun=k.on("stun",function(){})),(x=k.on(""+$))&&x.the.last.next(D),!(D.run>=d.run)&&k.on(""+$,function(i){if(d.stun.end){this.off(),this.to.next(i);return}i.run=i.run||d.run,i.stun=i.stun||d.stun})}}function s(d){if(d.err){s.end(d.stun,d.root);return}if(!(d.todo.length||d.end||!Object.empty(d.wait))){d.end=1;var $=d.$.back(-1)._,k=$.root,D=$.ask(function(_){k.on("ack",_),_.err&&!_.lack&&r.log(_),++x>(d.acks||0)&&this.off(),d.ack&&d.ack(_,this)},d.opt),x=0,i=d.stun,p;(p=function(){!i||(s.end(i,k),setTimeout.each(Object.keys(i=i.add||""),function(_){(_=i[_])&&_()}))}).hatch=p,d.ack&&!d.ok&&(d.ok=d.acks||9),d.via._.on("out",{put:d.out=d.graph,ok:d.ok&&{"@":d.ok+1},opt:d.opt,"#":D,_:p})}}s.end=function(d,$){d.end=l,d.the.to===d&&d===d.the.last&&delete $.stun,d.off()},s.err=function(d,$){(d.ack||l).call(d,d.out={err:d.err=r.log($)}),d.ran(d)};function u(d){var $=d.via._,k;d.via=d.via.back(function(D){if(D.soul||!D.get)return D.$;k=d.data,(d.data={})[D.get]=k}),(!d.via||!d.via._.soul)&&(d.via=$.root.$.get(((d.data||"")._||"")["#"]||$.$.back("opt.uuid")())),d.via.put(d.data,d.ack,d)}function v(d,$){return d&&($=d.constructor)&&$.name||typeof d}var c,l=function(){},y=setTimeout.turn,m=r.valid,T=r.state.ify})(e,"./put"),e(function(a){var r=e("./root");e("./chain"),e("./back"),e("./put"),e("./get"),a.exports=r})(e,"./index"),e(function(a){var r=e("./index");r.chain.on=function(u,v,c,l){var y=this,m=y._;m.root;var T;if(typeof u=="string")return v?(T=m.on(u,v,c||m,l),c&&c.$&&(c.subs||(c.subs=[])).push(T),y):m.on(u);var d=v;return(d=d===!0?{change:!0}:d||{}).not=1,d.on=1,y.get(u,d),y},r.chain.once=function(u,v){if(v=v||{},!u)return f(this);var c=this,l=c._,y=l.root;l.put;var m=String.random(7),T;return c.get(function(d,$,k,D){var x=this,i=x._,p=i.one||(i.one={});if(D.stun||p[m]==="")return;if((T=r.valid(d))===!0){_();return}if(typeof T=="string")return;clearTimeout((l.one||"")[m]),clearTimeout(p[m]),p[m]=setTimeout(_,v.wait||99);function _(O){if(!i.has&&!i.soul&&(i={put:d,get:$}),s===(T=i.put)&&(T=((k.$$||"")._||"").put),typeof r.valid(T)=="string"&&(T=y.$.get(T)._.put,T===s&&!O)){p[m]=setTimeout(function(){_(1)},v.wait||99);return}D.stun||p[m]!==""&&(p[m]="",(l.soul||l.has)&&D.off(),u.call(x,T,i.get),clearTimeout(p[m]))}},{on:1}),c};function f(u,v,c){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(c=u.chain())._.nix=u.once(function(l,y){c._.on("in",this._)}),c._.lex=u._.lex,c}r.chain.off=function(){var u=this,v=u._,c,l=v.back;if(!!l)return v.ack=0,(c=l.next)&&c[v.get]&&delete c[v.get],(c=l.ask)&&delete c[v.get],(c=l.put)&&delete c[v.get],(c=v.soul)&&delete l.root.graph[c],(c=v.map)&&Object.keys(c).forEach(function(y,m){m=c[y],m.link&&l.root.$.get(m.link).off()}),(c=v.next)&&Object.keys(c).forEach(function(y,m){m=c[y],m.$.off()}),v.on("off",{}),u};var s})(e,"./on"),e(function(a){var r=e("./index"),f=r.chain.get.next;r.chain.get.next=function(c,l){var y;return Object.plain(l)?(y=((y=l["#"])||"")["="]||y)?c.get(y):((y=c.chain()._).lex=l,c.on("in",function(m){String.match(m.get||(m.put||"")["."],l["."]||l["#"]||l)&&y.on("in",m),this.to.next(m)}),y.$):(f||u)(c,l)},r.chain.map=function(c,l,y){var m=this,T=m._,d,$;return Object.plain(c)&&(d=c["."]?c:{".":c},c=v),c?(r.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),$=m.chain(),m.map().on(function(k,D,x,i){var p=(c||u).call(this,k,D,x,i);if(v!==p){if(k===p)return $._.on("in",x);if(r.is(p))return $._.on("in",p._);var _={};Object.keys(x.put).forEach(function(O){_[O]=x.put[O]},_),_["="]=p,$._.on("in",{get:D,put:_})}}),$):(($=T.each)||((T.each=$=m.chain())._.lex=d||$._.lex||T.lex,$._.nix=m.back("nix"),m.on("in",s,$._)),$)};function s(c){this.to.next(c);var l=this.as,y=c.$,m=y._,T=c.put,d;!m.soul&&!c.$$||(d=l.lex)&&!String.match(c.get||(T||"")["."],d["."]||d["#"]||d)||r.on.link(c,l)}var u=function(){},v})(e,"./map"),e(function(a){var r=e("./index");r.chain.set=function(f,s,u){var v=this,c=v.back(-1),l,y;return s=s||function(){},u=u||{},u.item=u.item||f,(l=((f||"")._||"")["#"])&&((f={})["#"]=l),typeof(y=r.valid(f))=="string"?v.get(l=y).put(f,s,u):r.is(f)?(v.put(function(m){f.get(function(T,d,$){if(!T)return s.call(v,{err:r.log('Only a node can be linked! Not "'+$.put+'"!')});(y={})[T]={"#":T},m(y)},!0)}),f):(Object.plain(f)&&(f=c.get(l=v.back("opt.uuid")()).put(f)),v.get(l||c.back("opt.uuid")(7)).put(f,s,u))}})(e,"./set"),e(function(a){e("./shim");var r=function(){},f=JSON.parseAsync||function(c,l,y){var m,T=+new Date;try{l(m,JSON.parse(c,y),s.sucks(+new Date-T))}catch(d){l(d)}},s=JSON.stringifyAsync||function(c,l,y,m){var T,d=+new Date;try{l(T,JSON.stringify(c,y,m),s.sucks(+new Date-d))}catch($){l($)}};s.sucks=function(c){c>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),s.sucks=r)};function u(c){var l=function(){},y=c.opt||{};y.log=y.log||console.log,y.gap=y.gap||y.wait||0,y.max=y.max||(y.memory?y.memory*999*999:3e8)*.3,y.pack=y.pack||y.max*.01*.01,y.puff=y.puff||9;var m=setTimeout.turn||setTimeout,T=c.dup,d=T.check,$=T.track,k=l.hear=function(i,p){if(!!i){if(y.max<=i.length)return l.say({dam:"!",err:"Message too big!"},p);l===this&&(k.d+=i.length||0,++k.c);var _=p.SH=+new Date,O=i[0],b;if(O==="["){f(i,function(A,S){if(A||!S)return l.say({dam:"!",err:"DAM JSON parse error."},p);console.STAT&&console.STAT(+new Date,S.length,"# on hear batch");var C=y.puff;(function E(){for(var h=+new Date,o=0,g;o<C&&(g=S[o++]);)l.hear(g,p);S=S.slice(o),console.STAT&&console.STAT(h,+new Date-h,"hear loop"),D(p),S.length&&m(E,0)})()}),i="";return}if(O==="{"||(i["#"]||Object.plain(i))&&(b=i)){if(b)return k.one(b,p,_);f(i,function(A,S){if(A||!S)return l.say({dam:"!",err:"DAM JSON parse error."},p);k.one(S,p,_)});return}}};k.one=function(i,p,E){var O,b,A,S,C;if(i.DBG&&(i.DBG=C={DBG:i.DBG}),C&&(C.h=E),C&&(C.hp=+new Date),(O=i["#"])||(O=i["#"]=String.random(9)),!(A=d(O))&&(b=i["##"],!(b&&(A=i["@"]||i.get&&O)&&T.check(S=A+b)))){if((i._=function(){}).via=l.leap=p,(A=i["><"])&&typeof A=="string"&&A.slice(0,99).split(",").forEach(function(h){this[h]=1},i._.yo={}),A=i.dam){(A=l.hear[A])&&A(i,p,c),$(O);return}(A=i.ok)&&(i._.near=A["/"]);var E=+new Date;C&&(C.is=E),p.SI=O,c.on("in",l.last=i),C&&(C.hd=+new Date),console.STAT&&console.STAT(E,+new Date-E,i.get?"msg get":i.put?"msg put":"msg"),(A=$(O)).via=p,i.get&&(A.it=i),S&&$(S),l.leap=l.last=null}},k.c=k.d=0,function(){var i=0,p;l.hash=function(b,A){var S,C,E,h=+new Date;s(b.put,function o(g,w){var I=(C||(C=E=w||"")).slice(0,32768);if(S=String.hash(I,S),C=C.slice(32768),C){m(o,0);return}console.STAT&&console.STAT(h,+new Date-h,"say json+hash"),b._.$put=E,b["##"]=S,l.say(b,A),delete b._.$put},_)};function _(b,A){var S;return A instanceof Object?(Object.keys(A).sort().forEach(O,{to:S={},on:A}),S):A}function O(b){this.to[b]=this.on[b]}l.say=function(b,A){var S;if((S=this)&&(S=S.to)&&S.next&&S.next(b),!b)return!1;var C,E,h=b["@"],o=b._||(b._=function(){}),g=b.DBG,w=+new Date;if(o.y=o.y||w,A||g&&(g.y=w),(C=b["#"])||(C=b["#"]=String.random(9)),!p&&$(C),!b["##"]&&v!==b.put&&!o.via&&h){l.hash(b,A);return}if(!A&&h&&(A=(S=T.s[h])&&(S.via||(S=S.it)&&(S=S._)&&S.via)||(S=l.last)&&h===S["#"]&&l.leap),!A&&h)return T.s[h]?void 0:(console.STAT&&console.STAT(+new Date,++i,"total no peer to ack to"),!1);if(!A&&l.way)return l.way(b);if(g&&(g.yh=+new Date),!(E=o.raw)){l.raw(b,A);return}if(g&&(g.yr=+new Date),!A||!A.id){if(!Object.plain(A||y.peers))return!1;var w=+new Date;y.puff;var I=y.peers,N=Object.keys(A||y.peers||{});console.STAT&&console.STAT(w,+new Date-w,"peer keys"),function P(){var L=+new Date;p=1;var M=o.raw;o.raw=E;for(var R=0,B;R<9&&(B=(N||"")[R++]);)!(B=I[B]||(A||"")[B])||l.say(b,B);o.raw=M,p=0,N=N.slice(R),console.STAT&&console.STAT(L,+new Date-L,"say loop"),N.length&&(m(P,0),h&&$(h))}();return}if(!A.wire&&l.wire&&l.wire(A),C!==A.last){if(A.last=C,A===o.via||(S=o.yo)&&(S[A.url]||S[A.pid]||S[A.id]))return!1;if(console.STAT&&console.STAT(w,((g||o).yp=+new Date)-(o.y||w),"say prep"),!p&&h&&$(h),A.batch){if(A.tail=(S=A.tail||0)+E.length,A.tail<=y.pack){A.batch+=(S?",":"")+E;return}D(A)}A.batch="[";var j=+new Date;setTimeout(function(){console.STAT&&console.STAT(j,+new Date-j,"0ms TO"),D(A)},y.gap),x(E,A),console.STAT&&h===A.SI&&console.STAT(w,+new Date-A.SH,"say ack")}},l.say.c=l.say.d=0,l.raw=function(b,A){if(!b)return"";var S=b._||{},C,E;if(E=S.raw)return E;if(typeof b=="string")return b;var h=b["##"],o=b["@"];if(h&&o){if(!S.via&&d(o+h))return!1;if((E=(T.s[o]||"").it)||(E=l.last)&&o===E["#"]){if(h===E["##"])return!1;E["##"]||(E["##"]=h)}}if(!b.dam&&!b["@"]){var g=0,w=[];E=y.peers;for(var I in E){var N=E[I];if(w.push(N.url||N.pid||N.id),++g>6)break}g>1&&(b["><"]=w.join())}if(b.put&&(E=b.ok)&&(b.ok={"@":(E["@"]||1)-1,"/":E["/"]==b._.near?l.near:E["/"]}),C=S.$put){E={},Object.keys(b).forEach(function(G){E[G]=b[G]}),E.put=":])([:",s(E,function(G,P){if(!G){var L=+new Date;E=P.indexOf('"put":":])([:"'),j(v,P=P.slice(0,E+6)+C+P.slice(E+14)),console.STAT&&console.STAT(L,+new Date-L,"say slice")}});return}s(b,j);function j(G,P){G||(S.raw=P,l.say(b,A))}}}();function D(i){var p=i.batch,_=typeof p=="string";if(_&&(p+="]"),i.batch=i.tail=null,!!p&&!(_?3>p.length:!p.length)){if(!_)try{p=p.length===1?p[0]:JSON.stringify(p)}catch(O){return y.log("DAM JSON stringify error",O)}!p||x(p,i)}}function x(i,p){try{var _=p.wire;p.say?p.say(i):_.send&&_.send(i),l.say.d+=i.length||0,++l.say.c}catch{(p.queue=p.queue||[]).push(i)}}return l.near=0,l.hi=function(i){var p=i.wire,_;if(!p){l.wire(i.length&&{url:i,id:i}||i);return}i.id?y.peers[i.url||i.id]=i:(_=i.id=i.id||i.url||String.random(9),l.say({dam:"?",pid:c.opt.pid},y.peers[_]=i),delete T.s[i.last]),i.met||(l.near++,i.met=+new Date,c.on("hi",i)),_=i.queue,i.queue=[],setTimeout.each(_||[],function(O){x(O,i)},0,9)},l.bye=function(i){i.met&&--l.near,delete i.met,c.on("bye",i);var p=+new Date;p=p-(i.met||p),l.bye.time=((l.bye.time||p)+p)/2},l.hear["!"]=function(i,p){y.log("Error:",i.err)},l.hear["?"]=function(i,p){i.pid&&(p.pid||(p.pid=i.pid),i["@"])||(l.say({dam:"?",pid:y.pid,"@":i["#"]},p),delete T.s[p.last])},l.hear.mob=function(i,p){if(!!i.peers){var _=Object.keys(i.peers),O=_[Math.random()*_.length>>0];!O||(l.bye(p),l.hi(O))}},c.on("create",function(i){i.opt.pid=i.opt.pid||String.random(9),this.to.next(i),i.on("out",l.say)}),c.on("bye",function(i,p){i=y.peers[i.id||i]||i,this.to.next(i),i.bye?i.bye():(p=i.wire)&&p.close&&p.close(),delete y.peers[i.id],i.wire=null}),c.on("bye",function(i,p){this.to.next(i),(p=console.STAT)&&(p.peers=l.near),(p=i.url)&&setTimeout(function(){},y.lack||9e3)}),c.on("hi",function(i,p){if(this.to.next(i),(p=console.STAT)&&(p.peers=l.near),!y.super){var _=Object.keys(c.next||"");_.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(_,function(O){var b=c.next[O];if(y.super||(b.ask||"")[""]){l.say({get:{"#":O}},i);return}setTimeout.each(Object.keys(b.ask||""),function(A){!A||l.say({"##":String.hash((c.graph[O]||"")[A]),get:{"#":O,".":A}},i)})})}}),l}var v;try{a.exports=u}catch{}})(e,"./mesh"),e(function(a){var r=e("./index");r.Mesh=e("./mesh"),r.on("opt",function(s){if(this.to.next(s),s.once)return;var u=s.opt;if(u.WebSocket===!1)return;var v=r.window||{},c=u.WebSocket||v.WebSocket||v.webkitWebSocket||v.mozWebSocket;if(!c)return;u.WebSocket=c;var l=u.mesh=u.mesh||r.Mesh(s);l.wire||u.wire,l.wire=u.wire=y;function y($){try{if(!$||!$.url)return D&&D($);var k=$.url.replace(/^http/,"ws"),D=$.wire=new u.WebSocket(k);return D.onclose=function(){T($),u.mesh.bye($)},D.onerror=function(x){T($)},D.onopen=function(){u.mesh.hi($)},D.onmessage=function(x){!x||u.mesh.hear(x.data||x,$)},D}catch{u.mesh.bye($)}}setTimeout(function(){!u.super&&s.on("out",{dam:"hi"})},1);var m=2*999;function T($){clearTimeout($.defer),u.peers[$.url]&&(d&&$.retry<=0||($.retry=($.retry||u.retry+1||60)-(-$.tried+($.tried=+new Date)<m*4?1:0),$.defer=setTimeout(function k(){if(d&&d.hidden)return setTimeout(k,m);y($)},m)))}var d=""+f!=typeof document&&document});var f})(e,"./websocket"),e(function(a){if(!(typeof Gun>"u")){var r=function(){},f;try{f=(Gun.window||r).localStorage}catch{}f||(Gun.log("Warning: No localStorage exists to persist data to!"),f={setItem:function(u,v){this[u]=v},removeItem:function(u){delete this[u]},getItem:function(u){return this[u]}});var s=JSON.stringifyAsync||function(u,v,c,l){var y;try{v(y,JSON.stringify(u,c,l))}catch(m){v(m)}};Gun.on("create",function u(v){this.to.next(v);var c=v.opt;v.graph;var l=[],y,m,T,d;if(c.localStorage===!1)return;c.prefix=c.file||"gun/";try{y=u[c.prefix]=u[c.prefix]||JSON.parse(T=f.getItem(c.prefix))||{}}catch{y=u[c.prefix]={}}T=(T||"").length,v.on("get",function(k){this.to.next(k);var D=k.get,x,i,p,_;!D||!(x=D["#"])||(i=y[x]||_,i&&(p=D["."])&&!Object.plain(p)&&(i=Gun.state.ify({},p,Gun.state.is(i,p),i[p],x)),Gun.on.get.ack(k,i))}),v.on("put",function(k){this.to.next(k);var D=k.put,x=D["#"],i=D["."],p=k["#"],_=k.ok||"";if(y[x]=Gun.state.ify(y[x],i,D[">"],D[":"],x),d&&T>4999880){v.on("in",{"@":p,err:"localStorage max!"});return}!k["@"]&&(!k._.via||Math.random()<_["@"]/_["/"])&&l.push(p),!m&&(m=setTimeout($,9+T/333))});function $(){if(!l.length&&((setTimeout.turn||"").s||"").length){setTimeout($,99);return}var k=l;clearTimeout(m),m=!1,l=[],s(y,function(D,x){try{!D&&f.setItem(c.prefix,x)}catch(i){D=d=i||"localStorage failure"}D&&(Gun.log(D+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),v.on("localStorage:error",{err:D,get:c.prefix,put:y})),T=x.length,setTimeout.each(k,function(i){v.on("in",{"@":i,err:D,ok:0})},0,99)})}})}})(e,"./localStorage")})(),function(){var E;if(""+E!=typeof Gun){var e=function(h){console.warn("Warning! Deprecated internal utility will break in next version:",h)},n=Gun;n.fn=n.fn||{is:function(h){return e("fn"),!!h&&typeof h=="function"}},n.bi=n.bi||{is:function(h){return e("bi"),h instanceof Boolean||typeof h=="boolean"}},n.num=n.num||{is:function(h){return e("num"),!a(h)&&(h-parseFloat(h)+1>=0||h===1/0||h===-1/0)}},n.text=n.text||{is:function(h){return e("text"),typeof h=="string"}},n.text.ify=n.text.ify||function(h){return e("text.ify"),n.text.is(h)?h:typeof JSON<"u"?JSON.stringify(h):h&&h.toString?h.toString():h},n.text.random=n.text.random||function(h,o){e("text.random");var g="";for(h=h||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";h>0;)g+=o.charAt(Math.floor(Math.random()*o.length)),h--;return g},n.text.match=n.text.match||function(h,o){var g,w;return e("text.match"),typeof h!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},g=o["="]||o["*"]||o[">"]||o["<"],h===g?!0:w!==o["="]?!1:(g=o["*"]||o[">"]||o["<"],h.slice(0,(g||"").length)===g?!0:w!==o["*"]?!1:w!==o[">"]&&w!==o["<"]?h>=o[">"]&&h<=o["<"]:w!==o[">"]&&h>=o[">"]||w!==o["<"]&&h<=o["<"]))},n.text.hash=n.text.hash||function(h,o){if(e("text.hash"),typeof h=="string"){if(o=o||0,!h.length)return o;for(var g=0,w=h.length,I;g<w;++g)I=h.charCodeAt(g),o=(o<<5)-o+I,o|=0;return o}},n.list=n.list||{is:function(h){return e("list"),h instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(h){return e("list.sort"),function(o,g){return!o||!g?0:(o=o[h],g=g[h],o<g?-1:o>g?1:0)}},n.list.map=n.list.map||function(h,o,g){return e("list.map"),S(h,o,g)},n.list.index=1,n.obj=n.boj||{is:function(h){return e("obj"),h?h instanceof Object&&h.constructor===Object||Object.prototype.toString.call(h).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},n.obj.put=n.obj.put||function(h,o,g){return e("obj.put"),(h||{})[o]=g,h},n.obj.has=n.obj.has||function(h,o){return e("obj.has"),h&&Object.prototype.hasOwnProperty.call(h,o)},n.obj.del=n.obj.del||function(h,o){if(e("obj.del"),!!h)return h[o]=null,delete h[o],h},n.obj.as=n.obj.as||function(h,o,g,w){return e("obj.as"),h[o]=h[o]||(w===g?{}:g)},n.obj.ify=n.obj.ify||function(h){if(e("obj.ify"),p(h))return h;try{h=JSON.parse(h)}catch{h={}}return h},function(){var h;function o(g,w){O(this,w)&&h!==this[w]||(this[w]=g)}n.obj.to=n.obj.to||function(g,w){return e("obj.to"),w=w||{},S(g,o,w),w}}(),n.obj.copy=n.obj.copy||function(h){return e("obj.copy"),h&&JSON.parse(JSON.stringify(h))},function(){function h(o,g){var w=this.n,I;if(!(w&&(g===w||p(w)&&O(w,g)))&&I!==g)return!0}n.obj.empty=n.obj.empty||function(o,g){return e("obj.empty"),o?!S(o,h,{n:g}):!0}}(),function(){function h(w,I){if(arguments.length===2){h.r=h.r||{},h.r[w]=I;return}h.r=h.r||[],h.r.push(w)}var o=Object.keys,g;Object.keys=Object.keys||function(w){return g(w,function(I,N,j){j(N)})},n.obj.map=g=n.obj.map||function(w,I,N){e("obj.map");var j,G=0,P,L,M,R,B=typeof I=="function";if(h.r=j,o&&p(w)&&(M=o(w),R=!0),N=N||{},a(w)||M)for(P=(M||w).length;G<P;G++){var z=G+n.list.index;if(B){if(L=R?I.call(N,w[M[G]],M[G],h):I.call(N,w[G],z,h),L!==j)return L}else if(I===w[R?M[G]:G])return M?M[G]:z}else for(G in w)if(B){if(O(w,G)&&(L=N?I.call(N,w[G],G,h):I(w[G],G,h),L!==j))return L}else if(I===w[G])return G;return B?h.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(h){return e("time"),h?h instanceof Date:+new Date().getTime()};var x=n.fn.is,a=n.list.is,i=n.obj,p=i.is,O=i.has,S=i.map,r={};r.is=function(h){return e("val.is"),h===E?!1:h===null?!0:h===1/0?!1:u(h)||s(h)||d(h)?!0:r.link.is(h)||!1},r.link=r.rel={_:"#"},function(){r.link.is=function(o){if(e("val.link.is"),o&&o[f]&&!o._&&p(o)){var g={};if(S(o,h,g),g.id)return g.id}return!1};function h(o,g){var w=this;if(w.id)return w.id=!1;if(g==f&&u(o))w.id=o;else return w.id=!1}}(),r.link.ify=function(h){return e("val.link.ify"),A({},f,h)},n.obj.has._=".";var f=r.link._,E,s=n.bi.is,d=n.num.is,u=n.text.is,i=n.obj,p=i.is,A=i.put,S=i.map;n.val=n.val||r;var v={_:"_"};v.soul=function(h,o){return e("node.soul"),h&&h._&&h._[o||y]},v.soul.ify=function(h,o){return e("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},h=h||{},h._=h._||{},h._[y]=o.soul||h._[y]||l(),h},v.soul._=r.link._,function(){v.is=function(o,g,w){e("node.is");var I;return p(o)&&(I=v.soul(o))?!S(o,h,{as:w,cb:g,s:I,n:o}):!1};function h(o,g){if(g!==v._){if(!r.is(o))return!0;this.cb&&this.cb.call(this.as,o,g,this.n,this.s)}}}(),function(){v.ify=function(o,g,w){return e("node.ify"),g?typeof g=="string"?g={soul:g}:typeof g=="function"&&(g={map:g}):g={},g.map&&(g.node=g.map.call(w,o,E,g.node||{})),(g.node=v.soul.ify(g.node||{},g))&&S(o,h,{o:g,as:w}),g.node};function h(o,g){var w=this.o,I,N;if(w.map){I=w.map.call(this.as,o,""+g,w.node),N===I?_(w.node,g):w.node&&(w.node[g]=I);return}r.is(o)&&(w.node[g]=o)}}();var i=n.obj,p=i.is,_=i.del,S=i.map,c=n.text,l=c.random,y=v.soul._,E;n.node=n.node||v;var m=n.state;m.lex=function(){return e("state.lex"),m().toString(36).replace(".","")},m.to=function(h,o,g){e("state.to");var w=(h||{})[o];return p(w)&&(w=C(w)),m.ify(g,o,m.is(h,o),w,v.soul(h))},function(){m.map=function(o,g,w){e("state.map");var I,N=p(N=o||g)?N:null;return o=x(o=o||g)?o:null,N&&!o?(g=d(g)?g:m(),N[k]=N[k]||{},S(N,h,{o:N,s:g}),N):(w=w||p(g)?g:I,g=d(g)?g:m(),function(j,G,P,L){if(!o)return h.call({o:P,s:g},j,G),j;o.call(w||this||{},j,G,P,L),!(O(P,G)&&I===P[G])&&h.call({o:P,s:g},j,G)})};function h(o,g){k!==g&&m.ify(this.o,g,this.s)}}();var i=n.obj;i.as;var O=i.has,p=i.is,S=i.map,C=i.copy,T=n.num,d=T.is,$=n.fn,x=$.is,k=v._,E,D={};(function(){D.is=function(g,w,I,N){return e("graph.is"),!g||!p(g)||b(g)?!1:!S(g,h,{cb:w,fn:I,as:N})};function h(g,w){if(!g||w!==v.soul(g)||!v.is(g,this.fn,this.as))return!0;!this.cb||(o.n=g,o.as=this.as,this.cb.call(o.as,g,w,o))}function o(g){g&&v.is(o.n,g,o.as)}})(),function(){D.ify=function(N,j,G){e("graph.ify");var P={path:[],obj:N};return j?typeof j=="string"?j={soul:j}:typeof j=="function"&&(j.map=j):j={},typeof G=="string"&&(j.soul=j.soul||G,G=E),j.soul&&(P.link=r.link.ify(j.soul)),j.shell=(G||{}).shell,j.graph=j.graph||{},j.seen=j.seen||[],j.as=j.as||G,h(j,P),j.root=P.node,j.graph};function h(N,j){var G;return(G=I(N,j))?G:(j.env=N,j.soul=g,v.ify(j.obj,o,j)&&(j.link=j.link||r.link.ify(v.soul(j.node)),j.obj!==N.shell&&(N.graph[r.link.is(j.link)]=j.node)),j)}function o(N,j,G){var P=this,L=P.env,M,R;if(v._===j&&O(N,r.link._))return G._;if(!!(M=w(N,j,G,P,L))){if(j||(P.node=P.node||G||{},O(N,v._)&&v.soul(N)&&(P.node._=C(N._)),P.node=v.soul.ify(P.node,r.link.is(P.link)),P.link=P.link||r.link.ify(v.soul(P.node))),(R=L.map)&&(R.call(L.as||{},N,j,G,P),O(G,j))){if(N=G[j],E===N){_(G,j);return}if(!(M=w(N,j,G,P,L)))return}if(!j)return P.node;if(M===!0)return N;if(R=h(L,{obj:N,path:P.path.concat(j)}),!!R.node)return R.link}}function g(N){var j=this,G=r.link.is(j.link),P=j.env.graph;j.link=j.link||r.link.ify(N),j.link[r.link._]=N,j.node&&j.node[v._]&&(j.node[v._][r.link._]=N),O(P,G)&&(P[N]=P[G],_(P,G))}function w(N,j,G,P,L){var M;if(r.is(N))return!0;if(p(N))return 1;if(M=L.invalid)return N=M.call(L.as||{},N,j,G),w(N,j,G,P,L);L.err="Invalid value at '"+P.path.concat(j).join(".")+"'!",n.list.is(N)&&(L.err+=" Use `.set(item)` instead of an Array.")}function I(N,j){for(var G=N.seen,P=G.length,L;P--;)if(L=G[P],j.obj===L.obj)return L;G.push(j)}}(),D.node=function(h){e("graph.node");var o=v.soul(h);if(!!o)return A({},o,h)},function(){D.to=function(o,g,w){if(e("graph.to"),!!o){var I={};return w=w||{seen:{}},S(o[g],h,{obj:I,graph:o,opt:w}),I}};function h(o,g){var w,I;if(v._===g){if(b(o,r.link._))return;this.obj[g]=C(o);return}if(!(w=r.link.is(o))){this.obj[g]=o;return}if(I=this.opt.seen[w]){this.obj[g]=I;return}this.obj[g]=this.opt.seen[w]=D.to(this.graph,w,this.opt)}}();var x=n.fn.is,i=n.obj,p=i.is,_=i.del,O=i.has,b=i.empty,A=i.put,S=i.map,C=i.copy,E;n.graph=n.graph||D}}()})(ae);(function(t){t.exports=ae.exports})(fe);const Sn=$n(fe.exports),Tn=st('<div><div class="grid grid-cols-3 grid-rows-3"></div></div>'),An=Sn("https://mvp-gun.herokuapp.com/gun"),On=()=>{const[t,e]=tt(Array.from({length:9},()=>F.None)),[n,a]=tt(F.Circle);let r=F.None;const f=V(()=>{const m=Je(t());return m!==F.None&&(r=F.None),m}),s=m=>{let T=t(),d=n();r===F.None&&(r=d),d===r&&T[m]===F.None&&(T[m]=d,e([...T]),d=qe(d),a(d),v())},u=()=>{e(Array.from({length:9},()=>F.None)),a(F.Circle),r=F.None,v()},v=()=>{y.put({field:{...t()},turn:n()})},c=yn();let l=c.query.id;if(!l){l=xn();const m=c.pathname;pn()(`${m}?id=${l}`,{replace:!0})}const y=An.get(l);return y.get("field").on(m=>{const T=Object.values(m),d=T.slice(0,T.length-1);e(d)}),y.get("turn").on(m=>{a(m)}),(()=>{const m=Tn.cloneNode(!0),T=m.firstChild;return X(T,J(je,{get each(){return t()},children:(d,$)=>J(ze,{state:d,onClick:()=>s($())})})),X(m,J(re,{get children(){return[J(ht,{get when(){return f()===F.Circle},get children(){return J(jt,{restartGame:u,result:"Winner: Circle"})}}),J(ht,{get when(){return f()===F.Cross},get children(){return J(jt,{restartGame:u,result:"Winner: Cross"})}}),J(ht,{get when(){return f()===F.Draw},get children(){return J(jt,{restartGame:u,result:"Draw"})}})]}}),null),m})()},Dn=st('<div class="absolute inset-0 flex justify-center items-center"></div>'),Nn=()=>J(wn,{get children(){const t=Dn.cloneNode(!0);return X(t,J(On,{})),t}});Ee(()=>J(Nn,{}),document.getElementById("root"));
