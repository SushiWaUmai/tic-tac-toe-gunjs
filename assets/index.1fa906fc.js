(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const Z={},ae=(e,t)=>e===t,le=Symbol("solid-proxy"),ce=Symbol("solid-track"),bt={equals:ae};let he=Zt;const ot=1,mt=2,Ft={owned:null,cleanups:null,context:null,owner:null};var U=null;let rt=null,q=null,F=null,it=null,Ot=0;function vt(e,t){const n=q,a=U,r=e.length===0,l=r?Ft:{owned:null,cleanups:null,context:null,owner:t||a},s=r?e:()=>e(()=>Y(()=>Nt(l)));U=l,q=null;try{return ut(s,!0)}finally{q=n,U=a}}function tt(e,t){t=t?Object.assign({},bt,t):bt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},a=r=>(typeof r=="function"&&(r=r(n.value)),Xt(n,r));return[zt.bind(n),a]}function Q(e,t,n){const a=Qt(e,t,!1,ot);_t(a)}function K(e,t,n){n=n?Object.assign({},bt,n):bt;const a=Qt(e,t,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=n.equals||void 0,_t(a),zt.bind(a)}function Y(e){let t,n=q;return q=null,t=e(),q=n,t}function de(e,t,n){const a=Array.isArray(e);let r,l=n&&n.defer;return s=>{let u;if(a){u=Array(e.length);for(let c=0;c<e.length;c++)u[c]=e[c]()}else u=e();if(l){l=!1;return}const v=Y(()=>t(u,r,s));return r=u,v}}function Ct(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function pe(){return U}function ye(e,t){const n=U;U=e;try{return ut(t,!0)}finally{U=n}}function ge(e){const t=q,n=U;return Promise.resolve().then(()=>{q=t,U=n;let a;return ut(e,!1),q=U=null,a?a.done:void 0})}function Kt(e){const t=Symbol("context");return{id:t,Provider:me(t),defaultValue:e}}function Ht(e){let t;return(t=ne(U,e.id))!==void 0?t:e.defaultValue}function Vt(e){const t=K(e),n=K(()=>At(t()));return n.toArray=()=>{const a=n();return Array.isArray(a)?a:a!=null?[a]:[]},n}function zt(){const e=rt;if(this.sources&&(this.state||e))if(this.state===ot||e)_t(this);else{const t=F;F=null,ut(()=>kt(this),!1),F=t}if(q){const t=this.observers?this.observers.length:0;q.sources?(q.sources.push(this),q.sourceSlots.push(t)):(q.sources=[this],q.sourceSlots=[t]),this.observers?(this.observers.push(q),this.observerSlots.push(q.sources.length-1)):(this.observers=[q],this.observerSlots=[q.sources.length-1])}return this.value}function Xt(e,t,n){let a=e.value;return(!e.comparator||!e.comparator(a,t))&&(e.value=t,e.observers&&e.observers.length&&ut(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],s=rt&&rt.running;s&&rt.disposed.has(l),(s&&!l.tState||!s&&!l.state)&&(l.pure?F.push(l):it.push(l),l.observers&&te(l)),s||(l.state=ot)}if(F.length>1e6)throw F=[],new Error},!1)),t}function _t(e){if(!e.fn)return;Nt(e);const t=U,n=q,a=Ot;q=U=e,ve(e,e.value,a),q=n,U=t}function ve(e,t,n){let a;try{a=e.fn(t)}catch(r){e.pure&&(e.state=ot),ee(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Xt(e,a):e.value=a,e.updatedAt=n)}function Qt(e,t,n,a=ot,r){const l={fn:e,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:null,pure:n};return U===null||U!==Ft&&(U.owned?U.owned.push(l):U.owned=[l]),l}function Yt(e){const t=rt;if(e.state===0||t)return;if(e.state===mt||t)return kt(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ot);)(e.state||t)&&n.push(e);for(let a=n.length-1;a>=0;a--)if(e=n[a],e.state===ot||t)_t(e);else if(e.state===mt||t){const r=F;F=null,ut(()=>kt(e,n[0]),!1),F=r}}function ut(e,t){if(F)return e();let n=!1;t||(F=[]),it?n=!0:it=[],Ot++;try{const a=e();return we(n),a}catch(a){F||(it=null),ee(a)}}function we(e){if(F&&(Zt(F),F=null),e)return;const t=it;it=null,t.length&&ut(()=>he(t),!1)}function Zt(e){for(let t=0;t<e.length;t++)Yt(e[t])}function kt(e,t){const n=rt;e.state=0;for(let a=0;a<e.sources.length;a+=1){const r=e.sources[a];r.sources&&(r.state===ot||n?r!==t&&Yt(r):(r.state===mt||n)&&kt(r,t))}}function te(e){const t=rt;for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n];(!a.state||t)&&(a.state=mt,a.pure?F.push(a):it.push(a),a.observers&&te(a))}}function Nt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),a=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),s=n.observerSlots.pop();a<r.length&&(l.sourceSlots[s]=a,r[a]=l,n.observerSlots[a]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Nt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function be(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function ee(e){throw e=be(e),e}function ne(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:ne(e.owner,t):void 0}function At(e){if(typeof e=="function"&&!e.length)return At(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const a=At(e[n]);Array.isArray(a)?t.push.apply(t,a):t.push(a)}return t}return e}function me(e){return function(n){let a;return Q(()=>a=Y(()=>(U.context={[e]:n.value},Vt(()=>n.children)))),a}}const ke=Symbol("fallback");function Lt(e){for(let t=0;t<e.length;t++)e[t]()}function _e(e,t,n={}){let a=[],r=[],l=[],s=0,u=t.length>1?[]:null;return Ct(()=>Lt(l)),()=>{let v=e()||[],c,f;return v[ce],Y(()=>{let x=v.length,D,y,$,m,O,_,i,d,k;if(x===0)s!==0&&(Lt(l),l=[],a=[],r=[],s=0,u&&(u=[])),n.fallback&&(a=[ke],r[0]=vt(A=>(l[0]=A,n.fallback())),s=1);else if(s===0){for(r=new Array(x),f=0;f<x;f++)a[f]=v[f],r[f]=vt(p);s=x}else{for($=new Array(x),m=new Array(x),u&&(O=new Array(x)),_=0,i=Math.min(s,x);_<i&&a[_]===v[_];_++);for(i=s-1,d=x-1;i>=_&&d>=_&&a[i]===v[d];i--,d--)$[d]=r[i],m[d]=l[i],u&&(O[d]=u[i]);for(D=new Map,y=new Array(d+1),f=d;f>=_;f--)k=v[f],c=D.get(k),y[f]=c===void 0?-1:c,D.set(k,f);for(c=_;c<=i;c++)k=a[c],f=D.get(k),f!==void 0&&f!==-1?($[f]=r[c],m[f]=l[c],u&&(O[f]=u[c]),f=y[f],D.set(k,f)):l[c]();for(f=_;f<x;f++)f in $?(r[f]=$[f],l[f]=m[f],u&&(u[f]=O[f],u[f](f))):r[f]=vt(p);r=r.slice(0,s=x),a=v.slice(0)}return r});function p(x){if(l[f]=x,u){const[D,y]=tt(f);return u[f]=y,t(v[f],D)}return t(v[f])}}}function J(e,t){return Y(()=>e(t||{}))}function yt(){return!0}const xe={get(e,t,n){return t===le?n:e.get(t)},has(e,t){return e.has(t)},set:yt,deleteProperty:yt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:yt,deleteProperty:yt}},ownKeys(e){return e.keys()}};function $t(e){return(e=typeof e=="function"?e():e)==null?{}:e}function $e(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const a=$t(e[n])[t];if(a!==void 0)return a}},has(t){for(let n=e.length-1;n>=0;n--)if(t in $t(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys($t(e[n])));return[...new Set(t)]}},xe)}function Se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return K(_e(()=>e.each,e.children,t||void 0))}function re(e){let t=!1,n=!1;const a=Vt(()=>e.children),r=K(()=>{let l=a();Array.isArray(l)||(l=[l]);for(let s=0;s<l.length;s++){const u=l[s].when;if(u)return n=!!l[s].keyed,[s,u,l[s]]}return[-1]},void 0,{equals:(l,s)=>l[0]===s[0]&&(t?l[1]===s[1]:!l[1]==!s[1])&&l[2]===s[2]});return K(()=>{const[l,s,u]=r();if(l<0)return e.fallback;const v=u.children,c=typeof v=="function"&&v.length>0;return t=n||c,c?Y(()=>v(s)):v})}function ht(e){return e}const je=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Te=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...je]),Ae=new Set(["innerHTML","textContent","innerText","children"]),De={className:"class",htmlFor:"for"},Pt={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Oe=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ce={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ne(e,t){return K(e,void 0,t?void 0:{equals:t})}function Ee(e,t,n){let a=n.length,r=t.length,l=a,s=0,u=0,v=t[r-1].nextSibling,c=null;for(;s<r||u<l;){if(t[s]===n[u]){s++,u++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===s){const f=l<a?u?n[u-1].nextSibling:n[l-u]:v;for(;u<l;)e.insertBefore(n[u++],f)}else if(l===u)for(;s<r;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[u]===t[r-1]){const f=t[--r].nextSibling;e.insertBefore(n[u++],t[s++].nextSibling),e.insertBefore(n[--l],f),t[r]=n[l]}else{if(!c){c=new Map;let p=u;for(;p<l;)c.set(n[p],p++)}const f=c.get(t[s]);if(f!=null)if(u<f&&f<l){let p=s,x=1,D;for(;++p<r&&p<l&&!((D=c.get(t[p]))==null||D!==f+x);)x++;if(x>f-u){const y=t[s];for(;u<f;)e.insertBefore(n[u++],y)}else e.replaceChild(n[u++],t[s++])}else s++;else t[s++].remove()}}}const Mt="_$DX_DELEGATE";function Ge(e,t,n){let a;return vt(r=>{a=r,t===document?e():X(t,e(),t.firstChild?null:void 0,n)}),()=>{a(),t.textContent=""}}function st(e,t,n){const a=document.createElement("template");a.innerHTML=e;let r=a.content.firstChild;return n&&(r=r.firstChild),r}function xt(e,t=window.document){const n=t[Mt]||(t[Mt]=new Set);for(let a=0,r=e.length;a<r;a++){const l=e[a];n.has(l)||(n.add(l),t.addEventListener(l,Ue))}}function wt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Ie(e,t,n,a){a==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,a)}function Le(e,t){t==null?e.removeAttribute("class"):e.className=t}function Et(e,t,n,a){if(a)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=l=>r.call(e,n[1],l))}else e.addEventListener(t,n)}function Pe(e,t,n={}){const a=Object.keys(t||{}),r=Object.keys(n);let l,s;for(l=0,s=r.length;l<s;l++){const u=r[l];!u||u==="undefined"||t[u]||(Rt(e,u,!1),delete n[u])}for(l=0,s=a.length;l<s;l++){const u=a[l],v=!!t[u];!u||u==="undefined"||n[u]===v||!v||(Rt(e,u,!0),n[u]=v)}return n}function ie(e,t,n={}){const a=e.style,r=typeof n=="string";if(t==null&&r||typeof t=="string")return a.cssText=t;r&&(a.cssText=void 0,n={}),t||(t={});let l,s;for(s in n)t[s]==null&&a.removeProperty(s),delete n[s];for(s in t)l=t[s],l!==n[s]&&(a.setProperty(s,l),n[s]=l);return n}function Me(e,t,n,a){typeof t=="function"?Q(r=>Ut(e,t(),r,n,a)):Ut(e,t,void 0,n,a)}function X(e,t,n,a){if(n!==void 0&&!a&&(a=[]),typeof t!="function")return lt(e,t,a,n);Q(r=>lt(e,t(),r,n),a)}function Re(e,t,n,a,r={},l=!1){t||(t={});for(const s in r)if(!(s in t)){if(s==="children")continue;Bt(e,s,null,r[s],n,l)}for(const s in t){if(s==="children"){a||lt(e,t.children);continue}const u=t[s];r[s]=Bt(e,s,u,r[s],n,l)}}function Be(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Rt(e,t,n){const a=t.trim().split(/\s+/);for(let r=0,l=a.length;r<l;r++)e.classList.toggle(a[r],n)}function Bt(e,t,n,a,r,l){let s,u,v;if(t==="style")return ie(e,n,a);if(t==="classList")return Pe(e,n,a);if(n===a)return a;if(t==="ref")l||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);a&&e.removeEventListener(c,a),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);a&&e.removeEventListener(c,a,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),f=Oe.has(c);if(!f&&a){const p=Array.isArray(a)?a[0]:a;e.removeEventListener(c,p)}(f||n)&&(Et(e,c,n,f),f&&xt([c]))}else if((v=Ae.has(t))||!r&&(Pt[t]||(u=Te.has(t)))||(s=e.nodeName.includes("-")))t==="class"||t==="className"?Le(e,n):s&&!u&&!v?e[Be(t)]=n:e[Pt[t]||t]=n;else{const c=r&&t.indexOf(":")>-1&&Ce[t.split(":")[0]];c?Ie(e,c,t,n):wt(e,De[t]||t,n)}return n}function Ue(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),Z.registry&&!Z.done&&(Z.done=!0,document.querySelectorAll("[id^=pl-]").forEach(a=>a.remove()));n!==null;){const a=n[t];if(a&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?a.call(n,r,e):a.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Ut(e,t,n={},a,r){return t||(t={}),!r&&"children"in t&&Q(()=>n.children=lt(e,t.children,n.children)),t.ref&&t.ref(e),Q(()=>Re(e,t,a,!0,n,!0)),n}function lt(e,t,n,a,r){for(Z.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=a!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(Z.context)return n;if(l==="number"&&(t=t.toString()),s){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=ft(e,n,a,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(Z.context)return n;n=ft(e,n,a)}else{if(l==="function")return Q(()=>{let u=t();for(;typeof u=="function";)u=u();n=lt(e,u,n,a)}),()=>n;if(Array.isArray(t)){const u=[],v=n&&Array.isArray(n);if(Dt(u,t,n,r))return Q(()=>n=lt(e,u,n,a,!0)),()=>n;if(Z.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=ft(e,n,a),s)return n}else v?n.length===0?qt(e,u,a):Ee(e,n,u):(n&&ft(e),qt(e,u));n=u}else if(t instanceof Node){if(Z.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=ft(e,n,a,t);ft(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Dt(e,t,n,a){let r=!1;for(let l=0,s=t.length;l<s;l++){let u=t[l],v=n&&n[l];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))r=Dt(e,u,v)||r;else if(typeof u=="function")if(a){for(;typeof u=="function";)u=u();r=Dt(e,Array.isArray(u)?u:[u],v)||r}else e.push(u),r=!0;else{const c=String(u);v&&v.nodeType===3&&v.data===c?e.push(v):e.push(document.createTextNode(c))}}return r}function qt(e,t,n){for(let a=0,r=t.length;a<r;a++)e.insertBefore(t[a],n)}function ft(e,t,n,a){if(n===void 0)return e.textContent="";const r=a||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const u=t[s];if(r!==u){const v=u.parentNode===e;!l&&!s?v?e.replaceChild(r,u):e.insertBefore(r,n):v&&u.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const qe=!1;var V=(e=>(e[e.None=0]="None",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Draw=3]="Draw",e))(V||{});const Je=e=>{switch(e){case 2:return 1;case 1:return 2}return 0},We=e=>{const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]];for(let a of t){const[r,l,s]=a;if(e[r]!==0&&e[r]===e[l]&&e[r]==e[s])return e[r]}let n=!0;for(let a of e)a===0&&(n=!1);return n?3:0},Fe=st('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),Ke=st("<title></title>");function oe(e,t){const n=$e(e.a,t);return(()=>{const a=Fe.cloneNode(!0);return Me(a,n,!0,!0),X(a,()=>qe,null),X(a,(()=>{const r=Ne(()=>!!t.title,!0);return()=>r()&&(()=>{const l=Ke.cloneNode(!0);return X(l,()=>t.title),l})()})(),null),Q(r=>{const l=e.a.stroke,s={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",v=t.size||"1em",c=e.c;return l!==r._v$&&wt(a,"stroke",r._v$=l),r._v$2=ie(a,s,r._v$2),u!==r._v$3&&wt(a,"height",r._v$3=u),v!==r._v$4&&wt(a,"width",r._v$4=v),c!==r._v$5&&(a.innerHTML=r._v$5=c),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),a})()}function He(e){return oe({a:{viewBox:"0 0 512 512"},c:'<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"/>'},e)}function Ve(e){return oe({a:{viewBox:"0 0 384 512"},c:'<path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 01-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 01-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/>'},e)}const ze=st('<div class="bg-gray-300 rounded min-w-[6rem] min-h-[6rem] sm:min-w-[8rem] sm:min-h-[8rem] md:min-w-[12rem] md:min-h-[12rem] lg:min-w-[16rem] lg:min-h-[16rem] m-2 flex justify-center items-center"></div>'),Xe=e=>(()=>{const t=ze.cloneNode(!0);return Et(t,"click",e.onClick,!0),X(t,J(re,{get fallback(){return[]},get children(){return[J(ht,{get when(){return e.state===V.Cross},get children(){return J(Ve,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}}),J(ht,{get when(){return e.state===V.Circle},get children(){return J(He,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}})]}})),t})();xt(["click"]);const Qe=st('<div class="absolute inset-0 flex justify-center items-center"><div class="rounded bg-gray-100 px-8 py-5"></div></div>'),Ye=e=>(()=>{const t=Qe.cloneNode(!0),n=t.firstChild;return X(n,()=>e.children),t})(),Ze=st('<div class="flex flex-col"><h3 class="m-3 text-4xl text-center"></h3><span class="py-2 px-3 rounded bg-gray-300 m-auto cursor-pointer">Restart Game</span></div>'),St=e=>J(Ye,{get children(){const t=Ze.cloneNode(!0),n=t.firstChild,a=n.nextSibling;return X(n,()=>e.result),Et(a,"click",e.restartGame,!0),t}});xt(["click"]);function tn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function en([e,t],n,a){return[n?()=>n(e()):e,a?r=>t(a(r)):t]}function nn(e){try{return document.querySelector(e)}catch{return null}}function rn(e,t){const n=nn(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function on(e,t,n,a){let r=!1;const l=u=>typeof u=="string"?{value:u}:u,s=en(tt(l(e()),{equals:(u,v)=>u.value===v.value}),void 0,u=>(!r&&t(u),u));return n&&Ct(n((u=e())=>{r=!0,s[1](l(u)),r=!1})),{signal:s,utils:a}}function un(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:tt({value:""})};return e}function sn(){return on(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:a})=>{t?window.history.replaceState(a,"",e):window.history.pushState(a,"",e),rn(window.location.hash.slice(1),n)},e=>tn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const fn=/^(?:[a-z0-9]+:)?\/\//i,an=/^\/+|\/+$/g;function jt(e,t=!1){const n=e.replace(an,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Tt(e,t,n){if(fn.test(t))return;const a=jt(e),r=n&&jt(n);let l="";return!r||t.startsWith("/")?l=a:r.toLowerCase().indexOf(a.toLowerCase())!==0?l=a+r:l=r,(l||"/")+jt(t,!l)}function ln(e,t){if(e==null)throw new Error(t);return e}function cn(e){const t={};return e.searchParams.forEach((n,a)=>{t[a]=n}),t}function at(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function hn(e){const t=new Map,n=pe();return new Proxy({},{get(a,r){return t.has(r)||ye(n,()=>t.set(r,K(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const dn=100,ue=Kt(),pn=Kt(),yn=()=>ln(Ht(ue),"Make sure your app is wrapped in a <Router />");let Jt;const gn=()=>yn().location;function vn(e,t){const n=new URL("http://sar"),a=K(v=>{const c=e();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),v}},n,{equals:(v,c)=>v.href===c.href}),r=K(()=>at(a().pathname)),l=K(()=>at(a().search,!0)),s=K(()=>at(a().hash)),u=K(()=>"");return{get pathname(){return r()},get search(){return l()},get hash(){return s()},get state(){return t()},get key(){return u()},query:hn(de(l,()=>cn(a())))}}function wn(e,t="",n,a){const{signal:[r,l],utils:s={}}=un(e),u=s.parsePath||(j=>j),v=s.renderPath||(j=>j),c=Tt("",t),f=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!r().value&&l({value:c,replace:!0,scroll:!1});const[p,x]=tt(!1),D=async j=>{x(!0);try{await ge(j)}finally{x(!1)}},[y,$]=tt(r().value),[m,O]=tt(r().state),_=vn(y,m),i=[],d={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(j){return Tt(c,j)}};if(n)try{Jt=d,d.data=n({data:void 0,params:{},location:_,navigate:A(d)})}finally{Jt=void 0}function k(j,N,E){Y(()=>{if(typeof N=="number"){N&&(s.go?s.go(N):console.warn("Router integration does not support relative routing"));return}const{replace:h,resolve:o,scroll:g,state:w}={replace:!1,resolve:!0,scroll:!0,...E},I=o?j.resolvePath(N):Tt("",N);if(I===void 0)throw new Error(`Path '${N}' is not a routable path`);if(i.length>=dn)throw new Error("Too many redirects");const C=y();if(I!==C||w!==m()){const S=i.push({value:C,replace:h,scroll:g,state:m()});D(()=>{$(I),O(w)}).then(()=>{i.length===S&&b({value:I,state:w})})}})}function A(j){return j=j||Ht(pn)||d,(N,E)=>k(j,N,E)}function b(j){const N=i[0];N&&((j.value!==N.value||j.state!==N.state)&&l({...j,replace:N.replace,scroll:N.scroll}),i.length=0)}Q(()=>{const{value:j,state:N}=r();Y(()=>{j!==y()&&D(()=>{$(j),O(N)})})});{let j=function(N){if(N.defaultPrevented||N.button!==0||N.metaKey||N.altKey||N.ctrlKey||N.shiftKey)return;const E=N.composedPath().find(S=>S instanceof Node&&S.nodeName.toUpperCase()==="A");if(!E||!E.hasAttribute("link"))return;const h=E.href;if(E.target||!h&&!E.hasAttribute("state"))return;const o=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||o&&o.includes("external"))return;const g=new URL(h),w=at(g.pathname);if(g.origin!==window.location.origin||c&&w&&!w.toLowerCase().startsWith(c.toLowerCase()))return;const I=u(w+at(g.search,!0)+at(g.hash)),C=E.getAttribute("state");N.preventDefault(),k(d,I,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:C&&JSON.parse(C)})};var T=j;xt(["click"]),document.addEventListener("click",j),Ct(()=>document.removeEventListener("click",j))}return{base:d,out:f,location:_,isRouting:p,renderPath:v,parsePath:u,navigatorFactory:A}}const bn=e=>{const{source:t,url:n,base:a,data:r,out:l}=e,s=t||sn(),u=wn(s,a,r);return J(ue.Provider,{value:u,get children(){return e.children}})};let gt;const mn=new Uint8Array(16);function kn(){if(!gt&&(gt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gt(mn)}const W=[];for(let e=0;e<256;++e)W.push((e+256).toString(16).slice(1));function _n(e,t=0){return(W[e[t+0]]+W[e[t+1]]+W[e[t+2]]+W[e[t+3]]+"-"+W[e[t+4]]+W[e[t+5]]+"-"+W[e[t+6]]+W[e[t+7]]+"-"+W[e[t+8]]+W[e[t+9]]+"-"+W[e[t+10]]+W[e[t+11]]+W[e[t+12]]+W[e[t+13]]+W[e[t+14]]+W[e[t+15]]).toLowerCase()}const xn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wt={randomUUID:xn};function $n(e,t,n){if(Wt.randomUUID&&!t&&!e)return Wt.randomUUID();e=e||{};const a=e.random||(e.rng||kn)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=a[r];return t}return _n(a)}function Sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var se={exports:{}};function jn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fe={exports:{}};(function(e){(function(){function t(a,r){return r?jn(a):a.slice?t[l(a)]:function(s,u){a(s={exports:{}}),t[l(u)]=s.exports};function l(s){return s.split("/").slice(-1).toString().replace(".js","")}}var n=e;t(function(a){String.random=function(l,s){var u="";for(l=l||24,s=s||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";l-- >0;)u+=s.charAt(Math.floor(Math.random()*s.length));return u},String.match=function(l,s){var u,v;return typeof l!="string"?!1:(typeof s=="string"&&(s={"=":s}),s=s||{},u=s["="]||s["*"]||s[">"]||s["<"],l===u?!0:v!==s["="]?!1:(u=s["*"]||s[">"],l.slice(0,(u||"").length)===u?!0:v!==s["*"]?!1:v!==s[">"]&&v!==s["<"]?l>=s[">"]&&l<=s["<"]:v!==s[">"]&&l>=s[">"]||v!==s["<"]&&l<=s["<"]))},String.hash=function(l,s){if(typeof l=="string"){if(s=s||0,!l.length)return s;for(var u=0,v=l.length,c;u<v;++u)c=l.charCodeAt(u),s=(s<<5)-s+c,s|=0;return s}};var r=Object.prototype.hasOwnProperty;Object.plain=function(l){return l?l instanceof Object&&l.constructor===Object||Object.prototype.toString.call(l).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(l,s){for(var u in l)if(r.call(l,u)&&(!s||s.indexOf(u)==-1))return!1;return!0},Object.keys=Object.keys||function(l){var s=[];for(var u in l)r.call(l,u)&&s.push(u);return s},function(){var l,s=setTimeout,u=0,v=0,c=typeof setImmediate!=""+l&&setImmediate||function(p,x){return typeof MessageChannel==""+l?s:((p=new MessageChannel).port1.onmessage=function(D){D.data==""&&x()},function(D){x=D,p.port2.postMessage("")})}(),f=s.check=s.check||typeof performance!=""+l&&performance||{now:function(){return+new Date}};s.hold=s.hold||9,s.poll=s.poll||function(p){if(s.hold>=f.now()-u&&v++<3333){p();return}c(function(){u=f.now(),p()},v=0)}}(),function(){var l=setTimeout,s=l.turn=l.turn||function(x){u.push(x)==1&&v(p)},u=s.s=[],v=l.poll,c=0,f,p=function(){(f=u[c++])&&f(),(c==u.length||c==99)&&(u=s.s=u.slice(c),c=0),u.length&&v(p)}}(),function(){var l,s=setTimeout,u=s.turn;(s.each=s.each||function(v,c,f,p){p=p||9,function x(D,y,$){if(y=(D=(v||[]).splice(0,p)).length){for(var m=0;m<y&&l===($=c(D[m]));m++);if(l===$){u(x);return}}f&&f($)}()})()}()})(t,"./shim"),t(function(a){a.exports=function r(f,s,u){if(!f)return{to:r};var v,c=typeof s=="function",f=(this.tag||(this.tag={}))[f]||c&&(this.tag[f]={tag:f,to:r._={next:function(x){var D;(D=this.to)&&D.next(x)}}});if(c){var p={off:r.off||(r.off=function(){if(this.next===r._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=r._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:r._,next:s,the:f,on:this,as:u};return(p.back=f.last||f).to=p,f.last=p}return(f=f.to)&&v!==s&&f.next(s),f}})(t,"./onto"),t(function(a){a.exports=function(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"&&r!=1/0&&r!=-1/0&&r===r||!!r&&typeof r["#"]=="string"&&Object.keys(r).length===1&&r["#"]}})(t,"./valid"),t(function(a){t("./shim");function r(){var f=+new Date;return v<f?(s=0,v=f+r.drift):v=f+(s+=1)/u+r.drift}r.drift=0;var l=-1/0,s=0,u=999,v=l,c;r.is=function(f,p,x){var D=p&&f&&f._&&f._[">"]||x;if(!!D)return typeof(D=D[p])=="number"?D:l},r.ify=function(f,p,x,D,y){(f=f||{})._=f._||{},y&&(f._["#"]=y);var $=f._[">"]||(f._[">"]={});return c!==p&&p!=="_"&&(typeof x=="number"&&($[p]=x),c!==D&&(f[p]=D)),f},a.exports=r})(t,"./state"),t(function(a){t("./shim");function r(l){var s={s:{}},u=s.s;l=l||{max:999,age:1e3*9},s.check=function(c){return u[c]?v(c):!1};var v=s.track=function(c){var f=u[c]||(u[c]={});return f.was=s.now=+new Date,s.to||(s.to=setTimeout(s.drop,l.age+9)),f};return s.drop=function(c){s.to=null,s.now=+new Date;var f=Object.keys(u);console.STAT&&console.STAT(s.now,+new Date-s.now,"dup drop keys"),setTimeout.each(f,function(p){var x=u[p];x&&(c||l.age)>s.now-x.was||delete u[p]},0,99)},s}a.exports=r})(t,"./dup"),t(function(a){t("./onto"),a.exports=function(s,u){if(!!this.on){var v=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var f=s["#"]||s,c=(this.tag||"")[f];return c?(u&&(c=this.on(f,u),clearTimeout(c.err),c.err=setTimeout(function(){c.off()},v)),!0):void 0}var f=u&&u["#"]||r(9);if(!s)return f;var p=this.on(f,s,u);return p.err=p.err||setTimeout(function(){p.off(),p.next({err:"Error: No ACK yet.",lack:!0})},v),f}};var r=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(a){function r(y){return y instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:y}):new r(y)}r.is=function(y){return y instanceof r||y&&y._&&y===y._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},t("./shim"),r.valid=t("./valid"),r.state=t("./state"),r.on=t("./onto"),r.dup=t("./dup"),r.ask=t("./ask"),function(){r.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||r.on,o.ask=o.ask||r.ask,o.dup=o.dup||r.dup();var g=o.$.opt(o.opt);return o.once||(o.on("in",y,o),o.on("out",y,o),o.on("put",O,o),r.on("create",o),o.on("create",o)),o.once=1,g};function y(o){if(!!o){if(o.out===y){this.to.next(o);return}var g=this,w=g.as,I=w.at||w,C=I.$,S=I.dup,G,L=o.DBG;if((G=o["#"])||(G=o["#"]=s(9)),!S.check(G)){if(S.track(G),G=o._,o._=typeof G=="function"?G:function(){},o.$&&o.$===(o.$._||"").$||(o.$=C),o["@"]&&!o.put&&i(o),!I.ask(o["@"],o))if(L&&(L.u=+new Date),o.put){$(o);return}else o.get&&r.on.get(o,C);L&&(L.uc=+new Date),g.to.next(o),L&&(L.ua=+new Date),!(o.nts||o.NTS)&&(o.out=y,I.on("out",o),L&&(L.ue=+new Date))}}}function $(o){if(!!o){var g=o._||"",w=g.root=((g.$=o.$||"")._||"").root;if(o["@"]&&g.faith&&!g.miss){o.out=y,w.on("out",o);return}g.latch=w.hatch,g.match=w.hatch=[];var I=o.put,C=g.DBG=o.DBG,S=+new Date;if(E=E||S,!(I["#"]&&I["."])){C&&(C.p=S),g["#"]=o["#"],g.msg=o,g.all=0,g.stun=1;var G=Object.keys(I);console.STAT&&console.STAT(S,((C||g).pk=+new Date)-S,"put sort");var L=0,P,M,R,B,z,H,ct;(function et(dt){if(P!=L){if(P=L,!(R=G[L])){console.STAT&&console.STAT(S,((C||g).pd=+new Date)-S,"put"),_(g);return}(B=I[R])?(ct=B._)?R!==ct["#"]?H=k+A(R)+"soul not same.":(z=ct[">"])||(H=k+A(R)+"no state."):H=k+A(R)+"no meta.":H=k+A(R)+"no node.",M=Object.keys(B||{})}if(H){o.err=g.err=H,_(g);return}var Gt=0,nt;for(dt=dt||0;dt++<9&&(nt=M[Gt++]);)if(nt!=="_"){var pt=B[nt],It=z[nt];if(p===It){H=k+A(nt)+"on"+A(R)+"no state.";break}if(!v(pt)){H=k+A(nt)+"on"+A(R)+"bad "+typeof pt+A(pt);break}m(pt,nt,R,It,o),++N}if((M=M.slice(Gt)).length){u(et);return}++L,M=null,et(dt)})()}}}r.on.put=$;function m(o,g,w,I,C){var S=C._||"",G=S.root,L=G.graph,P,M=L[w]||x,R=c(M,g,1),B=M[g],z=S.DBG;(P=console.STAT)&&(!L[w]||!B)&&(P.has=(P.has||0)+1);var H=j();if(I>H){setTimeout(function(){m(o,g,w,I,C)},(P=I-H)>T?T:P),console.STAT&&console.STAT((z||S).Hf=+new Date,P,"future");return}if(!(I<R)&&!(!S.faith&&I===R&&(o===B||b(o)<=b(B))&&!S.miss)){S.stun++;var ct=C["#"]+S.all++,et={toString:function(){return ct},_:S};et.toJSON=et.toString,G.dup.track(et)["#"]=C["#"],z&&(z.ph=z.ph||+new Date),G.on("put",{"#":et,"@":C["@"],put:{"#":w,".":g,":":o,">":I},ok:C.ok,_:S})}}function O(o){var g;(g=(o._||"").DBG)&&(g.pa=+new Date,g.pm=g.pm||+new Date);var w=this,I=w.as,C=I.graph,S=o._,G=o.put,L=G["#"],P=G["."],M=G[":"],R=G[">"];o["#"];var B;(B=S.msg)&&(B=B.put)&&(B=B[L])&&f(B,P,R,M,L),C[L]=f(C[L],P,R,M,L),(B=(I.next||"")[L])&&B.on("in",o),_(S),w.to.next(o)}function _(o,g){var w;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!(w=o.root))){var I=o.match;I.end=1,I===w.hatch&&(!(I=o.latch)||I.end?delete w.hatch:w.hatch=I),o.hatch&&o.hatch(),setTimeout.each(o.match,function(C){C&&C()}),!(!(g=o.msg)||o.err||g.err)&&(g.out=y,o.root.on("out",g),h())}}function i(o){var g=o["@"]||"",w;if(!(w=g._)){var I=(I=o.$)&&(I=I._)&&(I=I.root)&&(I=I.dup);if(!(I=I.check(g)))return;o["@"]=I["#"]||o["@"];return}w.acks=(w.acks||0)+1,(w.err=o.err)&&(o["@"]=w["#"],_(w)),w.ok=o.ok||w.ok,!w.stop&&!w.crack&&(w.crack=w.match&&w.match.push(function(){d(w)})),d(w)}function d(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?p:o.ok||{"":1}})}var k="Error: Invalid graph!",A=function(o){return" '"+(""+o).slice(0,9)+"...' "},b=JSON.stringify,T=2147483647,j=r.state,N=0,E,h=function(){N>999&&N/-(E-(E=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),h=function(){N=0})}}(),function(){r.on.get=function($,m){var O=m._,_=$.get,i=_["#"],d=O.graph[i],k=_["."],A=O.next||(O.next={});A[i];var b=$._||{},T=b.DBG=$.DBG;if(T&&(T.g=+new Date),!d)return O.on("get",$);if(k){if(typeof k!="string"||p===d[k])return O.on("get",$);d=f({},k,c(d,k),d[k],i)}d&&y($,d),O.on("get",$)};function y($,m){var O=+new Date,_=$._||{},i=_.DBG=$.DBG,d=$["#"],k=s(9),A=Object.keys(m||"").sort(),b=((m||"")._||"")["#"];A.length;var T=$.$._.root,j=m===T.graph[b];console.STAT&&console.STAT(O,((i||_).gk=+new Date)-O,"got keys"),m&&function N(){O=+new Date;for(var E=0,h,o={},g;E<9&&(h=A[E++]);)f(o,h,c(m,h),m[h],b);A=A.slice(E),(g={})[b]=o,o=g;var w;j&&(w=function(){},w.ram=w.faith=!0),g=A.length,console.STAT&&console.STAT(O,-(O-(O=+new Date)),"got copied some"),i&&(i.ga=+new Date),T.on("in",{"@":d,"#":k,put:o,"%":g?k=s(9):p,$:T.$,_:w,DBG:i}),console.STAT&&console.STAT(O,+new Date-O,"got in"),g&&setTimeout.turn(N)}(),m||T.on("in",{"@":$["#"]})}r.on.get.ack=y}(),function(){r.chain.opt=function(y){y=y||{};var $=this,m=$._,O=y.peers||y;return Object.plain(y)||(y={}),Object.plain(m.opt)||(m.opt=y),typeof O=="string"&&(O=[O]),Object.plain(m.opt.peers)||(m.opt.peers={}),O instanceof Array&&(y.peers={},O.forEach(function(_){var i={};i.id=i.url=_,y.peers[_]=m.opt.peers[_]=m.opt.peers[_]||i})),l(y,function _(i){var d=this[i];if(this&&this.hasOwnProperty(i)||typeof d=="string"||Object.empty(d)){this[i]=d;return}d&&d.constructor!==Object&&!(d instanceof Array)||l(d,_)}),m.opt.from=y,r.on("opt",m),m.opt.uuid=m.opt.uuid||function(i){return r.state().toString(36).replace(".","")+String.random(i||12)},$}}();var l=function(y,$){Object.keys(y).forEach($,y)},s=String.random,u=setTimeout.turn,v=r.valid,c=r.state.is,f=r.state.ify,p,x={},D;r.log=function(){return!r.log.off&&D.log.apply(D,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(y,$,m){return(m=r.log.once)[y]=m[y]||0,m[y]++||r.log($)},typeof window<"u"&&((window.GUN=window.Gun=r).window=window);try{typeof n<"u"&&(n.exports=r)}catch{}a.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(D=console).only=function(y,$){return D.only.i&&y===D.only.i&&D.only.i++&&(D.log.apply(D,arguments)||$)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(a){var r=t("./root");r.chain.back=function(u,v){var c;if(u=u||1,u===-1||u===1/0)return this._.root.$;if(u===1)return(this._.back||this._).$;var f=this,p=f._;if(typeof u=="string"&&(u=u.split(".")),u instanceof Array){var x=0,D=u.length,c=p;for(x;x<D;x++)c=(c||l)[u[x]];return s!==c?v?f:c:(c=p.back)?c.$.back(u,v):void 0}if(typeof u=="function"){for(var y,c={back:p};(c=c.back)&&s===(y=u(c,v)););return y}return typeof u=="number"?(p.back||p).$.back(u-1):this};var l={},s})(t,"./back"),t(function(a){var r=t("./root");r.chain.chain=function(_){var i=this,d=i._,k=new(_||i).constructor(i),A=k._,b;return A.root=b=d.root,A.id=++b.once,A.back=i._,A.on=r.on,A.on("in",r.on.in,A),A.on("out",r.on.out,A),k};function l(_){var i,d=this.as,k=d.back,A=d.root,b;if(_.$||(_.$=d.$),this.to.next(_),d.err){d.on("in",{put:d.put=p,$:d.$});return}if(i=_.get){if(A.pass&&(A.pass[d.id]=d),d.lex&&Object.keys(d.lex).forEach(function(T){b[T]=d.lex[T]},b=_.get=_.get||{}),i["#"]||d.soul){if(i["#"]=i["#"]||d.soul,_["#"]||(_["#"]=x(9)),k=A.$.get(i["#"])._,i=i["."]){if(y(k.put,i)&&(b=k.ask&&k.ask[i],(k.ask||(k.ask={}))[i]=k.$.get(i)._,k.on("in",{get:i,put:{"#":k.soul,".":i,":":k.put[i],">":m(A.graph[k.soul],i)}}),b))return}else{if(b=k.ask&&k.ask[""],(k.ask||(k.ask={}))[""]=k,p!==k.put&&(k.on("in",k),b))return;_.$=k.$}return A.ask(c,_),A.on("in",_)}if(i["."])return d.get?(_={get:{".":d.get},$:d.$},(k.ask||(k.ask={}))[d.get]=_.$._,k.on("out",_)):(_={get:d.lex?_.get:{},$:d.$},k.on("out",_));if((d.ask||(d.ask={}))[""]=d,d.get)return i["."]=d.get,(k.ask||(k.ask={}))[d.get]=_.$._,k.on("out",_)}return k.on("out",_)}r.on.out=l;function s(_,i){i=i||this.as;var d=i.root,k=_.$||(_.$=i.$),A=(k||"")._||f,b=_.put||"",T=b["#"],j=b["."],N=p!==b["="]?b["="]:b[":"],E=b[">"]||-1/0,h;if(p!==_.put&&(p===b["#"]||p===b["."]||p===b[":"]&&p===b["="]||p===b[">"])){if(!D(b)){if(!(T=((b||"")._||"")["#"])){console.log("chain not yet supported for",b,"...",_,i);return}return k=i.root.$.get(T),setTimeout.each(Object.keys(b).sort(),function(o){o=="_"||p===(E=m(b,o))||i.on("in",{$:k,put:{"#":T,".":o,"=":b[o],">":E},VIA:_})})}i.on("in",{$:A.back.$,put:{"#":T=A.back.soul,".":j=A.has||A.get,"=":b,">":m(A.back.put,j)},via:_});return}(_.seen||"")[i.id]||((_.seen||(_.seen=function(){}))[i.id]=i,i!==A&&(Object.keys(_).forEach(function(o){b[o]=_[o]},b={}),b.get=i.get||b.get,!i.soul&&!i.has?b.$$$=b.$$$||i.$:A.soul&&(b.$=i.$,b.$$=b.$$||A.$),_=b),v(_,i),(i.soul||_.$$)&&E>=m(d.graph[T],j)&&((b=d.$.get(T)._).put=O(b.put,j,E,N,T)),!A.soul&&E>=m(d.graph[T],j)&&(h=(d.$.get(T)._.next||"")[j])&&(h.put=N,typeof(b=D(N))=="string"&&(h.put=d.$.get(b)._.put||N)),this.to&&this.to.next(_),i.any&&setTimeout.each(Object.keys(i.any),function(o){(o=i.any[o])&&o(_)},0,99),i.echo&&setTimeout.each(Object.keys(i.echo),function(o){(o=i.echo[o])&&o.on("in",_)},0,99),((_.$$||"")._||A).soul&&(h=i.next)&&(h=h[j])&&(b={},Object.keys(_).forEach(function(o){b[o]=_[o]}),b.$=(_.$$||_.$).get(b.get=j),delete b.$$,delete b.$$$,h.on("in",b)),u(_,i))}r.on.in=s;function u(_,i){if(i=i||this.as||_.$._,!(_.$$&&this!==r.on)&&!(!_.put||i.soul)){var d=_.put||"",k=d["="]||d[":"],j,A=i.root,b=A.$.get(d["#"]).get(d["."])._;if(typeof(k=D(k))!="string"){this===r.on&&((b.echo||(b.echo={}))[i.id]=i);return}if(!((b.echo||(b.echo={}))[i.id]&&!(A.pass||"")[i.id])){if(j=A.pass){if(j[k+i.id])return;j[k+i.id]=1}(b.echo||(b.echo={}))[i.id]=i,i.has&&(i.link=k);var T=A.$.get(b.link=k)._;(T.echo||(T.echo={}))[b.id]=b;var j=i.ask||"";(j[""]||i.lex)&&T.on("out",{get:{"#":k}}),setTimeout.each(Object.keys(j),function(N,E){!N||!(E=j[N])||E.on("out",{get:{"#":k,".":N}})},0,99)}}}r.on.link=u;function v(_,i){var d=_.put||"",k=p!==d["="]?d["="]:d[":"],A=i.root,b,T;if(p===k){if(i.soul&&p!==i.put||(T=(_.$$||_.$||"")._||"",_["@"]&&(p!==T.put||p!==i.put)))return;(b=i.link||_.linked)&&delete(A.$.get(b)._.echo||"")[i.id],i.has&&(i.link=null),i.put=p,setTimeout.each(Object.keys(i.next||""),function(j,N){!(N=i.next[j])||(b&&delete(A.$.get(b).get(j)._.echo||"")[N.id],N.on("in",{get:j,put:p,$:N.$}))},0,99);return}i.soul||_.$$||(b=D(k),T=_.$._||"",!((b===T.link||i.has&&!T.link)&&!((A.pass||"")[i.id]&&typeof b!="string"))&&(delete(T.echo||"")[i.id],v({get:i.get,put:p,$:_.$,linked:_.linked=_.linked||T.link},i)))}r.on.unlink=v;function c(_,i){var d=this.as,k=d.$._;k.root;var A=d.get||"",b=(_.put||"")[A["#"]]||"";if(!_.put||typeof A["."]=="string"&&p===b[A["."]]){if(p!==k.put||!k.soul&&!k.has)return;k.ack=(k.ack||0)+1,k.on("in",{get:k.get,put:k.put=p,$:k.$,"@":_["@"]});return}(_._||{}).miss=1,r.on.put(_)}var f={},p,x=String.random,D=r.valid,y=function(_,i){return _&&Object.prototype.hasOwnProperty.call(_,i)},$=r.state,m=$.is,O=$.ify})(t,"./chain"),t(function(a){var r=t("./root");r.chain.get=function(p,x,D){var y,$;if(typeof p=="string"){if(p.length==0)return(y=this.chain())._.err={err:r.log("0 length key!",p)},x&&x.call(y,y._.err),y;var m=this,O=m._,_=O.next||v;(y=_[p])||(y=p&&l(p,m)),y=y&&y.$}else if(typeof p=="function"){let j=function(N,E,h){if(!j.stun&&!((S=d.pass)&&!S[k])){var o=N.$._,g=(N.$$||"")._,w=(g||o).put,I=!o.has&&!o.soul,C={},S;if((I||f===w)&&(w=f===((S=N.put)||"")["="]?f===(S||"")[":"]?S:S[":"]:S["="]),typeof(S=r.valid(w))=="string"&&(w=f===(S=d.$.get(S)._.put)?i.not?f:w:S),!(i.not&&f===w)){if(f===i.stun){if((S=d.stun)&&S.on&&(O.$.back(function(G){if(S.on(""+G.id,C={}),(C.run||0)<j.id)return C}),!C.run&&S.on(""+o.id,C={}),!C.run&&g&&S.on(""+g.id,C={}),j.id>C.run&&((!C.stun||C.stun.end)&&(C.stun=S.on("stun"),C.stun=C.stun&&C.stun.last),C.stun&&!C.stun.end))){(C.stun.add||(C.stun.add={}))[k]=function(){j(N,E,1)};return}if(f===w&&(h=0),(S=d.hatch)&&!S.end&&f===i.hatch&&!h){if(A[o.$._.id])return;A[o.$._.id]=1,S.push(function(){j(N,E,1)});return}A={}}if(d.pass){if(d.pass[k+o.id])return;d.pass[k+o.id]=1}if(i.on){i.ok.call(o.$,w,o.get,N,E||j);return}if(i.v2020){i.ok(N,E||j);return}Object.keys(N).forEach(function(G){S[G]=N[G]},S={}),N=S,N.put=w,i.ok.call(i.as,N,E||j)}}};var b=j;if(x===!0)return s(this,p,x,D),this;y=this;var O=y._,i=x||{},d=O.root,k;i.at=O,i.ok=p;var A={};return j.at=O,(O.any||(O.any={}))[k=String.random(7)]=j,j.off=function(){j.stun=1,O.any&&delete O.any[k]},j.rid=u,j.id=i.run||++d.once,$=d.pass,(d.pass={})[k]=1,i.out=i.out||{get:{}},O.on("out",i.out),d.pass=$,y}else{if(typeof p=="number")return this.get(""+p,x,D);if(typeof($=c(p))=="string")return this.get($,x,D);($=this.get.next)&&(y=$(this,p))}return y?(x&&typeof x=="function"&&y.get(x,D),y):((y=this.chain())._.err={err:r.log("Invalid get request!",p)},x&&x.call(y,y._.err),y)};function l(p,x){var D=x._,y=D.next,$=x.chain(),m=$._;return y||(y=D.next={}),y[m.get=p]=m,x===D.root.$?m.soul=p:(D.soul||D.has)&&(m.has=p),m}function s(p,x,D,y){var $=p._,m=0,O;return(O=$.soul||$.link)?x(O,y,$):$.jam?$.jam.push([x,y]):($.jam=[[x,y]],p.get(function(i,d){if(!(f===i.put&&!$.root.opt.super&&(O=Object.keys($.root.opt.peers).length)&&++m<=O)){d.rid(i);var k=(k=i.$)&&k._||{},A=0,b;for(O=$.jam,delete $.jam;b=O[A++];){var T=b[0];b=b[1],T&&T(k.link||k.soul||r.valid(i.put)||((i.put||{})._||{})["#"],b,i,d)}}},{out:{get:{".":!0}}}),p)}function u(p){var x=this.at||this.on;if(!p||x.soul||x.has)return this.off();if(!!(p=(p=(p=p.$||p)._||p).id)){x.map;var D;if((D=this.seen||(this.seen={}))[p])return!0;D[p]=!0}}var v={},c=r.valid,f})(t,"./get"),t(function(a){var r=t("./root");r.chain.put=function(y,$,m){var O=this,_=O._,i=_.root;m=m||{},m.root=_.root,m.run||(m.run=i.once),l(m,_.id),m.ack=m.ack||$,m.via=m.via||O,m.data=m.data||y,m.soul||(m.soul=_.soul||typeof $=="string"&&$);var d=m.state=m.state||r.state();return typeof y=="function"?(y(function(k){m.data=k,O.put(c,c,m)}),O):m.soul?(m.$=i.$.get(m.soul),m.todo=[{it:m.data,ref:m.$}],m.turn=m.turn||p,m.ran=m.ran||s,function k(){var A=m.todo,b=A.pop(),T=b.it;b.ref&&b.ref._.id;var j,N,E,h,o;if(l(m,b.ref),(h=b.todo)&&(N=h.pop(),T=T[N],h.length&&A.push(b)),N&&(A.path||(A.path=[])).push(N),!(j=x(T))&&!(o=r.is(T))){if(!Object.plain(T)){s.err(m,"Invalid data: "+v(T)+" at "+(m.via.back(function(S){S.get&&h.push(S.get)},h=[])||h.join("."))+"."+(A.path||[]).join("."));return}for(var g=m.seen||(m.seen=[]),w=g.length;w--;)if(T===(h=g[w]).it){j=T=h.link;break}}if(N&&j)b.node=D(b.node,N,d,T);else{let S=function(G,L){var P=E.link["#"];L&&(L.off(),L.rid(G));var M=P||G.soul||(h=(G.$$||G.$)._||"").soul||h.link||((h=h.put||"")._||"")["#"]||h["#"]||((h=G.put||"")&&G.$$?h["#"]:(h["="]||h[":"]||"")["#"]);if(!P&&l(m,G.$),!M&&!b.link["#"]){(b.wait||(b.wait=[])).push(function(){S(G,L)});return}M||(M=[],(G.$$||G.$).back(function(R){if(h=R.soul||R.link)return M.push(h);M.push(R.get)}),M=M.reverse().join("/")),E.link["#"]=M,!o&&(((m.graph||(m.graph={}))[M]=E.node||(E.node={_:{}}))._["#"]=M),delete m.wait[I],E.wait&&setTimeout.each(E.wait,function(R){R&&R()}),m.ran(m)};var C=S;if(!m.seen){s.err(m,"Data at root of graph must be a node (an object).");return}m.seen.push(E={it:T,link:{},todo:o?[]:Object.keys(T).sort().reverse(),path:(A.path||[]).slice(),up:b}),b.node=D(b.node,N,d,E.link),!o&&E.todo.length&&A.push(E);var I=m.seen.length;(m.wait||(m.wait={}))[I]="",h=(E.ref=o?T:N?b.ref.get(N):b.ref)._,(h=T&&(T._||"")["#"]||h.soul||h.link)?S({soul:h}):E.ref.get(S,{run:m.run,v2020:1,out:{get:{".":" "}}})}if(!A.length)return m.ran(m);m.turn(k)}(),O):(u(m),O)};function l(y,$){if(!!$){$=($._||"").id||$;var m=y.root.stun||(y.root.stun={on:r.on}),O={},_;y.stun||(y.stun=m.on("stun",function(){})),(_=m.on(""+$))&&_.the.last.next(O),!(O.run>=y.run)&&m.on(""+$,function(i){if(y.stun.end){this.off(),this.to.next(i);return}i.run=i.run||y.run,i.stun=i.stun||y.stun})}}function s(y){if(y.err){s.end(y.stun,y.root);return}if(!(y.todo.length||y.end||!Object.empty(y.wait))){y.end=1;var $=y.$.back(-1)._,m=$.root,O=$.ask(function(k){m.on("ack",k),k.err&&!k.lack&&r.log(k),++_>(y.acks||0)&&this.off(),y.ack&&y.ack(k,this)},y.opt),_=0,i=y.stun,d;(d=function(){!i||(s.end(i,m),setTimeout.each(Object.keys(i=i.add||""),function(k){(k=i[k])&&k()}))}).hatch=d,y.ack&&!y.ok&&(y.ok=y.acks||9),y.via._.on("out",{put:y.out=y.graph,ok:y.ok&&{"@":y.ok+1},opt:y.opt,"#":O,_:d})}}s.end=function(y,$){y.end=f,y.the.to===y&&y===y.the.last&&delete $.stun,y.off()},s.err=function(y,$){(y.ack||f).call(y,y.out={err:y.err=r.log($)}),y.ran(y)};function u(y){var $=y.via._,m;y.via=y.via.back(function(O){if(O.soul||!O.get)return O.$;m=y.data,(y.data={})[O.get]=m}),(!y.via||!y.via._.soul)&&(y.via=$.root.$.get(((y.data||"")._||"")["#"]||$.$.back("opt.uuid")())),y.via.put(y.data,y.ack,y)}function v(y,$){return y&&($=y.constructor)&&$.name||typeof y}var c,f=function(){},p=setTimeout.turn,x=r.valid,D=r.state.ify})(t,"./put"),t(function(a){var r=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),a.exports=r})(t,"./index"),t(function(a){var r=t("./index");r.chain.on=function(u,v,c,f){var p=this,x=p._;x.root;var D;if(typeof u=="string")return v?(D=x.on(u,v,c||x,f),c&&c.$&&(c.subs||(c.subs=[])).push(D),p):x.on(u);var y=v;return(y=y===!0?{change:!0}:y||{}).not=1,y.on=1,p.get(u,y),p},r.chain.once=function(u,v){if(v=v||{},!u)return l(this);var c=this,f=c._,p=f.root;f.put;var x=String.random(7),D;return c.get(function(y,$,m,O){var _=this,i=_._,d=i.one||(i.one={});if(O.stun||d[x]==="")return;if((D=r.valid(y))===!0){k();return}if(typeof D=="string")return;clearTimeout((f.one||"")[x]),clearTimeout(d[x]),d[x]=setTimeout(k,v.wait||99);function k(A){if(!i.has&&!i.soul&&(i={put:y,get:$}),s===(D=i.put)&&(D=((m.$$||"")._||"").put),typeof r.valid(D)=="string"&&(D=p.$.get(D)._.put,D===s&&!A)){d[x]=setTimeout(function(){k(1)},v.wait||99);return}O.stun||d[x]!==""&&(d[x]="",(f.soul||f.has)&&O.off(),u.call(_,D,i.get),clearTimeout(d[x]))}},{on:1}),c};function l(u,v,c){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(c=u.chain())._.nix=u.once(function(f,p){c._.on("in",this._)}),c._.lex=u._.lex,c}r.chain.off=function(){var u=this,v=u._,c,f=v.back;if(!!f)return v.ack=0,(c=f.next)&&c[v.get]&&delete c[v.get],(c=f.ask)&&delete c[v.get],(c=f.put)&&delete c[v.get],(c=v.soul)&&delete f.root.graph[c],(c=v.map)&&Object.keys(c).forEach(function(p,x){x=c[p],x.link&&f.root.$.get(x.link).off()}),(c=v.next)&&Object.keys(c).forEach(function(p,x){x=c[p],x.$.off()}),v.on("off",{}),u};var s})(t,"./on"),t(function(a){var r=t("./index"),l=r.chain.get.next;r.chain.get.next=function(c,f){var p;return Object.plain(f)?(p=((p=f["#"])||"")["="]||p)?c.get(p):((p=c.chain()._).lex=f,c.on("in",function(x){String.match(x.get||(x.put||"")["."],f["."]||f["#"]||f)&&p.on("in",x),this.to.next(x)}),p.$):(l||u)(c,f)},r.chain.map=function(c,f,p){var x=this,D=x._,y,$;return Object.plain(c)&&(y=c["."]?c:{".":c},c=v),c?(r.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),$=x.chain(),x.map().on(function(m,O,_,i){var d=(c||u).call(this,m,O,_,i);if(v!==d){if(m===d)return $._.on("in",_);if(r.is(d))return $._.on("in",d._);var k={};Object.keys(_.put).forEach(function(A){k[A]=_.put[A]},k),k["="]=d,$._.on("in",{get:O,put:k})}}),$):(($=D.each)||((D.each=$=x.chain())._.lex=y||$._.lex||D.lex,$._.nix=x.back("nix"),x.on("in",s,$._)),$)};function s(c){this.to.next(c);var f=this.as,p=c.$,x=p._,D=c.put,y;!x.soul&&!c.$$||(y=f.lex)&&!String.match(c.get||(D||"")["."],y["."]||y["#"]||y)||r.on.link(c,f)}var u=function(){},v})(t,"./map"),t(function(a){var r=t("./index");r.chain.set=function(l,s,u){var v=this,c=v.back(-1),f,p;return s=s||function(){},u=u||{},u.item=u.item||l,(f=((l||"")._||"")["#"])&&((l={})["#"]=f),typeof(p=r.valid(l))=="string"?v.get(f=p).put(l,s,u):r.is(l)?(v.put(function(x){l.get(function(D,y,$){if(!D)return s.call(v,{err:r.log('Only a node can be linked! Not "'+$.put+'"!')});(p={})[D]={"#":D},x(p)},!0)}),l):(Object.plain(l)&&(l=c.get(f=v.back("opt.uuid")()).put(l)),v.get(f||c.back("opt.uuid")(7)).put(l,s,u))}})(t,"./set"),t(function(a){t("./shim");var r=function(){},l=JSON.parseAsync||function(c,f,p){var x,D=+new Date;try{f(x,JSON.parse(c,p),s.sucks(+new Date-D))}catch(y){f(y)}},s=JSON.stringifyAsync||function(c,f,p,x){var D,y=+new Date;try{f(D,JSON.stringify(c,p,x),s.sucks(+new Date-y))}catch($){f($)}};s.sucks=function(c){c>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),s.sucks=r)};function u(c){var f=function(){},p=c.opt||{};p.log=p.log||console.log,p.gap=p.gap||p.wait||0,p.max=p.max||(p.memory?p.memory*999*999:3e8)*.3,p.pack=p.pack||p.max*.01*.01,p.puff=p.puff||9;var x=setTimeout.turn||setTimeout,D=c.dup,y=D.check,$=D.track,m=f.hear=function(i,d){if(!!i){if(p.max<=i.length)return f.say({dam:"!",err:"Message too big!"},d);f===this&&(m.d+=i.length||0,++m.c);var k=d.SH=+new Date,A=i[0],b;if(A==="["){l(i,function(T,j){if(T||!j)return f.say({dam:"!",err:"DAM JSON parse error."},d);console.STAT&&console.STAT(+new Date,j.length,"# on hear batch");var N=p.puff;(function E(){for(var h=+new Date,o=0,g;o<N&&(g=j[o++]);)f.hear(g,d);j=j.slice(o),console.STAT&&console.STAT(h,+new Date-h,"hear loop"),O(d),j.length&&x(E,0)})()}),i="";return}if(A==="{"||(i["#"]||Object.plain(i))&&(b=i)){if(b)return m.one(b,d,k);l(i,function(T,j){if(T||!j)return f.say({dam:"!",err:"DAM JSON parse error."},d);m.one(j,d,k)});return}}};m.one=function(i,d,E){var A,b,T,j,N;if(i.DBG&&(i.DBG=N={DBG:i.DBG}),N&&(N.h=E),N&&(N.hp=+new Date),(A=i["#"])||(A=i["#"]=String.random(9)),!(T=y(A))&&(b=i["##"],!(b&&(T=i["@"]||i.get&&A)&&D.check(j=T+b)))){if((i._=function(){}).via=f.leap=d,(T=i["><"])&&typeof T=="string"&&T.slice(0,99).split(",").forEach(function(h){this[h]=1},i._.yo={}),T=i.dam){(T=f.hear[T])&&T(i,d,c),$(A);return}(T=i.ok)&&(i._.near=T["/"]);var E=+new Date;N&&(N.is=E),d.SI=A,c.on("in",f.last=i),N&&(N.hd=+new Date),console.STAT&&console.STAT(E,+new Date-E,i.get?"msg get":i.put?"msg put":"msg"),(T=$(A)).via=d,i.get&&(T.it=i),j&&$(j),f.leap=f.last=null}},m.c=m.d=0,function(){var i=0,d;f.hash=function(b,T){var j,N,E,h=+new Date;s(b.put,function o(g,w){var I=(N||(N=E=w||"")).slice(0,32768);if(j=String.hash(I,j),N=N.slice(32768),N){x(o,0);return}console.STAT&&console.STAT(h,+new Date-h,"say json+hash"),b._.$put=E,b["##"]=j,f.say(b,T),delete b._.$put},k)};function k(b,T){var j;return T instanceof Object?(Object.keys(T).sort().forEach(A,{to:j={},on:T}),j):T}function A(b){this.to[b]=this.on[b]}f.say=function(b,T){var j;if((j=this)&&(j=j.to)&&j.next&&j.next(b),!b)return!1;var N,E,h=b["@"],o=b._||(b._=function(){}),g=b.DBG,w=+new Date;if(o.y=o.y||w,T||g&&(g.y=w),(N=b["#"])||(N=b["#"]=String.random(9)),!d&&$(N),!b["##"]&&v!==b.put&&!o.via&&h){f.hash(b,T);return}if(!T&&h&&(T=(j=D.s[h])&&(j.via||(j=j.it)&&(j=j._)&&j.via)||(j=f.last)&&h===j["#"]&&f.leap),!T&&h)return D.s[h]?void 0:(console.STAT&&console.STAT(+new Date,++i,"total no peer to ack to"),!1);if(!T&&f.way)return f.way(b);if(g&&(g.yh=+new Date),!(E=o.raw)){f.raw(b,T);return}if(g&&(g.yr=+new Date),!T||!T.id){if(!Object.plain(T||p.peers))return!1;var w=+new Date;p.puff;var I=p.peers,C=Object.keys(T||p.peers||{});console.STAT&&console.STAT(w,+new Date-w,"peer keys"),function L(){var P=+new Date;d=1;var M=o.raw;o.raw=E;for(var R=0,B;R<9&&(B=(C||"")[R++]);)!(B=I[B]||(T||"")[B])||f.say(b,B);o.raw=M,d=0,C=C.slice(R),console.STAT&&console.STAT(P,+new Date-P,"say loop"),C.length&&(x(L,0),h&&$(h))}();return}if(!T.wire&&f.wire&&f.wire(T),N!==T.last){if(T.last=N,T===o.via||(j=o.yo)&&(j[T.url]||j[T.pid]||j[T.id]))return!1;if(console.STAT&&console.STAT(w,((g||o).yp=+new Date)-(o.y||w),"say prep"),!d&&h&&$(h),T.batch){if(T.tail=(j=T.tail||0)+E.length,T.tail<=p.pack){T.batch+=(j?",":"")+E;return}O(T)}T.batch="[";var S=+new Date;setTimeout(function(){console.STAT&&console.STAT(S,+new Date-S,"0ms TO"),O(T)},p.gap),_(E,T),console.STAT&&h===T.SI&&console.STAT(w,+new Date-T.SH,"say ack")}},f.say.c=f.say.d=0,f.raw=function(b,T){if(!b)return"";var j=b._||{},N,E;if(E=j.raw)return E;if(typeof b=="string")return b;var h=b["##"],o=b["@"];if(h&&o){if(!j.via&&y(o+h))return!1;if((E=(D.s[o]||"").it)||(E=f.last)&&o===E["#"]){if(h===E["##"])return!1;E["##"]||(E["##"]=h)}}if(!b.dam&&!b["@"]){var g=0,w=[];E=p.peers;for(var I in E){var C=E[I];if(w.push(C.url||C.pid||C.id),++g>6)break}g>1&&(b["><"]=w.join())}if(b.put&&(E=b.ok)&&(b.ok={"@":(E["@"]||1)-1,"/":E["/"]==b._.near?f.near:E["/"]}),N=j.$put){E={},Object.keys(b).forEach(function(G){E[G]=b[G]}),E.put=":])([:",s(E,function(G,L){if(!G){var P=+new Date;E=L.indexOf('"put":":])([:"'),S(v,L=L.slice(0,E+6)+N+L.slice(E+14)),console.STAT&&console.STAT(P,+new Date-P,"say slice")}});return}s(b,S);function S(G,L){G||(j.raw=L,f.say(b,T))}}}();function O(i){var d=i.batch,k=typeof d=="string";if(k&&(d+="]"),i.batch=i.tail=null,!!d&&!(k?3>d.length:!d.length)){if(!k)try{d=d.length===1?d[0]:JSON.stringify(d)}catch(A){return p.log("DAM JSON stringify error",A)}!d||_(d,i)}}function _(i,d){try{var k=d.wire;d.say?d.say(i):k.send&&k.send(i),f.say.d+=i.length||0,++f.say.c}catch{(d.queue=d.queue||[]).push(i)}}return f.near=0,f.hi=function(i){var d=i.wire,k;if(!d){f.wire(i.length&&{url:i,id:i}||i);return}i.id?p.peers[i.url||i.id]=i:(k=i.id=i.id||i.url||String.random(9),f.say({dam:"?",pid:c.opt.pid},p.peers[k]=i),delete D.s[i.last]),i.met||(f.near++,i.met=+new Date,c.on("hi",i)),k=i.queue,i.queue=[],setTimeout.each(k||[],function(A){_(A,i)},0,9)},f.bye=function(i){i.met&&--f.near,delete i.met,c.on("bye",i);var d=+new Date;d=d-(i.met||d),f.bye.time=((f.bye.time||d)+d)/2},f.hear["!"]=function(i,d){p.log("Error:",i.err)},f.hear["?"]=function(i,d){i.pid&&(d.pid||(d.pid=i.pid),i["@"])||(f.say({dam:"?",pid:p.pid,"@":i["#"]},d),delete D.s[d.last])},f.hear.mob=function(i,d){if(!!i.peers){var k=Object.keys(i.peers),A=k[Math.random()*k.length>>0];!A||(f.bye(d),f.hi(A))}},c.on("create",function(i){i.opt.pid=i.opt.pid||String.random(9),this.to.next(i),i.on("out",f.say)}),c.on("bye",function(i,d){i=p.peers[i.id||i]||i,this.to.next(i),i.bye?i.bye():(d=i.wire)&&d.close&&d.close(),delete p.peers[i.id],i.wire=null}),c.on("bye",function(i,d){this.to.next(i),(d=console.STAT)&&(d.peers=f.near),(d=i.url)&&setTimeout(function(){},p.lack||9e3)}),c.on("hi",function(i,d){if(this.to.next(i),(d=console.STAT)&&(d.peers=f.near),!p.super){var k=Object.keys(c.next||"");k.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(k,function(A){var b=c.next[A];if(p.super||(b.ask||"")[""]){f.say({get:{"#":A}},i);return}setTimeout.each(Object.keys(b.ask||""),function(T){!T||f.say({"##":String.hash((c.graph[A]||"")[T]),get:{"#":A,".":T}},i)})})}}),f}var v;try{a.exports=u}catch{}})(t,"./mesh"),t(function(a){var r=t("./index");r.Mesh=t("./mesh"),r.on("opt",function(s){if(this.to.next(s),s.once)return;var u=s.opt;if(u.WebSocket===!1)return;var v=r.window||{},c=u.WebSocket||v.WebSocket||v.webkitWebSocket||v.mozWebSocket;if(!c)return;u.WebSocket=c;var f=u.mesh=u.mesh||r.Mesh(s);f.wire||u.wire,f.wire=u.wire=p;function p($){try{if(!$||!$.url)return O&&O($);var m=$.url.replace(/^http/,"ws"),O=$.wire=new u.WebSocket(m);return O.onclose=function(){D($),u.mesh.bye($)},O.onerror=function(_){D($)},O.onopen=function(){u.mesh.hi($)},O.onmessage=function(_){!_||u.mesh.hear(_.data||_,$)},O}catch{u.mesh.bye($)}}setTimeout(function(){!u.super&&s.on("out",{dam:"hi"})},1);var x=2*999;function D($){clearTimeout($.defer),u.peers[$.url]&&(y&&$.retry<=0||($.retry=($.retry||u.retry+1||60)-(-$.tried+($.tried=+new Date)<x*4?1:0),$.defer=setTimeout(function m(){if(y&&y.hidden)return setTimeout(m,x);p($)},x)))}var y=""+l!=typeof document&&document});var l})(t,"./websocket"),t(function(a){if(!(typeof Gun>"u")){var r=function(){},l;try{l=(Gun.window||r).localStorage}catch{}l||(Gun.log("Warning: No localStorage exists to persist data to!"),l={setItem:function(u,v){this[u]=v},removeItem:function(u){delete this[u]},getItem:function(u){return this[u]}});var s=JSON.stringifyAsync||function(u,v,c,f){var p;try{v(p,JSON.stringify(u,c,f))}catch(x){v(x)}};Gun.on("create",function u(v){this.to.next(v);var c=v.opt;v.graph;var f=[],p,x,D,y;if(c.localStorage===!1)return;c.prefix=c.file||"gun/";try{p=u[c.prefix]=u[c.prefix]||JSON.parse(D=l.getItem(c.prefix))||{}}catch{p=u[c.prefix]={}}D=(D||"").length,v.on("get",function(m){this.to.next(m);var O=m.get,_,i,d,k;!O||!(_=O["#"])||(i=p[_]||k,i&&(d=O["."])&&!Object.plain(d)&&(i=Gun.state.ify({},d,Gun.state.is(i,d),i[d],_)),Gun.on.get.ack(m,i))}),v.on("put",function(m){this.to.next(m);var O=m.put,_=O["#"],i=O["."],d=m["#"],k=m.ok||"";if(p[_]=Gun.state.ify(p[_],i,O[">"],O[":"],_),y&&D>4999880){v.on("in",{"@":d,err:"localStorage max!"});return}!m["@"]&&(!m._.via||Math.random()<k["@"]/k["/"])&&f.push(d),!x&&(x=setTimeout($,9+D/333))});function $(){if(!f.length&&((setTimeout.turn||"").s||"").length){setTimeout($,99);return}var m=f;clearTimeout(x),x=!1,f=[],s(p,function(O,_){try{!O&&l.setItem(c.prefix,_)}catch(i){O=y=i||"localStorage failure"}O&&(Gun.log(O+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),v.on("localStorage:error",{err:O,get:c.prefix,put:p})),D=_.length,setTimeout.each(m,function(i){v.on("in",{"@":i,err:O,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var E;if(""+E!=typeof Gun){var t=function(h){console.warn("Warning! Deprecated internal utility will break in next version:",h)},n=Gun;n.fn=n.fn||{is:function(h){return t("fn"),!!h&&typeof h=="function"}},n.bi=n.bi||{is:function(h){return t("bi"),h instanceof Boolean||typeof h=="boolean"}},n.num=n.num||{is:function(h){return t("num"),!a(h)&&(h-parseFloat(h)+1>=0||h===1/0||h===-1/0)}},n.text=n.text||{is:function(h){return t("text"),typeof h=="string"}},n.text.ify=n.text.ify||function(h){return t("text.ify"),n.text.is(h)?h:typeof JSON<"u"?JSON.stringify(h):h&&h.toString?h.toString():h},n.text.random=n.text.random||function(h,o){t("text.random");var g="";for(h=h||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";h>0;)g+=o.charAt(Math.floor(Math.random()*o.length)),h--;return g},n.text.match=n.text.match||function(h,o){var g,w;return t("text.match"),typeof h!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},g=o["="]||o["*"]||o[">"]||o["<"],h===g?!0:w!==o["="]?!1:(g=o["*"]||o[">"]||o["<"],h.slice(0,(g||"").length)===g?!0:w!==o["*"]?!1:w!==o[">"]&&w!==o["<"]?h>=o[">"]&&h<=o["<"]:w!==o[">"]&&h>=o[">"]||w!==o["<"]&&h<=o["<"]))},n.text.hash=n.text.hash||function(h,o){if(t("text.hash"),typeof h=="string"){if(o=o||0,!h.length)return o;for(var g=0,w=h.length,I;g<w;++g)I=h.charCodeAt(g),o=(o<<5)-o+I,o|=0;return o}},n.list=n.list||{is:function(h){return t("list"),h instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(h){return t("list.sort"),function(o,g){return!o||!g?0:(o=o[h],g=g[h],o<g?-1:o>g?1:0)}},n.list.map=n.list.map||function(h,o,g){return t("list.map"),j(h,o,g)},n.list.index=1,n.obj=n.boj||{is:function(h){return t("obj"),h?h instanceof Object&&h.constructor===Object||Object.prototype.toString.call(h).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},n.obj.put=n.obj.put||function(h,o,g){return t("obj.put"),(h||{})[o]=g,h},n.obj.has=n.obj.has||function(h,o){return t("obj.has"),h&&Object.prototype.hasOwnProperty.call(h,o)},n.obj.del=n.obj.del||function(h,o){if(t("obj.del"),!!h)return h[o]=null,delete h[o],h},n.obj.as=n.obj.as||function(h,o,g,w){return t("obj.as"),h[o]=h[o]||(w===g?{}:g)},n.obj.ify=n.obj.ify||function(h){if(t("obj.ify"),d(h))return h;try{h=JSON.parse(h)}catch{h={}}return h},function(){var h;function o(g,w){A(this,w)&&h!==this[w]||(this[w]=g)}n.obj.to=n.obj.to||function(g,w){return t("obj.to"),w=w||{},j(g,o,w),w}}(),n.obj.copy=n.obj.copy||function(h){return t("obj.copy"),h&&JSON.parse(JSON.stringify(h))},function(){function h(o,g){var w=this.n,I;if(!(w&&(g===w||d(w)&&A(w,g)))&&I!==g)return!0}n.obj.empty=n.obj.empty||function(o,g){return t("obj.empty"),o?!j(o,h,{n:g}):!0}}(),function(){function h(w,I){if(arguments.length===2){h.r=h.r||{},h.r[w]=I;return}h.r=h.r||[],h.r.push(w)}var o=Object.keys,g;Object.keys=Object.keys||function(w){return g(w,function(I,C,S){S(C)})},n.obj.map=g=n.obj.map||function(w,I,C){t("obj.map");var S,G=0,L,P,M,R,B=typeof I=="function";if(h.r=S,o&&d(w)&&(M=o(w),R=!0),C=C||{},a(w)||M)for(L=(M||w).length;G<L;G++){var z=G+n.list.index;if(B){if(P=R?I.call(C,w[M[G]],M[G],h):I.call(C,w[G],z,h),P!==S)return P}else if(I===w[R?M[G]:G])return M?M[G]:z}else for(G in w)if(B){if(A(w,G)&&(P=C?I.call(C,w[G],G,h):I(w[G],G,h),P!==S))return P}else if(I===w[G])return G;return B?h.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(h){return t("time"),h?h instanceof Date:+new Date().getTime()};var _=n.fn.is,a=n.list.is,i=n.obj,d=i.is,A=i.has,j=i.map,r={};r.is=function(h){return t("val.is"),h===E?!1:h===null?!0:h===1/0?!1:u(h)||s(h)||y(h)?!0:r.link.is(h)||!1},r.link=r.rel={_:"#"},function(){r.link.is=function(o){if(t("val.link.is"),o&&o[l]&&!o._&&d(o)){var g={};if(j(o,h,g),g.id)return g.id}return!1};function h(o,g){var w=this;if(w.id)return w.id=!1;if(g==l&&u(o))w.id=o;else return w.id=!1}}(),r.link.ify=function(h){return t("val.link.ify"),T({},l,h)},n.obj.has._=".";var l=r.link._,E,s=n.bi.is,y=n.num.is,u=n.text.is,i=n.obj,d=i.is,T=i.put,j=i.map;n.val=n.val||r;var v={_:"_"};v.soul=function(h,o){return t("node.soul"),h&&h._&&h._[o||p]},v.soul.ify=function(h,o){return t("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},h=h||{},h._=h._||{},h._[p]=o.soul||h._[p]||f(),h},v.soul._=r.link._,function(){v.is=function(o,g,w){t("node.is");var I;return d(o)&&(I=v.soul(o))?!j(o,h,{as:w,cb:g,s:I,n:o}):!1};function h(o,g){if(g!==v._){if(!r.is(o))return!0;this.cb&&this.cb.call(this.as,o,g,this.n,this.s)}}}(),function(){v.ify=function(o,g,w){return t("node.ify"),g?typeof g=="string"?g={soul:g}:typeof g=="function"&&(g={map:g}):g={},g.map&&(g.node=g.map.call(w,o,E,g.node||{})),(g.node=v.soul.ify(g.node||{},g))&&j(o,h,{o:g,as:w}),g.node};function h(o,g){var w=this.o,I,C;if(w.map){I=w.map.call(this.as,o,""+g,w.node),C===I?k(w.node,g):w.node&&(w.node[g]=I);return}r.is(o)&&(w.node[g]=o)}}();var i=n.obj,d=i.is,k=i.del,j=i.map,c=n.text,f=c.random,p=v.soul._,E;n.node=n.node||v;var x=n.state;x.lex=function(){return t("state.lex"),x().toString(36).replace(".","")},x.to=function(h,o,g){t("state.to");var w=(h||{})[o];return d(w)&&(w=N(w)),x.ify(g,o,x.is(h,o),w,v.soul(h))},function(){x.map=function(o,g,w){t("state.map");var I,C=d(C=o||g)?C:null;return o=_(o=o||g)?o:null,C&&!o?(g=y(g)?g:x(),C[m]=C[m]||{},j(C,h,{o:C,s:g}),C):(w=w||d(g)?g:I,g=y(g)?g:x(),function(S,G,L,P){if(!o)return h.call({o:L,s:g},S,G),S;o.call(w||this||{},S,G,L,P),!(A(L,G)&&I===L[G])&&h.call({o:L,s:g},S,G)})};function h(o,g){m!==g&&x.ify(this.o,g,this.s)}}();var i=n.obj;i.as;var A=i.has,d=i.is,j=i.map,N=i.copy,D=n.num,y=D.is,$=n.fn,_=$.is,m=v._,E,O={};(function(){O.is=function(g,w,I,C){return t("graph.is"),!g||!d(g)||b(g)?!1:!j(g,h,{cb:w,fn:I,as:C})};function h(g,w){if(!g||w!==v.soul(g)||!v.is(g,this.fn,this.as))return!0;!this.cb||(o.n=g,o.as=this.as,this.cb.call(o.as,g,w,o))}function o(g){g&&v.is(o.n,g,o.as)}})(),function(){O.ify=function(C,S,G){t("graph.ify");var L={path:[],obj:C};return S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S.map=S):S={},typeof G=="string"&&(S.soul=S.soul||G,G=E),S.soul&&(L.link=r.link.ify(S.soul)),S.shell=(G||{}).shell,S.graph=S.graph||{},S.seen=S.seen||[],S.as=S.as||G,h(S,L),S.root=L.node,S.graph};function h(C,S){var G;return(G=I(C,S))?G:(S.env=C,S.soul=g,v.ify(S.obj,o,S)&&(S.link=S.link||r.link.ify(v.soul(S.node)),S.obj!==C.shell&&(C.graph[r.link.is(S.link)]=S.node)),S)}function o(C,S,G){var L=this,P=L.env,M,R;if(v._===S&&A(C,r.link._))return G._;if(!!(M=w(C,S,G,L,P))){if(S||(L.node=L.node||G||{},A(C,v._)&&v.soul(C)&&(L.node._=N(C._)),L.node=v.soul.ify(L.node,r.link.is(L.link)),L.link=L.link||r.link.ify(v.soul(L.node))),(R=P.map)&&(R.call(P.as||{},C,S,G,L),A(G,S))){if(C=G[S],E===C){k(G,S);return}if(!(M=w(C,S,G,L,P)))return}if(!S)return L.node;if(M===!0)return C;if(R=h(P,{obj:C,path:L.path.concat(S)}),!!R.node)return R.link}}function g(C){var S=this,G=r.link.is(S.link),L=S.env.graph;S.link=S.link||r.link.ify(C),S.link[r.link._]=C,S.node&&S.node[v._]&&(S.node[v._][r.link._]=C),A(L,G)&&(L[C]=L[G],k(L,G))}function w(C,S,G,L,P){var M;if(r.is(C))return!0;if(d(C))return 1;if(M=P.invalid)return C=M.call(P.as||{},C,S,G),w(C,S,G,L,P);P.err="Invalid value at '"+L.path.concat(S).join(".")+"'!",n.list.is(C)&&(P.err+=" Use `.set(item)` instead of an Array.")}function I(C,S){for(var G=C.seen,L=G.length,P;L--;)if(P=G[L],S.obj===P.obj)return P;G.push(S)}}(),O.node=function(h){t("graph.node");var o=v.soul(h);if(!!o)return T({},o,h)},function(){O.to=function(o,g,w){if(t("graph.to"),!!o){var I={};return w=w||{seen:{}},j(o[g],h,{obj:I,graph:o,opt:w}),I}};function h(o,g){var w,I;if(v._===g){if(b(o,r.link._))return;this.obj[g]=N(o);return}if(!(w=r.link.is(o))){this.obj[g]=o;return}if(I=this.opt.seen[w]){this.obj[g]=I;return}this.obj[g]=this.opt.seen[w]=O.to(this.graph,w,this.opt)}}();var _=n.fn.is,i=n.obj,d=i.is,k=i.del,A=i.has,b=i.empty,T=i.put,j=i.map,N=i.copy,E;n.graph=n.graph||O}}()})(fe);(function(e){e.exports=fe.exports})(se);const Tn=Sn(se.exports),An=st('<div><div class="grid grid-cols-3 grid-rows-3"></div></div>'),Dn=Tn("https://mvp-gun.herokuapp.com/gun"),On=()=>{const[e,t]=tt(Array.from({length:9},()=>V.None)),[n,a]=tt(V.Circle),r=K(()=>We(e())),l=f=>{let p=e(),x=n();p[f]===V.None&&(p[f]=x,t([...p]),x=Je(x),a(x),u())},s=()=>{t(Array.from({length:9},()=>V.None)),a(V.Circle),u()},u=()=>{c.put({field:{...e()},turn:n()})},v=gn().query.id||$n(),c=Dn.get(v);return console.log("GameID:",v),c.once(f=>{f||u()}),c.get("field").on(f=>{const p=Object.values(f).slice(0,9);t(p)}),c.get("turn").on(f=>{a(f)}),(()=>{const f=An.cloneNode(!0),p=f.firstChild;return X(p,J(Se,{get each(){return e()},children:(x,D)=>J(Xe,{state:x,onClick:()=>l(D())})})),X(f,J(re,{get children(){return[J(ht,{get when(){return r()===V.Circle},get children(){return J(St,{restartGame:s,result:"Winner: Circle"})}}),J(ht,{get when(){return r()===V.Cross},get children(){return J(St,{restartGame:s,result:"Winner: Cross"})}}),J(ht,{get when(){return r()===V.Draw},get children(){return J(St,{restartGame:s,result:"Draw"})}})]}}),null),f})()},Cn=st('<div class="absolute inset-0 flex justify-center items-center"></div>'),Nn=()=>J(bn,{get children(){const e=Cn.cloneNode(!0);return X(e,J(On,{})),e}});Ge(()=>J(Nn,{}),document.getElementById("root"));
