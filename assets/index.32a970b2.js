(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const Z={},ce=(e,t)=>e===t,he=Symbol("solid-proxy"),de=Symbol("solid-track"),bt={equals:ce};let pe=te;const ot=1,mt=2,Kt={owned:null,cleanups:null,context:null,owner:null};var U=null;let rt=null,q=null,W=null,it=null,Ot=0;function vt(e,t){const n=q,a=U,r=e.length===0,l=r?Kt:{owned:null,cleanups:null,context:null,owner:t||a},s=r?e:()=>e(()=>Y(()=>Nt(l)));U=l,q=null;try{return ut(s,!0)}finally{q=n,U=a}}function tt(e,t){t=t?Object.assign({},bt,t):bt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},a=r=>(typeof r=="function"&&(r=r(n.value)),Qt(n,r));return[Xt.bind(n),a]}function Q(e,t,n){const a=Yt(e,t,!1,ot);_t(a)}function H(e,t,n){n=n?Object.assign({},bt,n):bt;const a=Yt(e,t,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=n.equals||void 0,_t(a),Xt.bind(a)}function Y(e){let t,n=q;return q=null,t=e(),q=n,t}function ye(e,t,n){const a=Array.isArray(e);let r,l=n&&n.defer;return s=>{let u;if(a){u=Array(e.length);for(let h=0;h<e.length;h++)u[h]=e[h]()}else u=e();if(l){l=!1;return}const v=Y(()=>t(u,r,s));return r=u,v}}function Ct(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function ge(){return U}function ve(e,t){const n=U;U=e;try{return ut(t,!0)}finally{U=n}}function we(e){const t=q,n=U;return Promise.resolve().then(()=>{q=t,U=n;let a;return ut(e,!1),q=U=null,a?a.done:void 0})}function Ht(e){const t=Symbol("context");return{id:t,Provider:_e(t),defaultValue:e}}function Vt(e){let t;return(t=re(U,e.id))!==void 0?t:e.defaultValue}function zt(e){const t=H(e),n=H(()=>At(t()));return n.toArray=()=>{const a=n();return Array.isArray(a)?a:a!=null?[a]:[]},n}function Xt(){const e=rt;if(this.sources&&(this.state||e))if(this.state===ot||e)_t(this);else{const t=W;W=null,ut(()=>kt(this),!1),W=t}if(q){const t=this.observers?this.observers.length:0;q.sources?(q.sources.push(this),q.sourceSlots.push(t)):(q.sources=[this],q.sourceSlots=[t]),this.observers?(this.observers.push(q),this.observerSlots.push(q.sources.length-1)):(this.observers=[q],this.observerSlots=[q.sources.length-1])}return this.value}function Qt(e,t,n){let a=e.value;return(!e.comparator||!e.comparator(a,t))&&(e.value=t,e.observers&&e.observers.length&&ut(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],s=rt&&rt.running;s&&rt.disposed.has(l),(s&&!l.tState||!s&&!l.state)&&(l.pure?W.push(l):it.push(l),l.observers&&ee(l)),s||(l.state=ot)}if(W.length>1e6)throw W=[],new Error},!1)),t}function _t(e){if(!e.fn)return;Nt(e);const t=U,n=q,a=Ot;q=U=e,be(e,e.value,a),q=n,U=t}function be(e,t,n){let a;try{a=e.fn(t)}catch(r){e.pure&&(e.state=ot),ne(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Qt(e,a):e.value=a,e.updatedAt=n)}function Yt(e,t,n,a=ot,r){const l={fn:e,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:null,pure:n};return U===null||U!==Kt&&(U.owned?U.owned.push(l):U.owned=[l]),l}function Zt(e){const t=rt;if(e.state===0||t)return;if(e.state===mt||t)return kt(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ot);)(e.state||t)&&n.push(e);for(let a=n.length-1;a>=0;a--)if(e=n[a],e.state===ot||t)_t(e);else if(e.state===mt||t){const r=W;W=null,ut(()=>kt(e,n[0]),!1),W=r}}function ut(e,t){if(W)return e();let n=!1;t||(W=[]),it?n=!0:it=[],Ot++;try{const a=e();return me(n),a}catch(a){W||(it=null),ne(a)}}function me(e){if(W&&(te(W),W=null),e)return;const t=it;it=null,t.length&&ut(()=>pe(t),!1)}function te(e){for(let t=0;t<e.length;t++)Zt(e[t])}function kt(e,t){const n=rt;e.state=0;for(let a=0;a<e.sources.length;a+=1){const r=e.sources[a];r.sources&&(r.state===ot||n?r!==t&&Zt(r):(r.state===mt||n)&&kt(r,t))}}function ee(e){const t=rt;for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n];(!a.state||t)&&(a.state=mt,a.pure?W.push(a):it.push(a),a.observers&&ee(a))}}function Nt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),a=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),s=n.observerSlots.pop();a<r.length&&(l.sourceSlots[s]=a,r[a]=l,n.observerSlots[a]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Nt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function ke(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function ne(e){throw e=ke(e),e}function re(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:re(e.owner,t):void 0}function At(e){if(typeof e=="function"&&!e.length)return At(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const a=At(e[n]);Array.isArray(a)?t.push.apply(t,a):t.push(a)}return t}return e}function _e(e){return function(n){let a;return Q(()=>a=Y(()=>(U.context={[e]:n.value},zt(()=>n.children)))),a}}const xe=Symbol("fallback");function Lt(e){for(let t=0;t<e.length;t++)e[t]()}function $e(e,t,n={}){let a=[],r=[],l=[],s=0,u=t.length>1?[]:null;return Ct(()=>Lt(l)),()=>{let v=e()||[],h,f;return v[de],Y(()=>{let $=v.length,A,p,b,w,T,x,i,d,_;if($===0)s!==0&&(Lt(l),l=[],a=[],r=[],s=0,u&&(u=[])),n.fallback&&(a=[xe],r[0]=vt(O=>(l[0]=O,n.fallback())),s=1);else if(s===0){for(r=new Array($),f=0;f<$;f++)a[f]=v[f],r[f]=vt(y);s=$}else{for(b=new Array($),w=new Array($),u&&(T=new Array($)),x=0,i=Math.min(s,$);x<i&&a[x]===v[x];x++);for(i=s-1,d=$-1;i>=x&&d>=x&&a[i]===v[d];i--,d--)b[d]=r[i],w[d]=l[i],u&&(T[d]=u[i]);for(A=new Map,p=new Array(d+1),f=d;f>=x;f--)_=v[f],h=A.get(_),p[f]=h===void 0?-1:h,A.set(_,f);for(h=x;h<=i;h++)_=a[h],f=A.get(_),f!==void 0&&f!==-1?(b[f]=r[h],w[f]=l[h],u&&(T[f]=u[h]),f=p[f],A.set(_,f)):l[h]();for(f=x;f<$;f++)f in b?(r[f]=b[f],l[f]=w[f],u&&(u[f]=T[f],u[f](f))):r[f]=vt(y);r=r.slice(0,s=$),a=v.slice(0)}return r});function y($){if(l[f]=$,u){const[A,p]=tt(f);return u[f]=p,t(v[f],A)}return t(v[f])}}}function J(e,t){return Y(()=>e(t||{}))}function yt(){return!0}const Se={get(e,t,n){return t===he?n:e.get(t)},has(e,t){return e.has(t)},set:yt,deleteProperty:yt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:yt,deleteProperty:yt}},ownKeys(e){return e.keys()}};function $t(e){return(e=typeof e=="function"?e():e)==null?{}:e}function je(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const a=$t(e[n])[t];if(a!==void 0)return a}},has(t){for(let n=e.length-1;n>=0;n--)if(t in $t(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys($t(e[n])));return[...new Set(t)]}},Se)}function Te(e){const t="fallback"in e&&{fallback:()=>e.fallback};return H($e(()=>e.each,e.children,t||void 0))}function ie(e){let t=!1,n=!1;const a=zt(()=>e.children),r=H(()=>{let l=a();Array.isArray(l)||(l=[l]);for(let s=0;s<l.length;s++){const u=l[s].when;if(u)return n=!!l[s].keyed,[s,u,l[s]]}return[-1]},void 0,{equals:(l,s)=>l[0]===s[0]&&(t?l[1]===s[1]:!l[1]==!s[1])&&l[2]===s[2]});return H(()=>{const[l,s,u]=r();if(l<0)return e.fallback;const v=u.children,h=typeof v=="function"&&v.length>0;return t=n||h,h?Y(()=>v(s)):v})}function ht(e){return e}const Ae=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],De=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ae]),Oe=new Set(["innerHTML","textContent","innerText","children"]),Ce={className:"class",htmlFor:"for"},Pt={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Ne=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ee={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ie(e,t){return H(e,void 0,t?void 0:{equals:t})}function Ge(e,t,n){let a=n.length,r=t.length,l=a,s=0,u=0,v=t[r-1].nextSibling,h=null;for(;s<r||u<l;){if(t[s]===n[u]){s++,u++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===s){const f=l<a?u?n[u-1].nextSibling:n[l-u]:v;for(;u<l;)e.insertBefore(n[u++],f)}else if(l===u)for(;s<r;)(!h||!h.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[u]===t[r-1]){const f=t[--r].nextSibling;e.insertBefore(n[u++],t[s++].nextSibling),e.insertBefore(n[--l],f),t[r]=n[l]}else{if(!h){h=new Map;let y=u;for(;y<l;)h.set(n[y],y++)}const f=h.get(t[s]);if(f!=null)if(u<f&&f<l){let y=s,$=1,A;for(;++y<r&&y<l&&!((A=h.get(t[y]))==null||A!==f+$);)$++;if($>f-u){const p=t[s];for(;u<f;)e.insertBefore(n[u++],p)}else e.replaceChild(n[u++],t[s++])}else s++;else t[s++].remove()}}}const Mt="_$DX_DELEGATE";function Le(e,t,n){let a;return vt(r=>{a=r,t===document?e():X(t,e(),t.firstChild?null:void 0,n)}),()=>{a(),t.textContent=""}}function st(e,t,n){const a=document.createElement("template");a.innerHTML=e;let r=a.content.firstChild;return n&&(r=r.firstChild),r}function xt(e,t=window.document){const n=t[Mt]||(t[Mt]=new Set);for(let a=0,r=e.length;a<r;a++){const l=e[a];n.has(l)||(n.add(l),t.addEventListener(l,Je))}}function wt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Pe(e,t,n,a){a==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,a)}function Me(e,t){t==null?e.removeAttribute("class"):e.className=t}function Et(e,t,n,a){if(a)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=l=>r.call(e,n[1],l))}else e.addEventListener(t,n)}function Re(e,t,n={}){const a=Object.keys(t||{}),r=Object.keys(n);let l,s;for(l=0,s=r.length;l<s;l++){const u=r[l];!u||u==="undefined"||t[u]||(Rt(e,u,!1),delete n[u])}for(l=0,s=a.length;l<s;l++){const u=a[l],v=!!t[u];!u||u==="undefined"||n[u]===v||!v||(Rt(e,u,!0),n[u]=v)}return n}function oe(e,t,n={}){const a=e.style,r=typeof n=="string";if(t==null&&r||typeof t=="string")return a.cssText=t;r&&(a.cssText=void 0,n={}),t||(t={});let l,s;for(s in n)t[s]==null&&a.removeProperty(s),delete n[s];for(s in t)l=t[s],l!==n[s]&&(a.setProperty(s,l),n[s]=l);return n}function Be(e,t,n,a){typeof t=="function"?Q(r=>Ut(e,t(),r,n,a)):Ut(e,t,void 0,n,a)}function X(e,t,n,a){if(n!==void 0&&!a&&(a=[]),typeof t!="function")return lt(e,t,a,n);Q(r=>lt(e,t(),r,n),a)}function Ue(e,t,n,a,r={},l=!1){t||(t={});for(const s in r)if(!(s in t)){if(s==="children")continue;Bt(e,s,null,r[s],n,l)}for(const s in t){if(s==="children"){a||lt(e,t.children);continue}const u=t[s];r[s]=Bt(e,s,u,r[s],n,l)}}function qe(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Rt(e,t,n){const a=t.trim().split(/\s+/);for(let r=0,l=a.length;r<l;r++)e.classList.toggle(a[r],n)}function Bt(e,t,n,a,r,l){let s,u,v;if(t==="style")return oe(e,n,a);if(t==="classList")return Re(e,n,a);if(n===a)return a;if(t==="ref")l||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);a&&e.removeEventListener(h,a),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);a&&e.removeEventListener(h,a,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=Ne.has(h);if(!f&&a){const y=Array.isArray(a)?a[0]:a;e.removeEventListener(h,y)}(f||n)&&(Et(e,h,n,f),f&&xt([h]))}else if((v=Oe.has(t))||!r&&(Pt[t]||(u=De.has(t)))||(s=e.nodeName.includes("-")))t==="class"||t==="className"?Me(e,n):s&&!u&&!v?e[qe(t)]=n:e[Pt[t]||t]=n;else{const h=r&&t.indexOf(":")>-1&&Ee[t.split(":")[0]];h?Pe(e,h,t,n):wt(e,Ce[t]||t,n)}return n}function Je(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),Z.registry&&!Z.done&&(Z.done=!0,document.querySelectorAll("[id^=pl-]").forEach(a=>a.remove()));n!==null;){const a=n[t];if(a&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?a.call(n,r,e):a.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Ut(e,t,n={},a,r){return t||(t={}),!r&&"children"in t&&Q(()=>n.children=lt(e,t.children,n.children)),t.ref&&t.ref(e),Q(()=>Ue(e,t,a,!0,n,!0)),n}function lt(e,t,n,a,r){for(Z.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=a!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(Z.context)return n;if(l==="number"&&(t=t.toString()),s){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=ft(e,n,a,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(Z.context)return n;n=ft(e,n,a)}else{if(l==="function")return Q(()=>{let u=t();for(;typeof u=="function";)u=u();n=lt(e,u,n,a)}),()=>n;if(Array.isArray(t)){const u=[],v=n&&Array.isArray(n);if(Dt(u,t,n,r))return Q(()=>n=lt(e,u,n,a,!0)),()=>n;if(Z.context){if(!u.length)return n;for(let h=0;h<u.length;h++)if(u[h].parentNode)return n=u}if(u.length===0){if(n=ft(e,n,a),s)return n}else v?n.length===0?qt(e,u,a):Ge(e,n,u):(n&&ft(e),qt(e,u));n=u}else if(t instanceof Node){if(Z.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=ft(e,n,a,t);ft(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Dt(e,t,n,a){let r=!1;for(let l=0,s=t.length;l<s;l++){let u=t[l],v=n&&n[l];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))r=Dt(e,u,v)||r;else if(typeof u=="function")if(a){for(;typeof u=="function";)u=u();r=Dt(e,Array.isArray(u)?u:[u],v)||r}else e.push(u),r=!0;else{const h=String(u);v&&v.nodeType===3&&v.data===h?e.push(v):e.push(document.createTextNode(h))}}return r}function qt(e,t,n){for(let a=0,r=t.length;a<r;a++)e.insertBefore(t[a],n)}function ft(e,t,n,a){if(n===void 0)return e.textContent="";const r=a||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const u=t[s];if(r!==u){const v=u.parentNode===e;!l&&!s?v?e.replaceChild(r,u):e.insertBefore(r,n):v&&u.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const Fe=!1;var K=(e=>(e[e.None=0]="None",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Draw=3]="Draw",e))(K||{});const We=e=>{switch(e){case 2:return 1;case 1:return 2}return 0},Ke=e=>{const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]];for(let a of t){const[r,l,s]=a;if(e[r]!==0&&e[r]===e[l]&&e[r]==e[s])return e[r]}let n=!0;for(let a of e)a===0&&(n=!1);return n?3:0},He=st('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),Ve=st("<title></title>");function ue(e,t){const n=je(e.a,t);return(()=>{const a=He.cloneNode(!0);return Be(a,n,!0,!0),X(a,()=>Fe,null),X(a,(()=>{const r=Ie(()=>!!t.title,!0);return()=>r()&&(()=>{const l=Ve.cloneNode(!0);return X(l,()=>t.title),l})()})(),null),Q(r=>{const l=e.a.stroke,s={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",v=t.size||"1em",h=e.c;return l!==r._v$&&wt(a,"stroke",r._v$=l),r._v$2=oe(a,s,r._v$2),u!==r._v$3&&wt(a,"height",r._v$3=u),v!==r._v$4&&wt(a,"width",r._v$4=v),h!==r._v$5&&(a.innerHTML=r._v$5=h),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),a})()}function ze(e){return ue({a:{viewBox:"0 0 512 512"},c:'<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"/>'},e)}function Xe(e){return ue({a:{viewBox:"0 0 384 512"},c:'<path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 01-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 01-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/>'},e)}const Qe=st('<div class="bg-gray-300 rounded min-w-[6rem] min-h-[6rem] sm:min-w-[8rem] sm:min-h-[8rem] md:min-w-[12rem] md:min-h-[12rem] lg:min-w-[16rem] lg:min-h-[16rem] m-2 flex justify-center items-center"></div>'),Ye=e=>(()=>{const t=Qe.cloneNode(!0);return Et(t,"click",e.onClick,!0),X(t,J(ie,{get fallback(){return[]},get children(){return[J(ht,{get when(){return e.state===K.Cross},get children(){return J(Xe,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}}),J(ht,{get when(){return e.state===K.Circle},get children(){return J(ze,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}})]}})),t})();xt(["click"]);const Ze=st('<div class="absolute inset-0 flex justify-center items-center"><div class="rounded bg-gray-100 px-8 py-5"></div></div>'),tn=e=>(()=>{const t=Ze.cloneNode(!0),n=t.firstChild;return X(n,()=>e.children),t})(),en=st('<div class="flex flex-col"><h3 class="m-3 text-4xl text-center"></h3><span class="py-2 px-3 rounded bg-gray-300 m-auto cursor-pointer">Restart Game</span></div>'),St=e=>J(tn,{get children(){const t=en.cloneNode(!0),n=t.firstChild,a=n.nextSibling;return X(n,()=>e.result),Et(a,"click",e.restartGame,!0),t}});xt(["click"]);function nn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function rn([e,t],n,a){return[n?()=>n(e()):e,a?r=>t(a(r)):t]}function on(e){try{return document.querySelector(e)}catch{return null}}function un(e,t){const n=on(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function sn(e,t,n,a){let r=!1;const l=u=>typeof u=="string"?{value:u}:u,s=rn(tt(l(e()),{equals:(u,v)=>u.value===v.value}),void 0,u=>(!r&&t(u),u));return n&&Ct(n((u=e())=>{r=!0,s[1](l(u)),r=!1})),{signal:s,utils:a}}function fn(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:tt({value:""})};return e}function an(){return sn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:a})=>{t?window.history.replaceState(a,"",e):window.history.pushState(a,"",e),un(window.location.hash.slice(1),n)},e=>nn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const ln=/^(?:[a-z0-9]+:)?\/\//i,cn=/^\/+|\/+$/g;function jt(e,t=!1){const n=e.replace(cn,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Tt(e,t,n){if(ln.test(t))return;const a=jt(e),r=n&&jt(n);let l="";return!r||t.startsWith("/")?l=a:r.toLowerCase().indexOf(a.toLowerCase())!==0?l=a+r:l=r,(l||"/")+jt(t,!l)}function hn(e,t){if(e==null)throw new Error(t);return e}function dn(e){const t={};return e.searchParams.forEach((n,a)=>{t[a]=n}),t}function at(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function pn(e){const t=new Map,n=ge();return new Proxy({},{get(a,r){return t.has(r)||ve(n,()=>t.set(r,H(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const yn=100,se=Ht(),gn=Ht(),fe=()=>hn(Vt(se),"Make sure your app is wrapped in a <Router />");let Jt;const vn=()=>fe().navigatorFactory(),wn=()=>fe().location;function bn(e,t){const n=new URL("http://sar"),a=H(v=>{const h=e();try{return new URL(h,n)}catch{return console.error(`Invalid path ${h}`),v}},n,{equals:(v,h)=>v.href===h.href}),r=H(()=>at(a().pathname)),l=H(()=>at(a().search,!0)),s=H(()=>at(a().hash)),u=H(()=>"");return{get pathname(){return r()},get search(){return l()},get hash(){return s()},get state(){return t()},get key(){return u()},query:pn(ye(l,()=>dn(a())))}}function mn(e,t="",n,a){const{signal:[r,l],utils:s={}}=fn(e),u=s.parsePath||(j=>j),v=s.renderPath||(j=>j),h=Tt("",t),f=void 0;if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!r().value&&l({value:h,replace:!0,scroll:!1});const[y,$]=tt(!1),A=async j=>{$(!0);try{await we(j)}finally{$(!1)}},[p,b]=tt(r().value),[w,T]=tt(r().state),x=bn(p,w),i=[],d={pattern:h,params:{},path:()=>h,outlet:()=>null,resolvePath(j){return Tt(h,j)}};if(n)try{Jt=d,d.data=n({data:void 0,params:{},location:x,navigate:O(d)})}finally{Jt=void 0}function _(j,N,E){Y(()=>{if(typeof N=="number"){N&&(s.go?s.go(N):console.warn("Router integration does not support relative routing"));return}const{replace:c,resolve:o,scroll:g,state:m}={replace:!1,resolve:!0,scroll:!0,...E},G=o?j.resolvePath(N):Tt("",N);if(G===void 0)throw new Error(`Path '${N}' is not a routable path`);if(i.length>=yn)throw new Error("Too many redirects");const C=p();if(G!==C||m!==w()){const S=i.push({value:C,replace:c,scroll:g,state:w()});A(()=>{b(G),T(m)}).then(()=>{i.length===S&&k({value:G,state:m})})}})}function O(j){return j=j||Vt(gn)||d,(N,E)=>_(j,N,E)}function k(j){const N=i[0];N&&((j.value!==N.value||j.state!==N.state)&&l({...j,replace:N.replace,scroll:N.scroll}),i.length=0)}Q(()=>{const{value:j,state:N}=r();Y(()=>{j!==p()&&A(()=>{b(j),T(N)})})});{let j=function(N){if(N.defaultPrevented||N.button!==0||N.metaKey||N.altKey||N.ctrlKey||N.shiftKey)return;const E=N.composedPath().find(S=>S instanceof Node&&S.nodeName.toUpperCase()==="A");if(!E||!E.hasAttribute("link"))return;const c=E.href;if(E.target||!c&&!E.hasAttribute("state"))return;const o=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||o&&o.includes("external"))return;const g=new URL(c),m=at(g.pathname);if(g.origin!==window.location.origin||h&&m&&!m.toLowerCase().startsWith(h.toLowerCase()))return;const G=u(m+at(g.search,!0)+at(g.hash)),C=E.getAttribute("state");N.preventDefault(),_(d,G,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:C&&JSON.parse(C)})};var D=j;xt(["click"]),document.addEventListener("click",j),Ct(()=>document.removeEventListener("click",j))}return{base:d,out:f,location:x,isRouting:y,renderPath:v,parsePath:u,navigatorFactory:O}}const kn=e=>{const{source:t,url:n,base:a,data:r,out:l}=e,s=t||an(),u=mn(s,a,r);return J(se.Provider,{value:u,get children(){return e.children}})};let gt;const _n=new Uint8Array(16);function xn(){if(!gt&&(gt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gt(_n)}const F=[];for(let e=0;e<256;++e)F.push((e+256).toString(16).slice(1));function $n(e,t=0){return(F[e[t+0]]+F[e[t+1]]+F[e[t+2]]+F[e[t+3]]+"-"+F[e[t+4]]+F[e[t+5]]+"-"+F[e[t+6]]+F[e[t+7]]+"-"+F[e[t+8]]+F[e[t+9]]+"-"+F[e[t+10]]+F[e[t+11]]+F[e[t+12]]+F[e[t+13]]+F[e[t+14]]+F[e[t+15]]).toLowerCase()}const Sn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ft={randomUUID:Sn};function Wt(e,t,n){if(Ft.randomUUID&&!t&&!e)return Ft.randomUUID();e=e||{};const a=e.random||(e.rng||xn)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=a[r];return t}return $n(a)}function jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ae={exports:{}};function Tn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var le={exports:{}};(function(e){(function(){function t(a,r){return r?Tn(a):a.slice?t[l(a)]:function(s,u){a(s={exports:{}}),t[l(u)]=s.exports};function l(s){return s.split("/").slice(-1).toString().replace(".js","")}}var n=e;t(function(a){String.random=function(l,s){var u="";for(l=l||24,s=s||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";l-- >0;)u+=s.charAt(Math.floor(Math.random()*s.length));return u},String.match=function(l,s){var u,v;return typeof l!="string"?!1:(typeof s=="string"&&(s={"=":s}),s=s||{},u=s["="]||s["*"]||s[">"]||s["<"],l===u?!0:v!==s["="]?!1:(u=s["*"]||s[">"],l.slice(0,(u||"").length)===u?!0:v!==s["*"]?!1:v!==s[">"]&&v!==s["<"]?l>=s[">"]&&l<=s["<"]:v!==s[">"]&&l>=s[">"]||v!==s["<"]&&l<=s["<"]))},String.hash=function(l,s){if(typeof l=="string"){if(s=s||0,!l.length)return s;for(var u=0,v=l.length,h;u<v;++u)h=l.charCodeAt(u),s=(s<<5)-s+h,s|=0;return s}};var r=Object.prototype.hasOwnProperty;Object.plain=function(l){return l?l instanceof Object&&l.constructor===Object||Object.prototype.toString.call(l).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(l,s){for(var u in l)if(r.call(l,u)&&(!s||s.indexOf(u)==-1))return!1;return!0},Object.keys=Object.keys||function(l){var s=[];for(var u in l)r.call(l,u)&&s.push(u);return s},function(){var l,s=setTimeout,u=0,v=0,h=typeof setImmediate!=""+l&&setImmediate||function(y,$){return typeof MessageChannel==""+l?s:((y=new MessageChannel).port1.onmessage=function(A){A.data==""&&$()},function(A){$=A,y.port2.postMessage("")})}(),f=s.check=s.check||typeof performance!=""+l&&performance||{now:function(){return+new Date}};s.hold=s.hold||9,s.poll=s.poll||function(y){if(s.hold>=f.now()-u&&v++<3333){y();return}h(function(){u=f.now(),y()},v=0)}}(),function(){var l=setTimeout,s=l.turn=l.turn||function($){u.push($)==1&&v(y)},u=s.s=[],v=l.poll,h=0,f,y=function(){(f=u[h++])&&f(),(h==u.length||h==99)&&(u=s.s=u.slice(h),h=0),u.length&&v(y)}}(),function(){var l,s=setTimeout,u=s.turn;(s.each=s.each||function(v,h,f,y){y=y||9,function $(A,p,b){if(p=(A=(v||[]).splice(0,y)).length){for(var w=0;w<p&&l===(b=h(A[w]));w++);if(l===b){u($);return}}f&&f(b)}()})()}()})(t,"./shim"),t(function(a){a.exports=function r(f,s,u){if(!f)return{to:r};var v,h=typeof s=="function",f=(this.tag||(this.tag={}))[f]||h&&(this.tag[f]={tag:f,to:r._={next:function($){var A;(A=this.to)&&A.next($)}}});if(h){var y={off:r.off||(r.off=function(){if(this.next===r._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=r._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:r._,next:s,the:f,on:this,as:u};return(y.back=f.last||f).to=y,f.last=y}return(f=f.to)&&v!==s&&f.next(s),f}})(t,"./onto"),t(function(a){a.exports=function(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"&&r!=1/0&&r!=-1/0&&r===r||!!r&&typeof r["#"]=="string"&&Object.keys(r).length===1&&r["#"]}})(t,"./valid"),t(function(a){t("./shim");function r(){var f=+new Date;return v<f?(s=0,v=f+r.drift):v=f+(s+=1)/u+r.drift}r.drift=0;var l=-1/0,s=0,u=999,v=l,h;r.is=function(f,y,$){var A=y&&f&&f._&&f._[">"]||$;if(!!A)return typeof(A=A[y])=="number"?A:l},r.ify=function(f,y,$,A,p){(f=f||{})._=f._||{},p&&(f._["#"]=p);var b=f._[">"]||(f._[">"]={});return h!==y&&y!=="_"&&(typeof $=="number"&&(b[y]=$),h!==A&&(f[y]=A)),f},a.exports=r})(t,"./state"),t(function(a){t("./shim");function r(l){var s={s:{}},u=s.s;l=l||{max:999,age:1e3*9},s.check=function(h){return u[h]?v(h):!1};var v=s.track=function(h){var f=u[h]||(u[h]={});return f.was=s.now=+new Date,s.to||(s.to=setTimeout(s.drop,l.age+9)),f};return s.drop=function(h){s.to=null,s.now=+new Date;var f=Object.keys(u);console.STAT&&console.STAT(s.now,+new Date-s.now,"dup drop keys"),setTimeout.each(f,function(y){var $=u[y];$&&(h||l.age)>s.now-$.was||delete u[y]},0,99)},s}a.exports=r})(t,"./dup"),t(function(a){t("./onto"),a.exports=function(s,u){if(!!this.on){var v=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var f=s["#"]||s,h=(this.tag||"")[f];return h?(u&&(h=this.on(f,u),clearTimeout(h.err),h.err=setTimeout(function(){h.off()},v)),!0):void 0}var f=u&&u["#"]||r(9);if(!s)return f;var y=this.on(f,s,u);return y.err=y.err||setTimeout(function(){y.off(),y.next({err:"Error: No ACK yet.",lack:!0})},v),f}};var r=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(a){function r(p){return p instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:p}):new r(p)}r.is=function(p){return p instanceof r||p&&p._&&p===p._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},t("./shim"),r.valid=t("./valid"),r.state=t("./state"),r.on=t("./onto"),r.dup=t("./dup"),r.ask=t("./ask"),function(){r.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||r.on,o.ask=o.ask||r.ask,o.dup=o.dup||r.dup();var g=o.$.opt(o.opt);return o.once||(o.on("in",p,o),o.on("out",p,o),o.on("put",T,o),r.on("create",o),o.on("create",o)),o.once=1,g};function p(o){if(!!o){if(o.out===p){this.to.next(o);return}var g=this,m=g.as,G=m.at||m,C=G.$,S=G.dup,I,L=o.DBG;if((I=o["#"])||(I=o["#"]=s(9)),!S.check(I)){if(S.track(I),I=o._,o._=typeof I=="function"?I:function(){},o.$&&o.$===(o.$._||"").$||(o.$=C),o["@"]&&!o.put&&i(o),!G.ask(o["@"],o))if(L&&(L.u=+new Date),o.put){b(o);return}else o.get&&r.on.get(o,C);L&&(L.uc=+new Date),g.to.next(o),L&&(L.ua=+new Date),!(o.nts||o.NTS)&&(o.out=p,G.on("out",o),L&&(L.ue=+new Date))}}}function b(o){if(!!o){var g=o._||"",m=g.root=((g.$=o.$||"")._||"").root;if(o["@"]&&g.faith&&!g.miss){o.out=p,m.on("out",o);return}g.latch=m.hatch,g.match=m.hatch=[];var G=o.put,C=g.DBG=o.DBG,S=+new Date;if(E=E||S,!(G["#"]&&G["."])){C&&(C.p=S),g["#"]=o["#"],g.msg=o,g.all=0,g.stun=1;var I=Object.keys(G);console.STAT&&console.STAT(S,((C||g).pk=+new Date)-S,"put sort");var L=0,P,M,R,B,z,V,ct;(function et(dt){if(P!=L){if(P=L,!(R=I[L])){console.STAT&&console.STAT(S,((C||g).pd=+new Date)-S,"put"),x(g);return}(B=G[R])?(ct=B._)?R!==ct["#"]?V=_+O(R)+"soul not same.":(z=ct[">"])||(V=_+O(R)+"no state."):V=_+O(R)+"no meta.":V=_+O(R)+"no node.",M=Object.keys(B||{})}if(V){o.err=g.err=V,x(g);return}var It=0,nt;for(dt=dt||0;dt++<9&&(nt=M[It++]);)if(nt!=="_"){var pt=B[nt],Gt=z[nt];if(y===Gt){V=_+O(nt)+"on"+O(R)+"no state.";break}if(!v(pt)){V=_+O(nt)+"on"+O(R)+"bad "+typeof pt+O(pt);break}w(pt,nt,R,Gt,o),++N}if((M=M.slice(It)).length){u(et);return}++L,M=null,et(dt)})()}}}r.on.put=b;function w(o,g,m,G,C){var S=C._||"",I=S.root,L=I.graph,P,M=L[m]||$,R=h(M,g,1),B=M[g],z=S.DBG;(P=console.STAT)&&(!L[m]||!B)&&(P.has=(P.has||0)+1);var V=j();if(G>V){setTimeout(function(){w(o,g,m,G,C)},(P=G-V)>D?D:P),console.STAT&&console.STAT((z||S).Hf=+new Date,P,"future");return}if(!(G<R)&&!(!S.faith&&G===R&&(o===B||k(o)<=k(B))&&!S.miss)){S.stun++;var ct=C["#"]+S.all++,et={toString:function(){return ct},_:S};et.toJSON=et.toString,I.dup.track(et)["#"]=C["#"],z&&(z.ph=z.ph||+new Date),I.on("put",{"#":et,"@":C["@"],put:{"#":m,".":g,":":o,">":G},ok:C.ok,_:S})}}function T(o){var g;(g=(o._||"").DBG)&&(g.pa=+new Date,g.pm=g.pm||+new Date);var m=this,G=m.as,C=G.graph,S=o._,I=o.put,L=I["#"],P=I["."],M=I[":"],R=I[">"];o["#"];var B;(B=S.msg)&&(B=B.put)&&(B=B[L])&&f(B,P,R,M,L),C[L]=f(C[L],P,R,M,L),(B=(G.next||"")[L])&&B.on("in",o),x(S),m.to.next(o)}function x(o,g){var m;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!(m=o.root))){var G=o.match;G.end=1,G===m.hatch&&(!(G=o.latch)||G.end?delete m.hatch:m.hatch=G),o.hatch&&o.hatch(),setTimeout.each(o.match,function(C){C&&C()}),!(!(g=o.msg)||o.err||g.err)&&(g.out=p,o.root.on("out",g),c())}}function i(o){var g=o["@"]||"",m;if(!(m=g._)){var G=(G=o.$)&&(G=G._)&&(G=G.root)&&(G=G.dup);if(!(G=G.check(g)))return;o["@"]=G["#"]||o["@"];return}m.acks=(m.acks||0)+1,(m.err=o.err)&&(o["@"]=m["#"],x(m)),m.ok=o.ok||m.ok,!m.stop&&!m.crack&&(m.crack=m.match&&m.match.push(function(){d(m)})),d(m)}function d(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?y:o.ok||{"":1}})}var _="Error: Invalid graph!",O=function(o){return" '"+(""+o).slice(0,9)+"...' "},k=JSON.stringify,D=2147483647,j=r.state,N=0,E,c=function(){N>999&&N/-(E-(E=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),c=function(){N=0})}}(),function(){r.on.get=function(b,w){var T=w._,x=b.get,i=x["#"],d=T.graph[i],_=x["."],O=T.next||(T.next={});O[i];var k=b._||{},D=k.DBG=b.DBG;if(D&&(D.g=+new Date),!d)return T.on("get",b);if(_){if(typeof _!="string"||y===d[_])return T.on("get",b);d=f({},_,h(d,_),d[_],i)}d&&p(b,d),T.on("get",b)};function p(b,w){var T=+new Date,x=b._||{},i=x.DBG=b.DBG,d=b["#"],_=s(9),O=Object.keys(w||"").sort(),k=((w||"")._||"")["#"];O.length;var D=b.$._.root,j=w===D.graph[k];console.STAT&&console.STAT(T,((i||x).gk=+new Date)-T,"got keys"),w&&function N(){T=+new Date;for(var E=0,c,o={},g;E<9&&(c=O[E++]);)f(o,c,h(w,c),w[c],k);O=O.slice(E),(g={})[k]=o,o=g;var m;j&&(m=function(){},m.ram=m.faith=!0),g=O.length,console.STAT&&console.STAT(T,-(T-(T=+new Date)),"got copied some"),i&&(i.ga=+new Date),D.on("in",{"@":d,"#":_,put:o,"%":g?_=s(9):y,$:D.$,_:m,DBG:i}),console.STAT&&console.STAT(T,+new Date-T,"got in"),g&&setTimeout.turn(N)}(),w||D.on("in",{"@":b["#"]})}r.on.get.ack=p}(),function(){r.chain.opt=function(p){p=p||{};var b=this,w=b._,T=p.peers||p;return Object.plain(p)||(p={}),Object.plain(w.opt)||(w.opt=p),typeof T=="string"&&(T=[T]),Object.plain(w.opt.peers)||(w.opt.peers={}),T instanceof Array&&(p.peers={},T.forEach(function(x){var i={};i.id=i.url=x,p.peers[x]=w.opt.peers[x]=w.opt.peers[x]||i})),l(p,function x(i){var d=this[i];if(this&&this.hasOwnProperty(i)||typeof d=="string"||Object.empty(d)){this[i]=d;return}d&&d.constructor!==Object&&!(d instanceof Array)||l(d,x)}),w.opt.from=p,r.on("opt",w),w.opt.uuid=w.opt.uuid||function(i){return r.state().toString(36).replace(".","")+String.random(i||12)},b}}();var l=function(p,b){Object.keys(p).forEach(b,p)},s=String.random,u=setTimeout.turn,v=r.valid,h=r.state.is,f=r.state.ify,y,$={},A;r.log=function(){return!r.log.off&&A.log.apply(A,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(p,b,w){return(w=r.log.once)[p]=w[p]||0,w[p]++||r.log(b)},typeof window<"u"&&((window.GUN=window.Gun=r).window=window);try{typeof n<"u"&&(n.exports=r)}catch{}a.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(A=console).only=function(p,b){return A.only.i&&p===A.only.i&&A.only.i++&&(A.log.apply(A,arguments)||b)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(a){var r=t("./root");r.chain.back=function(u,v){var h;if(u=u||1,u===-1||u===1/0)return this._.root.$;if(u===1)return(this._.back||this._).$;var f=this,y=f._;if(typeof u=="string"&&(u=u.split(".")),u instanceof Array){var $=0,A=u.length,h=y;for($;$<A;$++)h=(h||l)[u[$]];return s!==h?v?f:h:(h=y.back)?h.$.back(u,v):void 0}if(typeof u=="function"){for(var p,h={back:y};(h=h.back)&&s===(p=u(h,v)););return p}return typeof u=="number"?(y.back||y).$.back(u-1):this};var l={},s})(t,"./back"),t(function(a){var r=t("./root");r.chain.chain=function(x){var i=this,d=i._,_=new(x||i).constructor(i),O=_._,k;return O.root=k=d.root,O.id=++k.once,O.back=i._,O.on=r.on,O.on("in",r.on.in,O),O.on("out",r.on.out,O),_};function l(x){var i,d=this.as,_=d.back,O=d.root,k;if(x.$||(x.$=d.$),this.to.next(x),d.err){d.on("in",{put:d.put=y,$:d.$});return}if(i=x.get){if(O.pass&&(O.pass[d.id]=d),d.lex&&Object.keys(d.lex).forEach(function(D){k[D]=d.lex[D]},k=x.get=x.get||{}),i["#"]||d.soul){if(i["#"]=i["#"]||d.soul,x["#"]||(x["#"]=$(9)),_=O.$.get(i["#"])._,i=i["."]){if(p(_.put,i)&&(k=_.ask&&_.ask[i],(_.ask||(_.ask={}))[i]=_.$.get(i)._,_.on("in",{get:i,put:{"#":_.soul,".":i,":":_.put[i],">":w(O.graph[_.soul],i)}}),k))return}else{if(k=_.ask&&_.ask[""],(_.ask||(_.ask={}))[""]=_,y!==_.put&&(_.on("in",_),k))return;x.$=_.$}return O.ask(h,x),O.on("in",x)}if(i["."])return d.get?(x={get:{".":d.get},$:d.$},(_.ask||(_.ask={}))[d.get]=x.$._,_.on("out",x)):(x={get:d.lex?x.get:{},$:d.$},_.on("out",x));if((d.ask||(d.ask={}))[""]=d,d.get)return i["."]=d.get,(_.ask||(_.ask={}))[d.get]=x.$._,_.on("out",x)}return _.on("out",x)}r.on.out=l;function s(x,i){i=i||this.as;var d=i.root,_=x.$||(x.$=i.$),O=(_||"")._||f,k=x.put||"",D=k["#"],j=k["."],N=y!==k["="]?k["="]:k[":"],E=k[">"]||-1/0,c;if(y!==x.put&&(y===k["#"]||y===k["."]||y===k[":"]&&y===k["="]||y===k[">"])){if(!A(k)){if(!(D=((k||"")._||"")["#"])){console.log("chain not yet supported for",k,"...",x,i);return}return _=i.root.$.get(D),setTimeout.each(Object.keys(k).sort(),function(o){o=="_"||y===(E=w(k,o))||i.on("in",{$:_,put:{"#":D,".":o,"=":k[o],">":E},VIA:x})})}i.on("in",{$:O.back.$,put:{"#":D=O.back.soul,".":j=O.has||O.get,"=":k,">":w(O.back.put,j)},via:x});return}(x.seen||"")[i.id]||((x.seen||(x.seen=function(){}))[i.id]=i,i!==O&&(Object.keys(x).forEach(function(o){k[o]=x[o]},k={}),k.get=i.get||k.get,!i.soul&&!i.has?k.$$$=k.$$$||i.$:O.soul&&(k.$=i.$,k.$$=k.$$||O.$),x=k),v(x,i),(i.soul||x.$$)&&E>=w(d.graph[D],j)&&((k=d.$.get(D)._).put=T(k.put,j,E,N,D)),!O.soul&&E>=w(d.graph[D],j)&&(c=(d.$.get(D)._.next||"")[j])&&(c.put=N,typeof(k=A(N))=="string"&&(c.put=d.$.get(k)._.put||N)),this.to&&this.to.next(x),i.any&&setTimeout.each(Object.keys(i.any),function(o){(o=i.any[o])&&o(x)},0,99),i.echo&&setTimeout.each(Object.keys(i.echo),function(o){(o=i.echo[o])&&o.on("in",x)},0,99),((x.$$||"")._||O).soul&&(c=i.next)&&(c=c[j])&&(k={},Object.keys(x).forEach(function(o){k[o]=x[o]}),k.$=(x.$$||x.$).get(k.get=j),delete k.$$,delete k.$$$,c.on("in",k)),u(x,i))}r.on.in=s;function u(x,i){if(i=i||this.as||x.$._,!(x.$$&&this!==r.on)&&!(!x.put||i.soul)){var d=x.put||"",_=d["="]||d[":"],j,O=i.root,k=O.$.get(d["#"]).get(d["."])._;if(typeof(_=A(_))!="string"){this===r.on&&((k.echo||(k.echo={}))[i.id]=i);return}if(!((k.echo||(k.echo={}))[i.id]&&!(O.pass||"")[i.id])){if(j=O.pass){if(j[_+i.id])return;j[_+i.id]=1}(k.echo||(k.echo={}))[i.id]=i,i.has&&(i.link=_);var D=O.$.get(k.link=_)._;(D.echo||(D.echo={}))[k.id]=k;var j=i.ask||"";(j[""]||i.lex)&&D.on("out",{get:{"#":_}}),setTimeout.each(Object.keys(j),function(N,E){!N||!(E=j[N])||E.on("out",{get:{"#":_,".":N}})},0,99)}}}r.on.link=u;function v(x,i){var d=x.put||"",_=y!==d["="]?d["="]:d[":"],O=i.root,k,D;if(y===_){if(i.soul&&y!==i.put||(D=(x.$$||x.$||"")._||"",x["@"]&&(y!==D.put||y!==i.put)))return;(k=i.link||x.linked)&&delete(O.$.get(k)._.echo||"")[i.id],i.has&&(i.link=null),i.put=y,setTimeout.each(Object.keys(i.next||""),function(j,N){!(N=i.next[j])||(k&&delete(O.$.get(k).get(j)._.echo||"")[N.id],N.on("in",{get:j,put:y,$:N.$}))},0,99);return}i.soul||x.$$||(k=A(_),D=x.$._||"",!((k===D.link||i.has&&!D.link)&&!((O.pass||"")[i.id]&&typeof k!="string"))&&(delete(D.echo||"")[i.id],v({get:i.get,put:y,$:x.$,linked:x.linked=x.linked||D.link},i)))}r.on.unlink=v;function h(x,i){var d=this.as,_=d.$._;_.root;var O=d.get||"",k=(x.put||"")[O["#"]]||"";if(!x.put||typeof O["."]=="string"&&y===k[O["."]]){if(y!==_.put||!_.soul&&!_.has)return;_.ack=(_.ack||0)+1,_.on("in",{get:_.get,put:_.put=y,$:_.$,"@":x["@"]});return}(x._||{}).miss=1,r.on.put(x)}var f={},y,$=String.random,A=r.valid,p=function(x,i){return x&&Object.prototype.hasOwnProperty.call(x,i)},b=r.state,w=b.is,T=b.ify})(t,"./chain"),t(function(a){var r=t("./root");r.chain.get=function(y,$,A){var p,b;if(typeof y=="string"){if(y.length==0)return(p=this.chain())._.err={err:r.log("0 length key!",y)},$&&$.call(p,p._.err),p;var w=this,T=w._,x=T.next||v;(p=x[y])||(p=y&&l(y,w)),p=p&&p.$}else if(typeof y=="function"){let j=function(N,E,c){if(!j.stun&&!((S=d.pass)&&!S[_])){var o=N.$._,g=(N.$$||"")._,m=(g||o).put,G=!o.has&&!o.soul,C={},S;if((G||f===m)&&(m=f===((S=N.put)||"")["="]?f===(S||"")[":"]?S:S[":"]:S["="]),typeof(S=r.valid(m))=="string"&&(m=f===(S=d.$.get(S)._.put)?i.not?f:m:S),!(i.not&&f===m)){if(f===i.stun){if((S=d.stun)&&S.on&&(T.$.back(function(I){if(S.on(""+I.id,C={}),(C.run||0)<j.id)return C}),!C.run&&S.on(""+o.id,C={}),!C.run&&g&&S.on(""+g.id,C={}),j.id>C.run&&((!C.stun||C.stun.end)&&(C.stun=S.on("stun"),C.stun=C.stun&&C.stun.last),C.stun&&!C.stun.end))){(C.stun.add||(C.stun.add={}))[_]=function(){j(N,E,1)};return}if(f===m&&(c=0),(S=d.hatch)&&!S.end&&f===i.hatch&&!c){if(O[o.$._.id])return;O[o.$._.id]=1,S.push(function(){j(N,E,1)});return}O={}}if(d.pass){if(d.pass[_+o.id])return;d.pass[_+o.id]=1}if(i.on){i.ok.call(o.$,m,o.get,N,E||j);return}if(i.v2020){i.ok(N,E||j);return}Object.keys(N).forEach(function(I){S[I]=N[I]},S={}),N=S,N.put=m,i.ok.call(i.as,N,E||j)}}};var k=j;if($===!0)return s(this,y,$,A),this;p=this;var T=p._,i=$||{},d=T.root,_;i.at=T,i.ok=y;var O={};return j.at=T,(T.any||(T.any={}))[_=String.random(7)]=j,j.off=function(){j.stun=1,T.any&&delete T.any[_]},j.rid=u,j.id=i.run||++d.once,b=d.pass,(d.pass={})[_]=1,i.out=i.out||{get:{}},T.on("out",i.out),d.pass=b,p}else{if(typeof y=="number")return this.get(""+y,$,A);if(typeof(b=h(y))=="string")return this.get(b,$,A);(b=this.get.next)&&(p=b(this,y))}return p?($&&typeof $=="function"&&p.get($,A),p):((p=this.chain())._.err={err:r.log("Invalid get request!",y)},$&&$.call(p,p._.err),p)};function l(y,$){var A=$._,p=A.next,b=$.chain(),w=b._;return p||(p=A.next={}),p[w.get=y]=w,$===A.root.$?w.soul=y:(A.soul||A.has)&&(w.has=y),w}function s(y,$,A,p){var b=y._,w=0,T;return(T=b.soul||b.link)?$(T,p,b):b.jam?b.jam.push([$,p]):(b.jam=[[$,p]],y.get(function(i,d){if(!(f===i.put&&!b.root.opt.super&&(T=Object.keys(b.root.opt.peers).length)&&++w<=T)){d.rid(i);var _=(_=i.$)&&_._||{},O=0,k;for(T=b.jam,delete b.jam;k=T[O++];){var D=k[0];k=k[1],D&&D(_.link||_.soul||r.valid(i.put)||((i.put||{})._||{})["#"],k,i,d)}}},{out:{get:{".":!0}}}),y)}function u(y){var $=this.at||this.on;if(!y||$.soul||$.has)return this.off();if(!!(y=(y=(y=y.$||y)._||y).id)){$.map;var A;if((A=this.seen||(this.seen={}))[y])return!0;A[y]=!0}}var v={},h=r.valid,f})(t,"./get"),t(function(a){var r=t("./root");r.chain.put=function(p,b,w){var T=this,x=T._,i=x.root;w=w||{},w.root=x.root,w.run||(w.run=i.once),l(w,x.id),w.ack=w.ack||b,w.via=w.via||T,w.data=w.data||p,w.soul||(w.soul=x.soul||typeof b=="string"&&b);var d=w.state=w.state||r.state();return typeof p=="function"?(p(function(_){w.data=_,T.put(h,h,w)}),T):w.soul?(w.$=i.$.get(w.soul),w.todo=[{it:w.data,ref:w.$}],w.turn=w.turn||y,w.ran=w.ran||s,function _(){var O=w.todo,k=O.pop(),D=k.it;k.ref&&k.ref._.id;var j,N,E,c,o;if(l(w,k.ref),(c=k.todo)&&(N=c.pop(),D=D[N],c.length&&O.push(k)),N&&(O.path||(O.path=[])).push(N),!(j=$(D))&&!(o=r.is(D))){if(!Object.plain(D)){s.err(w,"Invalid data: "+v(D)+" at "+(w.via.back(function(S){S.get&&c.push(S.get)},c=[])||c.join("."))+"."+(O.path||[]).join("."));return}for(var g=w.seen||(w.seen=[]),m=g.length;m--;)if(D===(c=g[m]).it){j=D=c.link;break}}if(N&&j)k.node=A(k.node,N,d,D);else{let S=function(I,L){var P=E.link["#"];L&&(L.off(),L.rid(I));var M=P||I.soul||(c=(I.$$||I.$)._||"").soul||c.link||((c=c.put||"")._||"")["#"]||c["#"]||((c=I.put||"")&&I.$$?c["#"]:(c["="]||c[":"]||"")["#"]);if(!P&&l(w,I.$),!M&&!k.link["#"]){(k.wait||(k.wait=[])).push(function(){S(I,L)});return}M||(M=[],(I.$$||I.$).back(function(R){if(c=R.soul||R.link)return M.push(c);M.push(R.get)}),M=M.reverse().join("/")),E.link["#"]=M,!o&&(((w.graph||(w.graph={}))[M]=E.node||(E.node={_:{}}))._["#"]=M),delete w.wait[G],E.wait&&setTimeout.each(E.wait,function(R){R&&R()}),w.ran(w)};var C=S;if(!w.seen){s.err(w,"Data at root of graph must be a node (an object).");return}w.seen.push(E={it:D,link:{},todo:o?[]:Object.keys(D).sort().reverse(),path:(O.path||[]).slice(),up:k}),k.node=A(k.node,N,d,E.link),!o&&E.todo.length&&O.push(E);var G=w.seen.length;(w.wait||(w.wait={}))[G]="",c=(E.ref=o?D:N?k.ref.get(N):k.ref)._,(c=D&&(D._||"")["#"]||c.soul||c.link)?S({soul:c}):E.ref.get(S,{run:w.run,v2020:1,out:{get:{".":" "}}})}if(!O.length)return w.ran(w);w.turn(_)}(),T):(u(w),T)};function l(p,b){if(!!b){b=(b._||"").id||b;var w=p.root.stun||(p.root.stun={on:r.on}),T={},x;p.stun||(p.stun=w.on("stun",function(){})),(x=w.on(""+b))&&x.the.last.next(T),!(T.run>=p.run)&&w.on(""+b,function(i){if(p.stun.end){this.off(),this.to.next(i);return}i.run=i.run||p.run,i.stun=i.stun||p.stun})}}function s(p){if(p.err){s.end(p.stun,p.root);return}if(!(p.todo.length||p.end||!Object.empty(p.wait))){p.end=1;var b=p.$.back(-1)._,w=b.root,T=b.ask(function(_){w.on("ack",_),_.err&&!_.lack&&r.log(_),++x>(p.acks||0)&&this.off(),p.ack&&p.ack(_,this)},p.opt),x=0,i=p.stun,d;(d=function(){!i||(s.end(i,w),setTimeout.each(Object.keys(i=i.add||""),function(_){(_=i[_])&&_()}))}).hatch=d,p.ack&&!p.ok&&(p.ok=p.acks||9),p.via._.on("out",{put:p.out=p.graph,ok:p.ok&&{"@":p.ok+1},opt:p.opt,"#":T,_:d})}}s.end=function(p,b){p.end=f,p.the.to===p&&p===p.the.last&&delete b.stun,p.off()},s.err=function(p,b){(p.ack||f).call(p,p.out={err:p.err=r.log(b)}),p.ran(p)};function u(p){var b=p.via._,w;p.via=p.via.back(function(T){if(T.soul||!T.get)return T.$;w=p.data,(p.data={})[T.get]=w}),(!p.via||!p.via._.soul)&&(p.via=b.root.$.get(((p.data||"")._||"")["#"]||b.$.back("opt.uuid")())),p.via.put(p.data,p.ack,p)}function v(p,b){return p&&(b=p.constructor)&&b.name||typeof p}var h,f=function(){},y=setTimeout.turn,$=r.valid,A=r.state.ify})(t,"./put"),t(function(a){var r=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),a.exports=r})(t,"./index"),t(function(a){var r=t("./index");r.chain.on=function(u,v,h,f){var y=this,$=y._;$.root;var A;if(typeof u=="string")return v?(A=$.on(u,v,h||$,f),h&&h.$&&(h.subs||(h.subs=[])).push(A),y):$.on(u);var p=v;return(p=p===!0?{change:!0}:p||{}).not=1,p.on=1,y.get(u,p),y},r.chain.once=function(u,v){if(v=v||{},!u)return l(this);var h=this,f=h._,y=f.root;f.put;var $=String.random(7),A;return h.get(function(p,b,w,T){var x=this,i=x._,d=i.one||(i.one={});if(T.stun||d[$]==="")return;if((A=r.valid(p))===!0){_();return}if(typeof A=="string")return;clearTimeout((f.one||"")[$]),clearTimeout(d[$]),d[$]=setTimeout(_,v.wait||99);function _(O){if(!i.has&&!i.soul&&(i={put:p,get:b}),s===(A=i.put)&&(A=((w.$$||"")._||"").put),typeof r.valid(A)=="string"&&(A=y.$.get(A)._.put,A===s&&!O)){d[$]=setTimeout(function(){_(1)},v.wait||99);return}T.stun||d[$]!==""&&(d[$]="",(f.soul||f.has)&&T.off(),u.call(x,A,i.get),clearTimeout(d[$]))}},{on:1}),h};function l(u,v,h){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(h=u.chain())._.nix=u.once(function(f,y){h._.on("in",this._)}),h._.lex=u._.lex,h}r.chain.off=function(){var u=this,v=u._,h,f=v.back;if(!!f)return v.ack=0,(h=f.next)&&h[v.get]&&delete h[v.get],(h=f.ask)&&delete h[v.get],(h=f.put)&&delete h[v.get],(h=v.soul)&&delete f.root.graph[h],(h=v.map)&&Object.keys(h).forEach(function(y,$){$=h[y],$.link&&f.root.$.get($.link).off()}),(h=v.next)&&Object.keys(h).forEach(function(y,$){$=h[y],$.$.off()}),v.on("off",{}),u};var s})(t,"./on"),t(function(a){var r=t("./index"),l=r.chain.get.next;r.chain.get.next=function(h,f){var y;return Object.plain(f)?(y=((y=f["#"])||"")["="]||y)?h.get(y):((y=h.chain()._).lex=f,h.on("in",function($){String.match($.get||($.put||"")["."],f["."]||f["#"]||f)&&y.on("in",$),this.to.next($)}),y.$):(l||u)(h,f)},r.chain.map=function(h,f,y){var $=this,A=$._,p,b;return Object.plain(h)&&(p=h["."]?h:{".":h},h=v),h?(r.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),b=$.chain(),$.map().on(function(w,T,x,i){var d=(h||u).call(this,w,T,x,i);if(v!==d){if(w===d)return b._.on("in",x);if(r.is(d))return b._.on("in",d._);var _={};Object.keys(x.put).forEach(function(O){_[O]=x.put[O]},_),_["="]=d,b._.on("in",{get:T,put:_})}}),b):((b=A.each)||((A.each=b=$.chain())._.lex=p||b._.lex||A.lex,b._.nix=$.back("nix"),$.on("in",s,b._)),b)};function s(h){this.to.next(h);var f=this.as,y=h.$,$=y._,A=h.put,p;!$.soul&&!h.$$||(p=f.lex)&&!String.match(h.get||(A||"")["."],p["."]||p["#"]||p)||r.on.link(h,f)}var u=function(){},v})(t,"./map"),t(function(a){var r=t("./index");r.chain.set=function(l,s,u){var v=this,h=v.back(-1),f,y;return s=s||function(){},u=u||{},u.item=u.item||l,(f=((l||"")._||"")["#"])&&((l={})["#"]=f),typeof(y=r.valid(l))=="string"?v.get(f=y).put(l,s,u):r.is(l)?(v.put(function($){l.get(function(A,p,b){if(!A)return s.call(v,{err:r.log('Only a node can be linked! Not "'+b.put+'"!')});(y={})[A]={"#":A},$(y)},!0)}),l):(Object.plain(l)&&(l=h.get(f=v.back("opt.uuid")()).put(l)),v.get(f||h.back("opt.uuid")(7)).put(l,s,u))}})(t,"./set"),t(function(a){t("./shim");var r=function(){},l=JSON.parseAsync||function(h,f,y){var $,A=+new Date;try{f($,JSON.parse(h,y),s.sucks(+new Date-A))}catch(p){f(p)}},s=JSON.stringifyAsync||function(h,f,y,$){var A,p=+new Date;try{f(A,JSON.stringify(h,y,$),s.sucks(+new Date-p))}catch(b){f(b)}};s.sucks=function(h){h>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),s.sucks=r)};function u(h){var f=function(){},y=h.opt||{};y.log=y.log||console.log,y.gap=y.gap||y.wait||0,y.max=y.max||(y.memory?y.memory*999*999:3e8)*.3,y.pack=y.pack||y.max*.01*.01,y.puff=y.puff||9;var $=setTimeout.turn||setTimeout,A=h.dup,p=A.check,b=A.track,w=f.hear=function(i,d){if(!!i){if(y.max<=i.length)return f.say({dam:"!",err:"Message too big!"},d);f===this&&(w.d+=i.length||0,++w.c);var _=d.SH=+new Date,O=i[0],k;if(O==="["){l(i,function(D,j){if(D||!j)return f.say({dam:"!",err:"DAM JSON parse error."},d);console.STAT&&console.STAT(+new Date,j.length,"# on hear batch");var N=y.puff;(function E(){for(var c=+new Date,o=0,g;o<N&&(g=j[o++]);)f.hear(g,d);j=j.slice(o),console.STAT&&console.STAT(c,+new Date-c,"hear loop"),T(d),j.length&&$(E,0)})()}),i="";return}if(O==="{"||(i["#"]||Object.plain(i))&&(k=i)){if(k)return w.one(k,d,_);l(i,function(D,j){if(D||!j)return f.say({dam:"!",err:"DAM JSON parse error."},d);w.one(j,d,_)});return}}};w.one=function(i,d,E){var O,k,D,j,N;if(i.DBG&&(i.DBG=N={DBG:i.DBG}),N&&(N.h=E),N&&(N.hp=+new Date),(O=i["#"])||(O=i["#"]=String.random(9)),!(D=p(O))&&(k=i["##"],!(k&&(D=i["@"]||i.get&&O)&&A.check(j=D+k)))){if((i._=function(){}).via=f.leap=d,(D=i["><"])&&typeof D=="string"&&D.slice(0,99).split(",").forEach(function(c){this[c]=1},i._.yo={}),D=i.dam){(D=f.hear[D])&&D(i,d,h),b(O);return}(D=i.ok)&&(i._.near=D["/"]);var E=+new Date;N&&(N.is=E),d.SI=O,h.on("in",f.last=i),N&&(N.hd=+new Date),console.STAT&&console.STAT(E,+new Date-E,i.get?"msg get":i.put?"msg put":"msg"),(D=b(O)).via=d,i.get&&(D.it=i),j&&b(j),f.leap=f.last=null}},w.c=w.d=0,function(){var i=0,d;f.hash=function(k,D){var j,N,E,c=+new Date;s(k.put,function o(g,m){var G=(N||(N=E=m||"")).slice(0,32768);if(j=String.hash(G,j),N=N.slice(32768),N){$(o,0);return}console.STAT&&console.STAT(c,+new Date-c,"say json+hash"),k._.$put=E,k["##"]=j,f.say(k,D),delete k._.$put},_)};function _(k,D){var j;return D instanceof Object?(Object.keys(D).sort().forEach(O,{to:j={},on:D}),j):D}function O(k){this.to[k]=this.on[k]}f.say=function(k,D){var j;if((j=this)&&(j=j.to)&&j.next&&j.next(k),!k)return!1;var N,E,c=k["@"],o=k._||(k._=function(){}),g=k.DBG,m=+new Date;if(o.y=o.y||m,D||g&&(g.y=m),(N=k["#"])||(N=k["#"]=String.random(9)),!d&&b(N),!k["##"]&&v!==k.put&&!o.via&&c){f.hash(k,D);return}if(!D&&c&&(D=(j=A.s[c])&&(j.via||(j=j.it)&&(j=j._)&&j.via)||(j=f.last)&&c===j["#"]&&f.leap),!D&&c)return A.s[c]?void 0:(console.STAT&&console.STAT(+new Date,++i,"total no peer to ack to"),!1);if(!D&&f.way)return f.way(k);if(g&&(g.yh=+new Date),!(E=o.raw)){f.raw(k,D);return}if(g&&(g.yr=+new Date),!D||!D.id){if(!Object.plain(D||y.peers))return!1;var m=+new Date;y.puff;var G=y.peers,C=Object.keys(D||y.peers||{});console.STAT&&console.STAT(m,+new Date-m,"peer keys"),function L(){var P=+new Date;d=1;var M=o.raw;o.raw=E;for(var R=0,B;R<9&&(B=(C||"")[R++]);)!(B=G[B]||(D||"")[B])||f.say(k,B);o.raw=M,d=0,C=C.slice(R),console.STAT&&console.STAT(P,+new Date-P,"say loop"),C.length&&($(L,0),c&&b(c))}();return}if(!D.wire&&f.wire&&f.wire(D),N!==D.last){if(D.last=N,D===o.via||(j=o.yo)&&(j[D.url]||j[D.pid]||j[D.id]))return!1;if(console.STAT&&console.STAT(m,((g||o).yp=+new Date)-(o.y||m),"say prep"),!d&&c&&b(c),D.batch){if(D.tail=(j=D.tail||0)+E.length,D.tail<=y.pack){D.batch+=(j?",":"")+E;return}T(D)}D.batch="[";var S=+new Date;setTimeout(function(){console.STAT&&console.STAT(S,+new Date-S,"0ms TO"),T(D)},y.gap),x(E,D),console.STAT&&c===D.SI&&console.STAT(m,+new Date-D.SH,"say ack")}},f.say.c=f.say.d=0,f.raw=function(k,D){if(!k)return"";var j=k._||{},N,E;if(E=j.raw)return E;if(typeof k=="string")return k;var c=k["##"],o=k["@"];if(c&&o){if(!j.via&&p(o+c))return!1;if((E=(A.s[o]||"").it)||(E=f.last)&&o===E["#"]){if(c===E["##"])return!1;E["##"]||(E["##"]=c)}}if(!k.dam&&!k["@"]){var g=0,m=[];E=y.peers;for(var G in E){var C=E[G];if(m.push(C.url||C.pid||C.id),++g>6)break}g>1&&(k["><"]=m.join())}if(k.put&&(E=k.ok)&&(k.ok={"@":(E["@"]||1)-1,"/":E["/"]==k._.near?f.near:E["/"]}),N=j.$put){E={},Object.keys(k).forEach(function(I){E[I]=k[I]}),E.put=":])([:",s(E,function(I,L){if(!I){var P=+new Date;E=L.indexOf('"put":":])([:"'),S(v,L=L.slice(0,E+6)+N+L.slice(E+14)),console.STAT&&console.STAT(P,+new Date-P,"say slice")}});return}s(k,S);function S(I,L){I||(j.raw=L,f.say(k,D))}}}();function T(i){var d=i.batch,_=typeof d=="string";if(_&&(d+="]"),i.batch=i.tail=null,!!d&&!(_?3>d.length:!d.length)){if(!_)try{d=d.length===1?d[0]:JSON.stringify(d)}catch(O){return y.log("DAM JSON stringify error",O)}!d||x(d,i)}}function x(i,d){try{var _=d.wire;d.say?d.say(i):_.send&&_.send(i),f.say.d+=i.length||0,++f.say.c}catch{(d.queue=d.queue||[]).push(i)}}return f.near=0,f.hi=function(i){var d=i.wire,_;if(!d){f.wire(i.length&&{url:i,id:i}||i);return}i.id?y.peers[i.url||i.id]=i:(_=i.id=i.id||i.url||String.random(9),f.say({dam:"?",pid:h.opt.pid},y.peers[_]=i),delete A.s[i.last]),i.met||(f.near++,i.met=+new Date,h.on("hi",i)),_=i.queue,i.queue=[],setTimeout.each(_||[],function(O){x(O,i)},0,9)},f.bye=function(i){i.met&&--f.near,delete i.met,h.on("bye",i);var d=+new Date;d=d-(i.met||d),f.bye.time=((f.bye.time||d)+d)/2},f.hear["!"]=function(i,d){y.log("Error:",i.err)},f.hear["?"]=function(i,d){i.pid&&(d.pid||(d.pid=i.pid),i["@"])||(f.say({dam:"?",pid:y.pid,"@":i["#"]},d),delete A.s[d.last])},f.hear.mob=function(i,d){if(!!i.peers){var _=Object.keys(i.peers),O=_[Math.random()*_.length>>0];!O||(f.bye(d),f.hi(O))}},h.on("create",function(i){i.opt.pid=i.opt.pid||String.random(9),this.to.next(i),i.on("out",f.say)}),h.on("bye",function(i,d){i=y.peers[i.id||i]||i,this.to.next(i),i.bye?i.bye():(d=i.wire)&&d.close&&d.close(),delete y.peers[i.id],i.wire=null}),h.on("bye",function(i,d){this.to.next(i),(d=console.STAT)&&(d.peers=f.near),(d=i.url)&&setTimeout(function(){},y.lack||9e3)}),h.on("hi",function(i,d){if(this.to.next(i),(d=console.STAT)&&(d.peers=f.near),!y.super){var _=Object.keys(h.next||"");_.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(_,function(O){var k=h.next[O];if(y.super||(k.ask||"")[""]){f.say({get:{"#":O}},i);return}setTimeout.each(Object.keys(k.ask||""),function(D){!D||f.say({"##":String.hash((h.graph[O]||"")[D]),get:{"#":O,".":D}},i)})})}}),f}var v;try{a.exports=u}catch{}})(t,"./mesh"),t(function(a){var r=t("./index");r.Mesh=t("./mesh"),r.on("opt",function(s){if(this.to.next(s),s.once)return;var u=s.opt;if(u.WebSocket===!1)return;var v=r.window||{},h=u.WebSocket||v.WebSocket||v.webkitWebSocket||v.mozWebSocket;if(!h)return;u.WebSocket=h;var f=u.mesh=u.mesh||r.Mesh(s);f.wire||u.wire,f.wire=u.wire=y;function y(b){try{if(!b||!b.url)return T&&T(b);var w=b.url.replace(/^http/,"ws"),T=b.wire=new u.WebSocket(w);return T.onclose=function(){A(b),u.mesh.bye(b)},T.onerror=function(x){A(b)},T.onopen=function(){u.mesh.hi(b)},T.onmessage=function(x){!x||u.mesh.hear(x.data||x,b)},T}catch{u.mesh.bye(b)}}setTimeout(function(){!u.super&&s.on("out",{dam:"hi"})},1);var $=2*999;function A(b){clearTimeout(b.defer),u.peers[b.url]&&(p&&b.retry<=0||(b.retry=(b.retry||u.retry+1||60)-(-b.tried+(b.tried=+new Date)<$*4?1:0),b.defer=setTimeout(function w(){if(p&&p.hidden)return setTimeout(w,$);y(b)},$)))}var p=""+l!=typeof document&&document});var l})(t,"./websocket"),t(function(a){if(!(typeof Gun>"u")){var r=function(){},l;try{l=(Gun.window||r).localStorage}catch{}l||(Gun.log("Warning: No localStorage exists to persist data to!"),l={setItem:function(u,v){this[u]=v},removeItem:function(u){delete this[u]},getItem:function(u){return this[u]}});var s=JSON.stringifyAsync||function(u,v,h,f){var y;try{v(y,JSON.stringify(u,h,f))}catch($){v($)}};Gun.on("create",function u(v){this.to.next(v);var h=v.opt;v.graph;var f=[],y,$,A,p;if(h.localStorage===!1)return;h.prefix=h.file||"gun/";try{y=u[h.prefix]=u[h.prefix]||JSON.parse(A=l.getItem(h.prefix))||{}}catch{y=u[h.prefix]={}}A=(A||"").length,v.on("get",function(w){this.to.next(w);var T=w.get,x,i,d,_;!T||!(x=T["#"])||(i=y[x]||_,i&&(d=T["."])&&!Object.plain(d)&&(i=Gun.state.ify({},d,Gun.state.is(i,d),i[d],x)),Gun.on.get.ack(w,i))}),v.on("put",function(w){this.to.next(w);var T=w.put,x=T["#"],i=T["."],d=w["#"],_=w.ok||"";if(y[x]=Gun.state.ify(y[x],i,T[">"],T[":"],x),p&&A>4999880){v.on("in",{"@":d,err:"localStorage max!"});return}!w["@"]&&(!w._.via||Math.random()<_["@"]/_["/"])&&f.push(d),!$&&($=setTimeout(b,9+A/333))});function b(){if(!f.length&&((setTimeout.turn||"").s||"").length){setTimeout(b,99);return}var w=f;clearTimeout($),$=!1,f=[],s(y,function(T,x){try{!T&&l.setItem(h.prefix,x)}catch(i){T=p=i||"localStorage failure"}T&&(Gun.log(T+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),v.on("localStorage:error",{err:T,get:h.prefix,put:y})),A=x.length,setTimeout.each(w,function(i){v.on("in",{"@":i,err:T,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var E;if(""+E!=typeof Gun){var t=function(c){console.warn("Warning! Deprecated internal utility will break in next version:",c)},n=Gun;n.fn=n.fn||{is:function(c){return t("fn"),!!c&&typeof c=="function"}},n.bi=n.bi||{is:function(c){return t("bi"),c instanceof Boolean||typeof c=="boolean"}},n.num=n.num||{is:function(c){return t("num"),!a(c)&&(c-parseFloat(c)+1>=0||c===1/0||c===-1/0)}},n.text=n.text||{is:function(c){return t("text"),typeof c=="string"}},n.text.ify=n.text.ify||function(c){return t("text.ify"),n.text.is(c)?c:typeof JSON<"u"?JSON.stringify(c):c&&c.toString?c.toString():c},n.text.random=n.text.random||function(c,o){t("text.random");var g="";for(c=c||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";c>0;)g+=o.charAt(Math.floor(Math.random()*o.length)),c--;return g},n.text.match=n.text.match||function(c,o){var g,m;return t("text.match"),typeof c!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},g=o["="]||o["*"]||o[">"]||o["<"],c===g?!0:m!==o["="]?!1:(g=o["*"]||o[">"]||o["<"],c.slice(0,(g||"").length)===g?!0:m!==o["*"]?!1:m!==o[">"]&&m!==o["<"]?c>=o[">"]&&c<=o["<"]:m!==o[">"]&&c>=o[">"]||m!==o["<"]&&c<=o["<"]))},n.text.hash=n.text.hash||function(c,o){if(t("text.hash"),typeof c=="string"){if(o=o||0,!c.length)return o;for(var g=0,m=c.length,G;g<m;++g)G=c.charCodeAt(g),o=(o<<5)-o+G,o|=0;return o}},n.list=n.list||{is:function(c){return t("list"),c instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(c){return t("list.sort"),function(o,g){return!o||!g?0:(o=o[c],g=g[c],o<g?-1:o>g?1:0)}},n.list.map=n.list.map||function(c,o,g){return t("list.map"),j(c,o,g)},n.list.index=1,n.obj=n.boj||{is:function(c){return t("obj"),c?c instanceof Object&&c.constructor===Object||Object.prototype.toString.call(c).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},n.obj.put=n.obj.put||function(c,o,g){return t("obj.put"),(c||{})[o]=g,c},n.obj.has=n.obj.has||function(c,o){return t("obj.has"),c&&Object.prototype.hasOwnProperty.call(c,o)},n.obj.del=n.obj.del||function(c,o){if(t("obj.del"),!!c)return c[o]=null,delete c[o],c},n.obj.as=n.obj.as||function(c,o,g,m){return t("obj.as"),c[o]=c[o]||(m===g?{}:g)},n.obj.ify=n.obj.ify||function(c){if(t("obj.ify"),d(c))return c;try{c=JSON.parse(c)}catch{c={}}return c},function(){var c;function o(g,m){O(this,m)&&c!==this[m]||(this[m]=g)}n.obj.to=n.obj.to||function(g,m){return t("obj.to"),m=m||{},j(g,o,m),m}}(),n.obj.copy=n.obj.copy||function(c){return t("obj.copy"),c&&JSON.parse(JSON.stringify(c))},function(){function c(o,g){var m=this.n,G;if(!(m&&(g===m||d(m)&&O(m,g)))&&G!==g)return!0}n.obj.empty=n.obj.empty||function(o,g){return t("obj.empty"),o?!j(o,c,{n:g}):!0}}(),function(){function c(m,G){if(arguments.length===2){c.r=c.r||{},c.r[m]=G;return}c.r=c.r||[],c.r.push(m)}var o=Object.keys,g;Object.keys=Object.keys||function(m){return g(m,function(G,C,S){S(C)})},n.obj.map=g=n.obj.map||function(m,G,C){t("obj.map");var S,I=0,L,P,M,R,B=typeof G=="function";if(c.r=S,o&&d(m)&&(M=o(m),R=!0),C=C||{},a(m)||M)for(L=(M||m).length;I<L;I++){var z=I+n.list.index;if(B){if(P=R?G.call(C,m[M[I]],M[I],c):G.call(C,m[I],z,c),P!==S)return P}else if(G===m[R?M[I]:I])return M?M[I]:z}else for(I in m)if(B){if(O(m,I)&&(P=C?G.call(C,m[I],I,c):G(m[I],I,c),P!==S))return P}else if(G===m[I])return I;return B?c.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(c){return t("time"),c?c instanceof Date:+new Date().getTime()};var x=n.fn.is,a=n.list.is,i=n.obj,d=i.is,O=i.has,j=i.map,r={};r.is=function(c){return t("val.is"),c===E?!1:c===null?!0:c===1/0?!1:u(c)||s(c)||p(c)?!0:r.link.is(c)||!1},r.link=r.rel={_:"#"},function(){r.link.is=function(o){if(t("val.link.is"),o&&o[l]&&!o._&&d(o)){var g={};if(j(o,c,g),g.id)return g.id}return!1};function c(o,g){var m=this;if(m.id)return m.id=!1;if(g==l&&u(o))m.id=o;else return m.id=!1}}(),r.link.ify=function(c){return t("val.link.ify"),D({},l,c)},n.obj.has._=".";var l=r.link._,E,s=n.bi.is,p=n.num.is,u=n.text.is,i=n.obj,d=i.is,D=i.put,j=i.map;n.val=n.val||r;var v={_:"_"};v.soul=function(c,o){return t("node.soul"),c&&c._&&c._[o||y]},v.soul.ify=function(c,o){return t("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},c=c||{},c._=c._||{},c._[y]=o.soul||c._[y]||f(),c},v.soul._=r.link._,function(){v.is=function(o,g,m){t("node.is");var G;return d(o)&&(G=v.soul(o))?!j(o,c,{as:m,cb:g,s:G,n:o}):!1};function c(o,g){if(g!==v._){if(!r.is(o))return!0;this.cb&&this.cb.call(this.as,o,g,this.n,this.s)}}}(),function(){v.ify=function(o,g,m){return t("node.ify"),g?typeof g=="string"?g={soul:g}:typeof g=="function"&&(g={map:g}):g={},g.map&&(g.node=g.map.call(m,o,E,g.node||{})),(g.node=v.soul.ify(g.node||{},g))&&j(o,c,{o:g,as:m}),g.node};function c(o,g){var m=this.o,G,C;if(m.map){G=m.map.call(this.as,o,""+g,m.node),C===G?_(m.node,g):m.node&&(m.node[g]=G);return}r.is(o)&&(m.node[g]=o)}}();var i=n.obj,d=i.is,_=i.del,j=i.map,h=n.text,f=h.random,y=v.soul._,E;n.node=n.node||v;var $=n.state;$.lex=function(){return t("state.lex"),$().toString(36).replace(".","")},$.to=function(c,o,g){t("state.to");var m=(c||{})[o];return d(m)&&(m=N(m)),$.ify(g,o,$.is(c,o),m,v.soul(c))},function(){$.map=function(o,g,m){t("state.map");var G,C=d(C=o||g)?C:null;return o=x(o=o||g)?o:null,C&&!o?(g=p(g)?g:$(),C[w]=C[w]||{},j(C,c,{o:C,s:g}),C):(m=m||d(g)?g:G,g=p(g)?g:$(),function(S,I,L,P){if(!o)return c.call({o:L,s:g},S,I),S;o.call(m||this||{},S,I,L,P),!(O(L,I)&&G===L[I])&&c.call({o:L,s:g},S,I)})};function c(o,g){w!==g&&$.ify(this.o,g,this.s)}}();var i=n.obj;i.as;var O=i.has,d=i.is,j=i.map,N=i.copy,A=n.num,p=A.is,b=n.fn,x=b.is,w=v._,E,T={};(function(){T.is=function(g,m,G,C){return t("graph.is"),!g||!d(g)||k(g)?!1:!j(g,c,{cb:m,fn:G,as:C})};function c(g,m){if(!g||m!==v.soul(g)||!v.is(g,this.fn,this.as))return!0;!this.cb||(o.n=g,o.as=this.as,this.cb.call(o.as,g,m,o))}function o(g){g&&v.is(o.n,g,o.as)}})(),function(){T.ify=function(C,S,I){t("graph.ify");var L={path:[],obj:C};return S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S.map=S):S={},typeof I=="string"&&(S.soul=S.soul||I,I=E),S.soul&&(L.link=r.link.ify(S.soul)),S.shell=(I||{}).shell,S.graph=S.graph||{},S.seen=S.seen||[],S.as=S.as||I,c(S,L),S.root=L.node,S.graph};function c(C,S){var I;return(I=G(C,S))?I:(S.env=C,S.soul=g,v.ify(S.obj,o,S)&&(S.link=S.link||r.link.ify(v.soul(S.node)),S.obj!==C.shell&&(C.graph[r.link.is(S.link)]=S.node)),S)}function o(C,S,I){var L=this,P=L.env,M,R;if(v._===S&&O(C,r.link._))return I._;if(!!(M=m(C,S,I,L,P))){if(S||(L.node=L.node||I||{},O(C,v._)&&v.soul(C)&&(L.node._=N(C._)),L.node=v.soul.ify(L.node,r.link.is(L.link)),L.link=L.link||r.link.ify(v.soul(L.node))),(R=P.map)&&(R.call(P.as||{},C,S,I,L),O(I,S))){if(C=I[S],E===C){_(I,S);return}if(!(M=m(C,S,I,L,P)))return}if(!S)return L.node;if(M===!0)return C;if(R=c(P,{obj:C,path:L.path.concat(S)}),!!R.node)return R.link}}function g(C){var S=this,I=r.link.is(S.link),L=S.env.graph;S.link=S.link||r.link.ify(C),S.link[r.link._]=C,S.node&&S.node[v._]&&(S.node[v._][r.link._]=C),O(L,I)&&(L[C]=L[I],_(L,I))}function m(C,S,I,L,P){var M;if(r.is(C))return!0;if(d(C))return 1;if(M=P.invalid)return C=M.call(P.as||{},C,S,I),m(C,S,I,L,P);P.err="Invalid value at '"+L.path.concat(S).join(".")+"'!",n.list.is(C)&&(P.err+=" Use `.set(item)` instead of an Array.")}function G(C,S){for(var I=C.seen,L=I.length,P;L--;)if(P=I[L],S.obj===P.obj)return P;I.push(S)}}(),T.node=function(c){t("graph.node");var o=v.soul(c);if(!!o)return D({},o,c)},function(){T.to=function(o,g,m){if(t("graph.to"),!!o){var G={};return m=m||{seen:{}},j(o[g],c,{obj:G,graph:o,opt:m}),G}};function c(o,g){var m,G;if(v._===g){if(k(o,r.link._))return;this.obj[g]=N(o);return}if(!(m=r.link.is(o))){this.obj[g]=o;return}if(G=this.opt.seen[m]){this.obj[g]=G;return}this.obj[g]=this.opt.seen[m]=T.to(this.graph,m,this.opt)}}();var x=n.fn.is,i=n.obj,d=i.is,_=i.del,O=i.has,k=i.empty,D=i.put,j=i.map,N=i.copy,E;n.graph=n.graph||T}}()})(le);(function(e){e.exports=le.exports})(ae);const An=jn(ae.exports),Dn=st('<div><div class="grid grid-cols-3 grid-rows-3"></div></div>'),On=An("https://mvp-gun.herokuapp.com/gun"),Cn=()=>{const[e,t]=tt(Array.from({length:9},()=>K.None)),[n,a]=tt(K.Circle),r=H(()=>Ke(e()));let l=K.None;const s=b=>{let w=e(),T=n();T===l&&w[b]===K.None&&(w[b]=T,t([...w]),T=We(T),a(T),v())},u=()=>{t(Array.from({length:9},()=>K.None)),a(K.Circle),v()},v=()=>{A.put({field:{...e()},turn:n()})},h=()=>{let b=localStorage.getItem("playerID");return b||(b=Wt(),localStorage.setItem("playerID",b)),b},f=b=>b%2===0?K.Circle:K.Cross,y=wn();let $=y.query.id;if(!$){$=Wt();const b=y.pathname;vn()(`${b}/?id=${$}`,{replace:!0})}const A=On.get($),p=h();return A.get("players").once(b=>{b||A.put({players:{...[p]}})}),A.get("players").on(b=>{const w=Object.values(b),T=w.slice(0,w.length-1);T.includes(p)?l=f(T.indexOf(p)):(A.put({players:{...[p,...T]}}),l=f(T.length))}),A.get("field").on(b=>{const w=Object.values(b),T=w.slice(0,w.length-1);t(T)}),A.get("turn").on(b=>{a(b)}),(()=>{const b=Dn.cloneNode(!0),w=b.firstChild;return X(w,J(Te,{get each(){return e()},children:(T,x)=>J(Ye,{state:T,onClick:()=>s(x())})})),X(b,J(ie,{get children(){return[J(ht,{get when(){return r()===K.Circle},get children(){return J(St,{restartGame:u,result:"Winner: Circle"})}}),J(ht,{get when(){return r()===K.Cross},get children(){return J(St,{restartGame:u,result:"Winner: Cross"})}}),J(ht,{get when(){return r()===K.Draw},get children(){return J(St,{restartGame:u,result:"Draw"})}})]}}),null),b})()},Nn=st('<div class="absolute inset-0 flex justify-center items-center"></div>'),En=()=>J(kn,{get children(){const e=Nn.cloneNode(!0);return X(e,J(Cn,{})),e}});Le(()=>J(En,{}),document.getElementById("root"));
