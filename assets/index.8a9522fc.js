(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const Z={},ce=(e,t)=>e===t,he=Symbol("solid-proxy"),de=Symbol("solid-track"),bt={equals:ce};let pe=te;const ot=1,mt=2,Kt={owned:null,cleanups:null,context:null,owner:null};var U=null;let rt=null,q=null,W=null,it=null,Ot=0;function vt(e,t){const n=q,a=U,r=e.length===0,l=r?Kt:{owned:null,cleanups:null,context:null,owner:t||a},s=r?e:()=>e(()=>Y(()=>Nt(l)));U=l,q=null;try{return ut(s,!0)}finally{q=n,U=a}}function tt(e,t){t=t?Object.assign({},bt,t):bt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},a=r=>(typeof r=="function"&&(r=r(n.value)),Qt(n,r));return[Xt.bind(n),a]}function Q(e,t,n){const a=Yt(e,t,!1,ot);_t(a)}function H(e,t,n){n=n?Object.assign({},bt,n):bt;const a=Yt(e,t,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=n.equals||void 0,_t(a),Xt.bind(a)}function Y(e){let t,n=q;return q=null,t=e(),q=n,t}function ye(e,t,n){const a=Array.isArray(e);let r,l=n&&n.defer;return s=>{let u;if(a){u=Array(e.length);for(let d=0;d<e.length;d++)u[d]=e[d]()}else u=e();if(l){l=!1;return}const v=Y(()=>t(u,r,s));return r=u,v}}function Ct(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function ge(){return U}function ve(e,t){const n=U;U=e;try{return ut(t,!0)}finally{U=n}}function we(e){const t=q,n=U;return Promise.resolve().then(()=>{q=t,U=n;let a;return ut(e,!1),q=U=null,a?a.done:void 0})}function Ht(e){const t=Symbol("context");return{id:t,Provider:_e(t),defaultValue:e}}function Vt(e){let t;return(t=re(U,e.id))!==void 0?t:e.defaultValue}function zt(e){const t=H(e),n=H(()=>At(t()));return n.toArray=()=>{const a=n();return Array.isArray(a)?a:a!=null?[a]:[]},n}function Xt(){const e=rt;if(this.sources&&(this.state||e))if(this.state===ot||e)_t(this);else{const t=W;W=null,ut(()=>kt(this),!1),W=t}if(q){const t=this.observers?this.observers.length:0;q.sources?(q.sources.push(this),q.sourceSlots.push(t)):(q.sources=[this],q.sourceSlots=[t]),this.observers?(this.observers.push(q),this.observerSlots.push(q.sources.length-1)):(this.observers=[q],this.observerSlots=[q.sources.length-1])}return this.value}function Qt(e,t,n){let a=e.value;return(!e.comparator||!e.comparator(a,t))&&(e.value=t,e.observers&&e.observers.length&&ut(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],s=rt&&rt.running;s&&rt.disposed.has(l),(s&&!l.tState||!s&&!l.state)&&(l.pure?W.push(l):it.push(l),l.observers&&ee(l)),s||(l.state=ot)}if(W.length>1e6)throw W=[],new Error},!1)),t}function _t(e){if(!e.fn)return;Nt(e);const t=U,n=q,a=Ot;q=U=e,be(e,e.value,a),q=n,U=t}function be(e,t,n){let a;try{a=e.fn(t)}catch(r){e.pure&&(e.state=ot),ne(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Qt(e,a):e.value=a,e.updatedAt=n)}function Yt(e,t,n,a=ot,r){const l={fn:e,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:null,pure:n};return U===null||U!==Kt&&(U.owned?U.owned.push(l):U.owned=[l]),l}function Zt(e){const t=rt;if(e.state===0||t)return;if(e.state===mt||t)return kt(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ot);)(e.state||t)&&n.push(e);for(let a=n.length-1;a>=0;a--)if(e=n[a],e.state===ot||t)_t(e);else if(e.state===mt||t){const r=W;W=null,ut(()=>kt(e,n[0]),!1),W=r}}function ut(e,t){if(W)return e();let n=!1;t||(W=[]),it?n=!0:it=[],Ot++;try{const a=e();return me(n),a}catch(a){W||(it=null),ne(a)}}function me(e){if(W&&(te(W),W=null),e)return;const t=it;it=null,t.length&&ut(()=>pe(t),!1)}function te(e){for(let t=0;t<e.length;t++)Zt(e[t])}function kt(e,t){const n=rt;e.state=0;for(let a=0;a<e.sources.length;a+=1){const r=e.sources[a];r.sources&&(r.state===ot||n?r!==t&&Zt(r):(r.state===mt||n)&&kt(r,t))}}function ee(e){const t=rt;for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n];(!a.state||t)&&(a.state=mt,a.pure?W.push(a):it.push(a),a.observers&&ee(a))}}function Nt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),a=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),s=n.observerSlots.pop();a<r.length&&(l.sourceSlots[s]=a,r[a]=l,n.observerSlots[a]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Nt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function ke(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function ne(e){throw e=ke(e),e}function re(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:re(e.owner,t):void 0}function At(e){if(typeof e=="function"&&!e.length)return At(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const a=At(e[n]);Array.isArray(a)?t.push.apply(t,a):t.push(a)}return t}return e}function _e(e){return function(n){let a;return Q(()=>a=Y(()=>(U.context={[e]:n.value},zt(()=>n.children)))),a}}const xe=Symbol("fallback");function Lt(e){for(let t=0;t<e.length;t++)e[t]()}function $e(e,t,n={}){let a=[],r=[],l=[],s=0,u=t.length>1?[]:null;return Ct(()=>Lt(l)),()=>{let v=e()||[],d,f;return v[de],Y(()=>{let $=v.length,D,c,_,w,O,x,i,p,k;if($===0)s!==0&&(Lt(l),l=[],a=[],r=[],s=0,u&&(u=[])),n.fallback&&(a=[xe],r[0]=vt(A=>(l[0]=A,n.fallback())),s=1);else if(s===0){for(r=new Array($),f=0;f<$;f++)a[f]=v[f],r[f]=vt(y);s=$}else{for(_=new Array($),w=new Array($),u&&(O=new Array($)),x=0,i=Math.min(s,$);x<i&&a[x]===v[x];x++);for(i=s-1,p=$-1;i>=x&&p>=x&&a[i]===v[p];i--,p--)_[p]=r[i],w[p]=l[i],u&&(O[p]=u[i]);for(D=new Map,c=new Array(p+1),f=p;f>=x;f--)k=v[f],d=D.get(k),c[f]=d===void 0?-1:d,D.set(k,f);for(d=x;d<=i;d++)k=a[d],f=D.get(k),f!==void 0&&f!==-1?(_[f]=r[d],w[f]=l[d],u&&(O[f]=u[d]),f=c[f],D.set(k,f)):l[d]();for(f=x;f<$;f++)f in _?(r[f]=_[f],l[f]=w[f],u&&(u[f]=O[f],u[f](f))):r[f]=vt(y);r=r.slice(0,s=$),a=v.slice(0)}return r});function y($){if(l[f]=$,u){const[D,c]=tt(f);return u[f]=c,t(v[f],D)}return t(v[f])}}}function J(e,t){return Y(()=>e(t||{}))}function yt(){return!0}const Se={get(e,t,n){return t===he?n:e.get(t)},has(e,t){return e.has(t)},set:yt,deleteProperty:yt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:yt,deleteProperty:yt}},ownKeys(e){return e.keys()}};function $t(e){return(e=typeof e=="function"?e():e)==null?{}:e}function je(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const a=$t(e[n])[t];if(a!==void 0)return a}},has(t){for(let n=e.length-1;n>=0;n--)if(t in $t(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys($t(e[n])));return[...new Set(t)]}},Se)}function Te(e){const t="fallback"in e&&{fallback:()=>e.fallback};return H($e(()=>e.each,e.children,t||void 0))}function ie(e){let t=!1,n=!1;const a=zt(()=>e.children),r=H(()=>{let l=a();Array.isArray(l)||(l=[l]);for(let s=0;s<l.length;s++){const u=l[s].when;if(u)return n=!!l[s].keyed,[s,u,l[s]]}return[-1]},void 0,{equals:(l,s)=>l[0]===s[0]&&(t?l[1]===s[1]:!l[1]==!s[1])&&l[2]===s[2]});return H(()=>{const[l,s,u]=r();if(l<0)return e.fallback;const v=u.children,d=typeof v=="function"&&v.length>0;return t=n||d,d?Y(()=>v(s)):v})}function ht(e){return e}const Ae=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],De=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ae]),Oe=new Set(["innerHTML","textContent","innerText","children"]),Ce={className:"class",htmlFor:"for"},Pt={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Ne=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ee={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ie(e,t){return H(e,void 0,t?void 0:{equals:t})}function Ge(e,t,n){let a=n.length,r=t.length,l=a,s=0,u=0,v=t[r-1].nextSibling,d=null;for(;s<r||u<l;){if(t[s]===n[u]){s++,u++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===s){const f=l<a?u?n[u-1].nextSibling:n[l-u]:v;for(;u<l;)e.insertBefore(n[u++],f)}else if(l===u)for(;s<r;)(!d||!d.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[u]===t[r-1]){const f=t[--r].nextSibling;e.insertBefore(n[u++],t[s++].nextSibling),e.insertBefore(n[--l],f),t[r]=n[l]}else{if(!d){d=new Map;let y=u;for(;y<l;)d.set(n[y],y++)}const f=d.get(t[s]);if(f!=null)if(u<f&&f<l){let y=s,$=1,D;for(;++y<r&&y<l&&!((D=d.get(t[y]))==null||D!==f+$);)$++;if($>f-u){const c=t[s];for(;u<f;)e.insertBefore(n[u++],c)}else e.replaceChild(n[u++],t[s++])}else s++;else t[s++].remove()}}}const Mt="_$DX_DELEGATE";function Le(e,t,n){let a;return vt(r=>{a=r,t===document?e():X(t,e(),t.firstChild?null:void 0,n)}),()=>{a(),t.textContent=""}}function st(e,t,n){const a=document.createElement("template");a.innerHTML=e;let r=a.content.firstChild;return n&&(r=r.firstChild),r}function xt(e,t=window.document){const n=t[Mt]||(t[Mt]=new Set);for(let a=0,r=e.length;a<r;a++){const l=e[a];n.has(l)||(n.add(l),t.addEventListener(l,Je))}}function wt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Pe(e,t,n,a){a==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,a)}function Me(e,t){t==null?e.removeAttribute("class"):e.className=t}function Et(e,t,n,a){if(a)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=l=>r.call(e,n[1],l))}else e.addEventListener(t,n)}function Re(e,t,n={}){const a=Object.keys(t||{}),r=Object.keys(n);let l,s;for(l=0,s=r.length;l<s;l++){const u=r[l];!u||u==="undefined"||t[u]||(Rt(e,u,!1),delete n[u])}for(l=0,s=a.length;l<s;l++){const u=a[l],v=!!t[u];!u||u==="undefined"||n[u]===v||!v||(Rt(e,u,!0),n[u]=v)}return n}function oe(e,t,n={}){const a=e.style,r=typeof n=="string";if(t==null&&r||typeof t=="string")return a.cssText=t;r&&(a.cssText=void 0,n={}),t||(t={});let l,s;for(s in n)t[s]==null&&a.removeProperty(s),delete n[s];for(s in t)l=t[s],l!==n[s]&&(a.setProperty(s,l),n[s]=l);return n}function Be(e,t,n,a){typeof t=="function"?Q(r=>Ut(e,t(),r,n,a)):Ut(e,t,void 0,n,a)}function X(e,t,n,a){if(n!==void 0&&!a&&(a=[]),typeof t!="function")return lt(e,t,a,n);Q(r=>lt(e,t(),r,n),a)}function Ue(e,t,n,a,r={},l=!1){t||(t={});for(const s in r)if(!(s in t)){if(s==="children")continue;Bt(e,s,null,r[s],n,l)}for(const s in t){if(s==="children"){a||lt(e,t.children);continue}const u=t[s];r[s]=Bt(e,s,u,r[s],n,l)}}function qe(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Rt(e,t,n){const a=t.trim().split(/\s+/);for(let r=0,l=a.length;r<l;r++)e.classList.toggle(a[r],n)}function Bt(e,t,n,a,r,l){let s,u,v;if(t==="style")return oe(e,n,a);if(t==="classList")return Re(e,n,a);if(n===a)return a;if(t==="ref")l||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);a&&e.removeEventListener(d,a),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);a&&e.removeEventListener(d,a,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),f=Ne.has(d);if(!f&&a){const y=Array.isArray(a)?a[0]:a;e.removeEventListener(d,y)}(f||n)&&(Et(e,d,n,f),f&&xt([d]))}else if((v=Oe.has(t))||!r&&(Pt[t]||(u=De.has(t)))||(s=e.nodeName.includes("-")))t==="class"||t==="className"?Me(e,n):s&&!u&&!v?e[qe(t)]=n:e[Pt[t]||t]=n;else{const d=r&&t.indexOf(":")>-1&&Ee[t.split(":")[0]];d?Pe(e,d,t,n):wt(e,Ce[t]||t,n)}return n}function Je(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),Z.registry&&!Z.done&&(Z.done=!0,document.querySelectorAll("[id^=pl-]").forEach(a=>a.remove()));n!==null;){const a=n[t];if(a&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?a.call(n,r,e):a.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Ut(e,t,n={},a,r){return t||(t={}),!r&&"children"in t&&Q(()=>n.children=lt(e,t.children,n.children)),t.ref&&t.ref(e),Q(()=>Ue(e,t,a,!0,n,!0)),n}function lt(e,t,n,a,r){for(Z.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=a!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(Z.context)return n;if(l==="number"&&(t=t.toString()),s){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=ft(e,n,a,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(Z.context)return n;n=ft(e,n,a)}else{if(l==="function")return Q(()=>{let u=t();for(;typeof u=="function";)u=u();n=lt(e,u,n,a)}),()=>n;if(Array.isArray(t)){const u=[],v=n&&Array.isArray(n);if(Dt(u,t,n,r))return Q(()=>n=lt(e,u,n,a,!0)),()=>n;if(Z.context){if(!u.length)return n;for(let d=0;d<u.length;d++)if(u[d].parentNode)return n=u}if(u.length===0){if(n=ft(e,n,a),s)return n}else v?n.length===0?qt(e,u,a):Ge(e,n,u):(n&&ft(e),qt(e,u));n=u}else if(t instanceof Node){if(Z.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=ft(e,n,a,t);ft(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Dt(e,t,n,a){let r=!1;for(let l=0,s=t.length;l<s;l++){let u=t[l],v=n&&n[l];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))r=Dt(e,u,v)||r;else if(typeof u=="function")if(a){for(;typeof u=="function";)u=u();r=Dt(e,Array.isArray(u)?u:[u],v)||r}else e.push(u),r=!0;else{const d=String(u);v&&v.nodeType===3&&v.data===d?e.push(v):e.push(document.createTextNode(d))}}return r}function qt(e,t,n){for(let a=0,r=t.length;a<r;a++)e.insertBefore(t[a],n)}function ft(e,t,n,a){if(n===void 0)return e.textContent="";const r=a||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const u=t[s];if(r!==u){const v=u.parentNode===e;!l&&!s?v?e.replaceChild(r,u):e.insertBefore(r,n):v&&u.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const Fe=!1;var K=(e=>(e[e.None=0]="None",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Draw=3]="Draw",e))(K||{});const We=e=>{switch(e){case 2:return 1;case 1:return 2}return 0},Ke=e=>{const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]];for(let a of t){const[r,l,s]=a;if(e[r]!==0&&e[r]===e[l]&&e[r]==e[s])return e[r]}let n=!0;for(let a of e)a===0&&(n=!1);return n?3:0},He=st('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),Ve=st("<title></title>");function ue(e,t){const n=je(e.a,t);return(()=>{const a=He.cloneNode(!0);return Be(a,n,!0,!0),X(a,()=>Fe,null),X(a,(()=>{const r=Ie(()=>!!t.title,!0);return()=>r()&&(()=>{const l=Ve.cloneNode(!0);return X(l,()=>t.title),l})()})(),null),Q(r=>{const l=e.a.stroke,s={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",v=t.size||"1em",d=e.c;return l!==r._v$&&wt(a,"stroke",r._v$=l),r._v$2=oe(a,s,r._v$2),u!==r._v$3&&wt(a,"height",r._v$3=u),v!==r._v$4&&wt(a,"width",r._v$4=v),d!==r._v$5&&(a.innerHTML=r._v$5=d),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),a})()}function ze(e){return ue({a:{viewBox:"0 0 512 512"},c:'<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"/>'},e)}function Xe(e){return ue({a:{viewBox:"0 0 384 512"},c:'<path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 01-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 01-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/>'},e)}const Qe=st('<div class="bg-gray-300 rounded min-w-[6rem] min-h-[6rem] sm:min-w-[8rem] sm:min-h-[8rem] md:min-w-[12rem] md:min-h-[12rem] lg:min-w-[16rem] lg:min-h-[16rem] m-2 flex justify-center items-center"></div>'),Ye=e=>(()=>{const t=Qe.cloneNode(!0);return Et(t,"click",e.onClick,!0),X(t,J(ie,{get fallback(){return[]},get children(){return[J(ht,{get when(){return e.state===K.Cross},get children(){return J(Xe,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}}),J(ht,{get when(){return e.state===K.Circle},get children(){return J(ze,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}})]}})),t})();xt(["click"]);const Ze=st('<div class="absolute inset-0 flex justify-center items-center"><div class="rounded bg-gray-100 px-8 py-5"></div></div>'),tn=e=>(()=>{const t=Ze.cloneNode(!0),n=t.firstChild;return X(n,()=>e.children),t})(),en=st('<div class="flex flex-col"><h3 class="m-3 text-4xl text-center"></h3><span class="py-2 px-3 rounded bg-gray-300 m-auto cursor-pointer">Restart Game</span></div>'),St=e=>J(tn,{get children(){const t=en.cloneNode(!0),n=t.firstChild,a=n.nextSibling;return X(n,()=>e.result),Et(a,"click",e.restartGame,!0),t}});xt(["click"]);function nn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function rn([e,t],n,a){return[n?()=>n(e()):e,a?r=>t(a(r)):t]}function on(e){try{return document.querySelector(e)}catch{return null}}function un(e,t){const n=on(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function sn(e,t,n,a){let r=!1;const l=u=>typeof u=="string"?{value:u}:u,s=rn(tt(l(e()),{equals:(u,v)=>u.value===v.value}),void 0,u=>(!r&&t(u),u));return n&&Ct(n((u=e())=>{r=!0,s[1](l(u)),r=!1})),{signal:s,utils:a}}function fn(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:tt({value:""})};return e}function an(){return sn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:a})=>{t?window.history.replaceState(a,"",e):window.history.pushState(a,"",e),un(window.location.hash.slice(1),n)},e=>nn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const ln=/^(?:[a-z0-9]+:)?\/\//i,cn=/^\/+|\/+$/g;function jt(e,t=!1){const n=e.replace(cn,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Tt(e,t,n){if(ln.test(t))return;const a=jt(e),r=n&&jt(n);let l="";return!r||t.startsWith("/")?l=a:r.toLowerCase().indexOf(a.toLowerCase())!==0?l=a+r:l=r,(l||"/")+jt(t,!l)}function hn(e,t){if(e==null)throw new Error(t);return e}function dn(e){const t={};return e.searchParams.forEach((n,a)=>{t[a]=n}),t}function at(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function pn(e){const t=new Map,n=ge();return new Proxy({},{get(a,r){return t.has(r)||ve(n,()=>t.set(r,H(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const yn=100,se=Ht(),gn=Ht(),fe=()=>hn(Vt(se),"Make sure your app is wrapped in a <Router />");let Jt;const vn=()=>fe().navigatorFactory(),wn=()=>fe().location;function bn(e,t){const n=new URL("http://sar"),a=H(v=>{const d=e();try{return new URL(d,n)}catch{return console.error(`Invalid path ${d}`),v}},n,{equals:(v,d)=>v.href===d.href}),r=H(()=>at(a().pathname)),l=H(()=>at(a().search,!0)),s=H(()=>at(a().hash)),u=H(()=>"");return{get pathname(){return r()},get search(){return l()},get hash(){return s()},get state(){return t()},get key(){return u()},query:pn(ye(l,()=>dn(a())))}}function mn(e,t="",n,a){const{signal:[r,l],utils:s={}}=fn(e),u=s.parsePath||(j=>j),v=s.renderPath||(j=>j),d=Tt("",t),f=void 0;if(d===void 0)throw new Error(`${d} is not a valid base path`);d&&!r().value&&l({value:d,replace:!0,scroll:!1});const[y,$]=tt(!1),D=async j=>{$(!0);try{await we(j)}finally{$(!1)}},[c,_]=tt(r().value),[w,O]=tt(r().state),x=bn(c,w),i=[],p={pattern:d,params:{},path:()=>d,outlet:()=>null,resolvePath(j){return Tt(d,j)}};if(n)try{Jt=p,p.data=n({data:void 0,params:{},location:x,navigate:A(p)})}finally{Jt=void 0}function k(j,N,E){Y(()=>{if(typeof N=="number"){N&&(s.go?s.go(N):console.warn("Router integration does not support relative routing"));return}const{replace:h,resolve:o,scroll:g,state:b}={replace:!1,resolve:!0,scroll:!0,...E},G=o?j.resolvePath(N):Tt("",N);if(G===void 0)throw new Error(`Path '${N}' is not a routable path`);if(i.length>=yn)throw new Error("Too many redirects");const C=c();if(G!==C||b!==w()){const S=i.push({value:C,replace:h,scroll:g,state:w()});D(()=>{_(G),O(b)}).then(()=>{i.length===S&&m({value:G,state:b})})}})}function A(j){return j=j||Vt(gn)||p,(N,E)=>k(j,N,E)}function m(j){const N=i[0];N&&((j.value!==N.value||j.state!==N.state)&&l({...j,replace:N.replace,scroll:N.scroll}),i.length=0)}Q(()=>{const{value:j,state:N}=r();Y(()=>{j!==c()&&D(()=>{_(j),O(N)})})});{let j=function(N){if(N.defaultPrevented||N.button!==0||N.metaKey||N.altKey||N.ctrlKey||N.shiftKey)return;const E=N.composedPath().find(S=>S instanceof Node&&S.nodeName.toUpperCase()==="A");if(!E||!E.hasAttribute("link"))return;const h=E.href;if(E.target||!h&&!E.hasAttribute("state"))return;const o=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||o&&o.includes("external"))return;const g=new URL(h),b=at(g.pathname);if(g.origin!==window.location.origin||d&&b&&!b.toLowerCase().startsWith(d.toLowerCase()))return;const G=u(b+at(g.search,!0)+at(g.hash)),C=E.getAttribute("state");N.preventDefault(),k(p,G,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:C&&JSON.parse(C)})};var T=j;xt(["click"]),document.addEventListener("click",j),Ct(()=>document.removeEventListener("click",j))}return{base:p,out:f,location:x,isRouting:y,renderPath:v,parsePath:u,navigatorFactory:A}}const kn=e=>{const{source:t,url:n,base:a,data:r,out:l}=e,s=t||an(),u=mn(s,a,r);return J(se.Provider,{value:u,get children(){return e.children}})};let gt;const _n=new Uint8Array(16);function xn(){if(!gt&&(gt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gt(_n)}const F=[];for(let e=0;e<256;++e)F.push((e+256).toString(16).slice(1));function $n(e,t=0){return(F[e[t+0]]+F[e[t+1]]+F[e[t+2]]+F[e[t+3]]+"-"+F[e[t+4]]+F[e[t+5]]+"-"+F[e[t+6]]+F[e[t+7]]+"-"+F[e[t+8]]+F[e[t+9]]+"-"+F[e[t+10]]+F[e[t+11]]+F[e[t+12]]+F[e[t+13]]+F[e[t+14]]+F[e[t+15]]).toLowerCase()}const Sn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ft={randomUUID:Sn};function Wt(e,t,n){if(Ft.randomUUID&&!t&&!e)return Ft.randomUUID();e=e||{};const a=e.random||(e.rng||xn)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=a[r];return t}return $n(a)}function jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ae={exports:{}};function Tn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var le={exports:{}};(function(e){(function(){function t(a,r){return r?Tn(a):a.slice?t[l(a)]:function(s,u){a(s={exports:{}}),t[l(u)]=s.exports};function l(s){return s.split("/").slice(-1).toString().replace(".js","")}}var n=e;t(function(a){String.random=function(l,s){var u="";for(l=l||24,s=s||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";l-- >0;)u+=s.charAt(Math.floor(Math.random()*s.length));return u},String.match=function(l,s){var u,v;return typeof l!="string"?!1:(typeof s=="string"&&(s={"=":s}),s=s||{},u=s["="]||s["*"]||s[">"]||s["<"],l===u?!0:v!==s["="]?!1:(u=s["*"]||s[">"],l.slice(0,(u||"").length)===u?!0:v!==s["*"]?!1:v!==s[">"]&&v!==s["<"]?l>=s[">"]&&l<=s["<"]:v!==s[">"]&&l>=s[">"]||v!==s["<"]&&l<=s["<"]))},String.hash=function(l,s){if(typeof l=="string"){if(s=s||0,!l.length)return s;for(var u=0,v=l.length,d;u<v;++u)d=l.charCodeAt(u),s=(s<<5)-s+d,s|=0;return s}};var r=Object.prototype.hasOwnProperty;Object.plain=function(l){return l?l instanceof Object&&l.constructor===Object||Object.prototype.toString.call(l).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(l,s){for(var u in l)if(r.call(l,u)&&(!s||s.indexOf(u)==-1))return!1;return!0},Object.keys=Object.keys||function(l){var s=[];for(var u in l)r.call(l,u)&&s.push(u);return s},function(){var l,s=setTimeout,u=0,v=0,d=typeof setImmediate!=""+l&&setImmediate||function(y,$){return typeof MessageChannel==""+l?s:((y=new MessageChannel).port1.onmessage=function(D){D.data==""&&$()},function(D){$=D,y.port2.postMessage("")})}(),f=s.check=s.check||typeof performance!=""+l&&performance||{now:function(){return+new Date}};s.hold=s.hold||9,s.poll=s.poll||function(y){if(s.hold>=f.now()-u&&v++<3333){y();return}d(function(){u=f.now(),y()},v=0)}}(),function(){var l=setTimeout,s=l.turn=l.turn||function($){u.push($)==1&&v(y)},u=s.s=[],v=l.poll,d=0,f,y=function(){(f=u[d++])&&f(),(d==u.length||d==99)&&(u=s.s=u.slice(d),d=0),u.length&&v(y)}}(),function(){var l,s=setTimeout,u=s.turn;(s.each=s.each||function(v,d,f,y){y=y||9,function $(D,c,_){if(c=(D=(v||[]).splice(0,y)).length){for(var w=0;w<c&&l===(_=d(D[w]));w++);if(l===_){u($);return}}f&&f(_)}()})()}()})(t,"./shim"),t(function(a){a.exports=function r(f,s,u){if(!f)return{to:r};var v,d=typeof s=="function",f=(this.tag||(this.tag={}))[f]||d&&(this.tag[f]={tag:f,to:r._={next:function($){var D;(D=this.to)&&D.next($)}}});if(d){var y={off:r.off||(r.off=function(){if(this.next===r._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=r._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:r._,next:s,the:f,on:this,as:u};return(y.back=f.last||f).to=y,f.last=y}return(f=f.to)&&v!==s&&f.next(s),f}})(t,"./onto"),t(function(a){a.exports=function(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"&&r!=1/0&&r!=-1/0&&r===r||!!r&&typeof r["#"]=="string"&&Object.keys(r).length===1&&r["#"]}})(t,"./valid"),t(function(a){t("./shim");function r(){var f=+new Date;return v<f?(s=0,v=f+r.drift):v=f+(s+=1)/u+r.drift}r.drift=0;var l=-1/0,s=0,u=999,v=l,d;r.is=function(f,y,$){var D=y&&f&&f._&&f._[">"]||$;if(!!D)return typeof(D=D[y])=="number"?D:l},r.ify=function(f,y,$,D,c){(f=f||{})._=f._||{},c&&(f._["#"]=c);var _=f._[">"]||(f._[">"]={});return d!==y&&y!=="_"&&(typeof $=="number"&&(_[y]=$),d!==D&&(f[y]=D)),f},a.exports=r})(t,"./state"),t(function(a){t("./shim");function r(l){var s={s:{}},u=s.s;l=l||{max:999,age:1e3*9},s.check=function(d){return u[d]?v(d):!1};var v=s.track=function(d){var f=u[d]||(u[d]={});return f.was=s.now=+new Date,s.to||(s.to=setTimeout(s.drop,l.age+9)),f};return s.drop=function(d){s.to=null,s.now=+new Date;var f=Object.keys(u);console.STAT&&console.STAT(s.now,+new Date-s.now,"dup drop keys"),setTimeout.each(f,function(y){var $=u[y];$&&(d||l.age)>s.now-$.was||delete u[y]},0,99)},s}a.exports=r})(t,"./dup"),t(function(a){t("./onto"),a.exports=function(s,u){if(!!this.on){var v=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var f=s["#"]||s,d=(this.tag||"")[f];return d?(u&&(d=this.on(f,u),clearTimeout(d.err),d.err=setTimeout(function(){d.off()},v)),!0):void 0}var f=u&&u["#"]||r(9);if(!s)return f;var y=this.on(f,s,u);return y.err=y.err||setTimeout(function(){y.off(),y.next({err:"Error: No ACK yet.",lack:!0})},v),f}};var r=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(a){function r(c){return c instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:c}):new r(c)}r.is=function(c){return c instanceof r||c&&c._&&c===c._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},t("./shim"),r.valid=t("./valid"),r.state=t("./state"),r.on=t("./onto"),r.dup=t("./dup"),r.ask=t("./ask"),function(){r.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||r.on,o.ask=o.ask||r.ask,o.dup=o.dup||r.dup();var g=o.$.opt(o.opt);return o.once||(o.on("in",c,o),o.on("out",c,o),o.on("put",O,o),r.on("create",o),o.on("create",o)),o.once=1,g};function c(o){if(!!o){if(o.out===c){this.to.next(o);return}var g=this,b=g.as,G=b.at||b,C=G.$,S=G.dup,I,L=o.DBG;if((I=o["#"])||(I=o["#"]=s(9)),!S.check(I)){if(S.track(I),I=o._,o._=typeof I=="function"?I:function(){},o.$&&o.$===(o.$._||"").$||(o.$=C),o["@"]&&!o.put&&i(o),!G.ask(o["@"],o))if(L&&(L.u=+new Date),o.put){_(o);return}else o.get&&r.on.get(o,C);L&&(L.uc=+new Date),g.to.next(o),L&&(L.ua=+new Date),!(o.nts||o.NTS)&&(o.out=c,G.on("out",o),L&&(L.ue=+new Date))}}}function _(o){if(!!o){var g=o._||"",b=g.root=((g.$=o.$||"")._||"").root;if(o["@"]&&g.faith&&!g.miss){o.out=c,b.on("out",o);return}g.latch=b.hatch,g.match=b.hatch=[];var G=o.put,C=g.DBG=o.DBG,S=+new Date;if(E=E||S,!(G["#"]&&G["."])){C&&(C.p=S),g["#"]=o["#"],g.msg=o,g.all=0,g.stun=1;var I=Object.keys(G);console.STAT&&console.STAT(S,((C||g).pk=+new Date)-S,"put sort");var L=0,P,M,R,B,z,V,ct;(function et(dt){if(P!=L){if(P=L,!(R=I[L])){console.STAT&&console.STAT(S,((C||g).pd=+new Date)-S,"put"),x(g);return}(B=G[R])?(ct=B._)?R!==ct["#"]?V=k+A(R)+"soul not same.":(z=ct[">"])||(V=k+A(R)+"no state."):V=k+A(R)+"no meta.":V=k+A(R)+"no node.",M=Object.keys(B||{})}if(V){o.err=g.err=V,x(g);return}var It=0,nt;for(dt=dt||0;dt++<9&&(nt=M[It++]);)if(nt!=="_"){var pt=B[nt],Gt=z[nt];if(y===Gt){V=k+A(nt)+"on"+A(R)+"no state.";break}if(!v(pt)){V=k+A(nt)+"on"+A(R)+"bad "+typeof pt+A(pt);break}w(pt,nt,R,Gt,o),++N}if((M=M.slice(It)).length){u(et);return}++L,M=null,et(dt)})()}}}r.on.put=_;function w(o,g,b,G,C){var S=C._||"",I=S.root,L=I.graph,P,M=L[b]||$,R=d(M,g,1),B=M[g],z=S.DBG;(P=console.STAT)&&(!L[b]||!B)&&(P.has=(P.has||0)+1);var V=j();if(G>V){setTimeout(function(){w(o,g,b,G,C)},(P=G-V)>T?T:P),console.STAT&&console.STAT((z||S).Hf=+new Date,P,"future");return}if(!(G<R)&&!(!S.faith&&G===R&&(o===B||m(o)<=m(B))&&!S.miss)){S.stun++;var ct=C["#"]+S.all++,et={toString:function(){return ct},_:S};et.toJSON=et.toString,I.dup.track(et)["#"]=C["#"],z&&(z.ph=z.ph||+new Date),I.on("put",{"#":et,"@":C["@"],put:{"#":b,".":g,":":o,">":G},ok:C.ok,_:S})}}function O(o){var g;(g=(o._||"").DBG)&&(g.pa=+new Date,g.pm=g.pm||+new Date);var b=this,G=b.as,C=G.graph,S=o._,I=o.put,L=I["#"],P=I["."],M=I[":"],R=I[">"];o["#"];var B;(B=S.msg)&&(B=B.put)&&(B=B[L])&&f(B,P,R,M,L),C[L]=f(C[L],P,R,M,L),(B=(G.next||"")[L])&&B.on("in",o),x(S),b.to.next(o)}function x(o,g){var b;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!(b=o.root))){var G=o.match;G.end=1,G===b.hatch&&(!(G=o.latch)||G.end?delete b.hatch:b.hatch=G),o.hatch&&o.hatch(),setTimeout.each(o.match,function(C){C&&C()}),!(!(g=o.msg)||o.err||g.err)&&(g.out=c,o.root.on("out",g),h())}}function i(o){var g=o["@"]||"",b;if(!(b=g._)){var G=(G=o.$)&&(G=G._)&&(G=G.root)&&(G=G.dup);if(!(G=G.check(g)))return;o["@"]=G["#"]||o["@"];return}b.acks=(b.acks||0)+1,(b.err=o.err)&&(o["@"]=b["#"],x(b)),b.ok=o.ok||b.ok,!b.stop&&!b.crack&&(b.crack=b.match&&b.match.push(function(){p(b)})),p(b)}function p(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?y:o.ok||{"":1}})}var k="Error: Invalid graph!",A=function(o){return" '"+(""+o).slice(0,9)+"...' "},m=JSON.stringify,T=2147483647,j=r.state,N=0,E,h=function(){N>999&&N/-(E-(E=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),h=function(){N=0})}}(),function(){r.on.get=function(_,w){var O=w._,x=_.get,i=x["#"],p=O.graph[i],k=x["."],A=O.next||(O.next={});A[i];var m=_._||{},T=m.DBG=_.DBG;if(T&&(T.g=+new Date),!p)return O.on("get",_);if(k){if(typeof k!="string"||y===p[k])return O.on("get",_);p=f({},k,d(p,k),p[k],i)}p&&c(_,p),O.on("get",_)};function c(_,w){var O=+new Date,x=_._||{},i=x.DBG=_.DBG,p=_["#"],k=s(9),A=Object.keys(w||"").sort(),m=((w||"")._||"")["#"];A.length;var T=_.$._.root,j=w===T.graph[m];console.STAT&&console.STAT(O,((i||x).gk=+new Date)-O,"got keys"),w&&function N(){O=+new Date;for(var E=0,h,o={},g;E<9&&(h=A[E++]);)f(o,h,d(w,h),w[h],m);A=A.slice(E),(g={})[m]=o,o=g;var b;j&&(b=function(){},b.ram=b.faith=!0),g=A.length,console.STAT&&console.STAT(O,-(O-(O=+new Date)),"got copied some"),i&&(i.ga=+new Date),T.on("in",{"@":p,"#":k,put:o,"%":g?k=s(9):y,$:T.$,_:b,DBG:i}),console.STAT&&console.STAT(O,+new Date-O,"got in"),g&&setTimeout.turn(N)}(),w||T.on("in",{"@":_["#"]})}r.on.get.ack=c}(),function(){r.chain.opt=function(c){c=c||{};var _=this,w=_._,O=c.peers||c;return Object.plain(c)||(c={}),Object.plain(w.opt)||(w.opt=c),typeof O=="string"&&(O=[O]),Object.plain(w.opt.peers)||(w.opt.peers={}),O instanceof Array&&(c.peers={},O.forEach(function(x){var i={};i.id=i.url=x,c.peers[x]=w.opt.peers[x]=w.opt.peers[x]||i})),l(c,function x(i){var p=this[i];if(this&&this.hasOwnProperty(i)||typeof p=="string"||Object.empty(p)){this[i]=p;return}p&&p.constructor!==Object&&!(p instanceof Array)||l(p,x)}),w.opt.from=c,r.on("opt",w),w.opt.uuid=w.opt.uuid||function(i){return r.state().toString(36).replace(".","")+String.random(i||12)},_}}();var l=function(c,_){Object.keys(c).forEach(_,c)},s=String.random,u=setTimeout.turn,v=r.valid,d=r.state.is,f=r.state.ify,y,$={},D;r.log=function(){return!r.log.off&&D.log.apply(D,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(c,_,w){return(w=r.log.once)[c]=w[c]||0,w[c]++||r.log(_)},typeof window<"u"&&((window.GUN=window.Gun=r).window=window);try{typeof n<"u"&&(n.exports=r)}catch{}a.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(D=console).only=function(c,_){return D.only.i&&c===D.only.i&&D.only.i++&&(D.log.apply(D,arguments)||_)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(a){var r=t("./root");r.chain.back=function(u,v){var d;if(u=u||1,u===-1||u===1/0)return this._.root.$;if(u===1)return(this._.back||this._).$;var f=this,y=f._;if(typeof u=="string"&&(u=u.split(".")),u instanceof Array){var $=0,D=u.length,d=y;for($;$<D;$++)d=(d||l)[u[$]];return s!==d?v?f:d:(d=y.back)?d.$.back(u,v):void 0}if(typeof u=="function"){for(var c,d={back:y};(d=d.back)&&s===(c=u(d,v)););return c}return typeof u=="number"?(y.back||y).$.back(u-1):this};var l={},s})(t,"./back"),t(function(a){var r=t("./root");r.chain.chain=function(x){var i=this,p=i._,k=new(x||i).constructor(i),A=k._,m;return A.root=m=p.root,A.id=++m.once,A.back=i._,A.on=r.on,A.on("in",r.on.in,A),A.on("out",r.on.out,A),k};function l(x){var i,p=this.as,k=p.back,A=p.root,m;if(x.$||(x.$=p.$),this.to.next(x),p.err){p.on("in",{put:p.put=y,$:p.$});return}if(i=x.get){if(A.pass&&(A.pass[p.id]=p),p.lex&&Object.keys(p.lex).forEach(function(T){m[T]=p.lex[T]},m=x.get=x.get||{}),i["#"]||p.soul){if(i["#"]=i["#"]||p.soul,x["#"]||(x["#"]=$(9)),k=A.$.get(i["#"])._,i=i["."]){if(c(k.put,i)&&(m=k.ask&&k.ask[i],(k.ask||(k.ask={}))[i]=k.$.get(i)._,k.on("in",{get:i,put:{"#":k.soul,".":i,":":k.put[i],">":w(A.graph[k.soul],i)}}),m))return}else{if(m=k.ask&&k.ask[""],(k.ask||(k.ask={}))[""]=k,y!==k.put&&(k.on("in",k),m))return;x.$=k.$}return A.ask(d,x),A.on("in",x)}if(i["."])return p.get?(x={get:{".":p.get},$:p.$},(k.ask||(k.ask={}))[p.get]=x.$._,k.on("out",x)):(x={get:p.lex?x.get:{},$:p.$},k.on("out",x));if((p.ask||(p.ask={}))[""]=p,p.get)return i["."]=p.get,(k.ask||(k.ask={}))[p.get]=x.$._,k.on("out",x)}return k.on("out",x)}r.on.out=l;function s(x,i){i=i||this.as;var p=i.root,k=x.$||(x.$=i.$),A=(k||"")._||f,m=x.put||"",T=m["#"],j=m["."],N=y!==m["="]?m["="]:m[":"],E=m[">"]||-1/0,h;if(y!==x.put&&(y===m["#"]||y===m["."]||y===m[":"]&&y===m["="]||y===m[">"])){if(!D(m)){if(!(T=((m||"")._||"")["#"])){console.log("chain not yet supported for",m,"...",x,i);return}return k=i.root.$.get(T),setTimeout.each(Object.keys(m).sort(),function(o){o=="_"||y===(E=w(m,o))||i.on("in",{$:k,put:{"#":T,".":o,"=":m[o],">":E},VIA:x})})}i.on("in",{$:A.back.$,put:{"#":T=A.back.soul,".":j=A.has||A.get,"=":m,">":w(A.back.put,j)},via:x});return}(x.seen||"")[i.id]||((x.seen||(x.seen=function(){}))[i.id]=i,i!==A&&(Object.keys(x).forEach(function(o){m[o]=x[o]},m={}),m.get=i.get||m.get,!i.soul&&!i.has?m.$$$=m.$$$||i.$:A.soul&&(m.$=i.$,m.$$=m.$$||A.$),x=m),v(x,i),(i.soul||x.$$)&&E>=w(p.graph[T],j)&&((m=p.$.get(T)._).put=O(m.put,j,E,N,T)),!A.soul&&E>=w(p.graph[T],j)&&(h=(p.$.get(T)._.next||"")[j])&&(h.put=N,typeof(m=D(N))=="string"&&(h.put=p.$.get(m)._.put||N)),this.to&&this.to.next(x),i.any&&setTimeout.each(Object.keys(i.any),function(o){(o=i.any[o])&&o(x)},0,99),i.echo&&setTimeout.each(Object.keys(i.echo),function(o){(o=i.echo[o])&&o.on("in",x)},0,99),((x.$$||"")._||A).soul&&(h=i.next)&&(h=h[j])&&(m={},Object.keys(x).forEach(function(o){m[o]=x[o]}),m.$=(x.$$||x.$).get(m.get=j),delete m.$$,delete m.$$$,h.on("in",m)),u(x,i))}r.on.in=s;function u(x,i){if(i=i||this.as||x.$._,!(x.$$&&this!==r.on)&&!(!x.put||i.soul)){var p=x.put||"",k=p["="]||p[":"],j,A=i.root,m=A.$.get(p["#"]).get(p["."])._;if(typeof(k=D(k))!="string"){this===r.on&&((m.echo||(m.echo={}))[i.id]=i);return}if(!((m.echo||(m.echo={}))[i.id]&&!(A.pass||"")[i.id])){if(j=A.pass){if(j[k+i.id])return;j[k+i.id]=1}(m.echo||(m.echo={}))[i.id]=i,i.has&&(i.link=k);var T=A.$.get(m.link=k)._;(T.echo||(T.echo={}))[m.id]=m;var j=i.ask||"";(j[""]||i.lex)&&T.on("out",{get:{"#":k}}),setTimeout.each(Object.keys(j),function(N,E){!N||!(E=j[N])||E.on("out",{get:{"#":k,".":N}})},0,99)}}}r.on.link=u;function v(x,i){var p=x.put||"",k=y!==p["="]?p["="]:p[":"],A=i.root,m,T;if(y===k){if(i.soul&&y!==i.put||(T=(x.$$||x.$||"")._||"",x["@"]&&(y!==T.put||y!==i.put)))return;(m=i.link||x.linked)&&delete(A.$.get(m)._.echo||"")[i.id],i.has&&(i.link=null),i.put=y,setTimeout.each(Object.keys(i.next||""),function(j,N){!(N=i.next[j])||(m&&delete(A.$.get(m).get(j)._.echo||"")[N.id],N.on("in",{get:j,put:y,$:N.$}))},0,99);return}i.soul||x.$$||(m=D(k),T=x.$._||"",!((m===T.link||i.has&&!T.link)&&!((A.pass||"")[i.id]&&typeof m!="string"))&&(delete(T.echo||"")[i.id],v({get:i.get,put:y,$:x.$,linked:x.linked=x.linked||T.link},i)))}r.on.unlink=v;function d(x,i){var p=this.as,k=p.$._;k.root;var A=p.get||"",m=(x.put||"")[A["#"]]||"";if(!x.put||typeof A["."]=="string"&&y===m[A["."]]){if(y!==k.put||!k.soul&&!k.has)return;k.ack=(k.ack||0)+1,k.on("in",{get:k.get,put:k.put=y,$:k.$,"@":x["@"]});return}(x._||{}).miss=1,r.on.put(x)}var f={},y,$=String.random,D=r.valid,c=function(x,i){return x&&Object.prototype.hasOwnProperty.call(x,i)},_=r.state,w=_.is,O=_.ify})(t,"./chain"),t(function(a){var r=t("./root");r.chain.get=function(y,$,D){var c,_;if(typeof y=="string"){if(y.length==0)return(c=this.chain())._.err={err:r.log("0 length key!",y)},$&&$.call(c,c._.err),c;var w=this,O=w._,x=O.next||v;(c=x[y])||(c=y&&l(y,w)),c=c&&c.$}else if(typeof y=="function"){let j=function(N,E,h){if(!j.stun&&!((S=p.pass)&&!S[k])){var o=N.$._,g=(N.$$||"")._,b=(g||o).put,G=!o.has&&!o.soul,C={},S;if((G||f===b)&&(b=f===((S=N.put)||"")["="]?f===(S||"")[":"]?S:S[":"]:S["="]),typeof(S=r.valid(b))=="string"&&(b=f===(S=p.$.get(S)._.put)?i.not?f:b:S),!(i.not&&f===b)){if(f===i.stun){if((S=p.stun)&&S.on&&(O.$.back(function(I){if(S.on(""+I.id,C={}),(C.run||0)<j.id)return C}),!C.run&&S.on(""+o.id,C={}),!C.run&&g&&S.on(""+g.id,C={}),j.id>C.run&&((!C.stun||C.stun.end)&&(C.stun=S.on("stun"),C.stun=C.stun&&C.stun.last),C.stun&&!C.stun.end))){(C.stun.add||(C.stun.add={}))[k]=function(){j(N,E,1)};return}if(f===b&&(h=0),(S=p.hatch)&&!S.end&&f===i.hatch&&!h){if(A[o.$._.id])return;A[o.$._.id]=1,S.push(function(){j(N,E,1)});return}A={}}if(p.pass){if(p.pass[k+o.id])return;p.pass[k+o.id]=1}if(i.on){i.ok.call(o.$,b,o.get,N,E||j);return}if(i.v2020){i.ok(N,E||j);return}Object.keys(N).forEach(function(I){S[I]=N[I]},S={}),N=S,N.put=b,i.ok.call(i.as,N,E||j)}}};var m=j;if($===!0)return s(this,y,$,D),this;c=this;var O=c._,i=$||{},p=O.root,k;i.at=O,i.ok=y;var A={};return j.at=O,(O.any||(O.any={}))[k=String.random(7)]=j,j.off=function(){j.stun=1,O.any&&delete O.any[k]},j.rid=u,j.id=i.run||++p.once,_=p.pass,(p.pass={})[k]=1,i.out=i.out||{get:{}},O.on("out",i.out),p.pass=_,c}else{if(typeof y=="number")return this.get(""+y,$,D);if(typeof(_=d(y))=="string")return this.get(_,$,D);(_=this.get.next)&&(c=_(this,y))}return c?($&&typeof $=="function"&&c.get($,D),c):((c=this.chain())._.err={err:r.log("Invalid get request!",y)},$&&$.call(c,c._.err),c)};function l(y,$){var D=$._,c=D.next,_=$.chain(),w=_._;return c||(c=D.next={}),c[w.get=y]=w,$===D.root.$?w.soul=y:(D.soul||D.has)&&(w.has=y),w}function s(y,$,D,c){var _=y._,w=0,O;return(O=_.soul||_.link)?$(O,c,_):_.jam?_.jam.push([$,c]):(_.jam=[[$,c]],y.get(function(i,p){if(!(f===i.put&&!_.root.opt.super&&(O=Object.keys(_.root.opt.peers).length)&&++w<=O)){p.rid(i);var k=(k=i.$)&&k._||{},A=0,m;for(O=_.jam,delete _.jam;m=O[A++];){var T=m[0];m=m[1],T&&T(k.link||k.soul||r.valid(i.put)||((i.put||{})._||{})["#"],m,i,p)}}},{out:{get:{".":!0}}}),y)}function u(y){var $=this.at||this.on;if(!y||$.soul||$.has)return this.off();if(!!(y=(y=(y=y.$||y)._||y).id)){$.map;var D;if((D=this.seen||(this.seen={}))[y])return!0;D[y]=!0}}var v={},d=r.valid,f})(t,"./get"),t(function(a){var r=t("./root");r.chain.put=function(c,_,w){var O=this,x=O._,i=x.root;w=w||{},w.root=x.root,w.run||(w.run=i.once),l(w,x.id),w.ack=w.ack||_,w.via=w.via||O,w.data=w.data||c,w.soul||(w.soul=x.soul||typeof _=="string"&&_);var p=w.state=w.state||r.state();return typeof c=="function"?(c(function(k){w.data=k,O.put(d,d,w)}),O):w.soul?(w.$=i.$.get(w.soul),w.todo=[{it:w.data,ref:w.$}],w.turn=w.turn||y,w.ran=w.ran||s,function k(){var A=w.todo,m=A.pop(),T=m.it;m.ref&&m.ref._.id;var j,N,E,h,o;if(l(w,m.ref),(h=m.todo)&&(N=h.pop(),T=T[N],h.length&&A.push(m)),N&&(A.path||(A.path=[])).push(N),!(j=$(T))&&!(o=r.is(T))){if(!Object.plain(T)){s.err(w,"Invalid data: "+v(T)+" at "+(w.via.back(function(S){S.get&&h.push(S.get)},h=[])||h.join("."))+"."+(A.path||[]).join("."));return}for(var g=w.seen||(w.seen=[]),b=g.length;b--;)if(T===(h=g[b]).it){j=T=h.link;break}}if(N&&j)m.node=D(m.node,N,p,T);else{let S=function(I,L){var P=E.link["#"];L&&(L.off(),L.rid(I));var M=P||I.soul||(h=(I.$$||I.$)._||"").soul||h.link||((h=h.put||"")._||"")["#"]||h["#"]||((h=I.put||"")&&I.$$?h["#"]:(h["="]||h[":"]||"")["#"]);if(!P&&l(w,I.$),!M&&!m.link["#"]){(m.wait||(m.wait=[])).push(function(){S(I,L)});return}M||(M=[],(I.$$||I.$).back(function(R){if(h=R.soul||R.link)return M.push(h);M.push(R.get)}),M=M.reverse().join("/")),E.link["#"]=M,!o&&(((w.graph||(w.graph={}))[M]=E.node||(E.node={_:{}}))._["#"]=M),delete w.wait[G],E.wait&&setTimeout.each(E.wait,function(R){R&&R()}),w.ran(w)};var C=S;if(!w.seen){s.err(w,"Data at root of graph must be a node (an object).");return}w.seen.push(E={it:T,link:{},todo:o?[]:Object.keys(T).sort().reverse(),path:(A.path||[]).slice(),up:m}),m.node=D(m.node,N,p,E.link),!o&&E.todo.length&&A.push(E);var G=w.seen.length;(w.wait||(w.wait={}))[G]="",h=(E.ref=o?T:N?m.ref.get(N):m.ref)._,(h=T&&(T._||"")["#"]||h.soul||h.link)?S({soul:h}):E.ref.get(S,{run:w.run,v2020:1,out:{get:{".":" "}}})}if(!A.length)return w.ran(w);w.turn(k)}(),O):(u(w),O)};function l(c,_){if(!!_){_=(_._||"").id||_;var w=c.root.stun||(c.root.stun={on:r.on}),O={},x;c.stun||(c.stun=w.on("stun",function(){})),(x=w.on(""+_))&&x.the.last.next(O),!(O.run>=c.run)&&w.on(""+_,function(i){if(c.stun.end){this.off(),this.to.next(i);return}i.run=i.run||c.run,i.stun=i.stun||c.stun})}}function s(c){if(c.err){s.end(c.stun,c.root);return}if(!(c.todo.length||c.end||!Object.empty(c.wait))){c.end=1;var _=c.$.back(-1)._,w=_.root,O=_.ask(function(k){w.on("ack",k),k.err&&!k.lack&&r.log(k),++x>(c.acks||0)&&this.off(),c.ack&&c.ack(k,this)},c.opt),x=0,i=c.stun,p;(p=function(){!i||(s.end(i,w),setTimeout.each(Object.keys(i=i.add||""),function(k){(k=i[k])&&k()}))}).hatch=p,c.ack&&!c.ok&&(c.ok=c.acks||9),c.via._.on("out",{put:c.out=c.graph,ok:c.ok&&{"@":c.ok+1},opt:c.opt,"#":O,_:p})}}s.end=function(c,_){c.end=f,c.the.to===c&&c===c.the.last&&delete _.stun,c.off()},s.err=function(c,_){(c.ack||f).call(c,c.out={err:c.err=r.log(_)}),c.ran(c)};function u(c){var _=c.via._,w;c.via=c.via.back(function(O){if(O.soul||!O.get)return O.$;w=c.data,(c.data={})[O.get]=w}),(!c.via||!c.via._.soul)&&(c.via=_.root.$.get(((c.data||"")._||"")["#"]||_.$.back("opt.uuid")())),c.via.put(c.data,c.ack,c)}function v(c,_){return c&&(_=c.constructor)&&_.name||typeof c}var d,f=function(){},y=setTimeout.turn,$=r.valid,D=r.state.ify})(t,"./put"),t(function(a){var r=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),a.exports=r})(t,"./index"),t(function(a){var r=t("./index");r.chain.on=function(u,v,d,f){var y=this,$=y._;$.root;var D;if(typeof u=="string")return v?(D=$.on(u,v,d||$,f),d&&d.$&&(d.subs||(d.subs=[])).push(D),y):$.on(u);var c=v;return(c=c===!0?{change:!0}:c||{}).not=1,c.on=1,y.get(u,c),y},r.chain.once=function(u,v){if(v=v||{},!u)return l(this);var d=this,f=d._,y=f.root;f.put;var $=String.random(7),D;return d.get(function(c,_,w,O){var x=this,i=x._,p=i.one||(i.one={});if(O.stun||p[$]==="")return;if((D=r.valid(c))===!0){k();return}if(typeof D=="string")return;clearTimeout((f.one||"")[$]),clearTimeout(p[$]),p[$]=setTimeout(k,v.wait||99);function k(A){if(!i.has&&!i.soul&&(i={put:c,get:_}),s===(D=i.put)&&(D=((w.$$||"")._||"").put),typeof r.valid(D)=="string"&&(D=y.$.get(D)._.put,D===s&&!A)){p[$]=setTimeout(function(){k(1)},v.wait||99);return}O.stun||p[$]!==""&&(p[$]="",(f.soul||f.has)&&O.off(),u.call(x,D,i.get),clearTimeout(p[$]))}},{on:1}),d};function l(u,v,d){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(d=u.chain())._.nix=u.once(function(f,y){d._.on("in",this._)}),d._.lex=u._.lex,d}r.chain.off=function(){var u=this,v=u._,d,f=v.back;if(!!f)return v.ack=0,(d=f.next)&&d[v.get]&&delete d[v.get],(d=f.ask)&&delete d[v.get],(d=f.put)&&delete d[v.get],(d=v.soul)&&delete f.root.graph[d],(d=v.map)&&Object.keys(d).forEach(function(y,$){$=d[y],$.link&&f.root.$.get($.link).off()}),(d=v.next)&&Object.keys(d).forEach(function(y,$){$=d[y],$.$.off()}),v.on("off",{}),u};var s})(t,"./on"),t(function(a){var r=t("./index"),l=r.chain.get.next;r.chain.get.next=function(d,f){var y;return Object.plain(f)?(y=((y=f["#"])||"")["="]||y)?d.get(y):((y=d.chain()._).lex=f,d.on("in",function($){String.match($.get||($.put||"")["."],f["."]||f["#"]||f)&&y.on("in",$),this.to.next($)}),y.$):(l||u)(d,f)},r.chain.map=function(d,f,y){var $=this,D=$._,c,_;return Object.plain(d)&&(c=d["."]?d:{".":d},d=v),d?(r.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),_=$.chain(),$.map().on(function(w,O,x,i){var p=(d||u).call(this,w,O,x,i);if(v!==p){if(w===p)return _._.on("in",x);if(r.is(p))return _._.on("in",p._);var k={};Object.keys(x.put).forEach(function(A){k[A]=x.put[A]},k),k["="]=p,_._.on("in",{get:O,put:k})}}),_):((_=D.each)||((D.each=_=$.chain())._.lex=c||_._.lex||D.lex,_._.nix=$.back("nix"),$.on("in",s,_._)),_)};function s(d){this.to.next(d);var f=this.as,y=d.$,$=y._,D=d.put,c;!$.soul&&!d.$$||(c=f.lex)&&!String.match(d.get||(D||"")["."],c["."]||c["#"]||c)||r.on.link(d,f)}var u=function(){},v})(t,"./map"),t(function(a){var r=t("./index");r.chain.set=function(l,s,u){var v=this,d=v.back(-1),f,y;return s=s||function(){},u=u||{},u.item=u.item||l,(f=((l||"")._||"")["#"])&&((l={})["#"]=f),typeof(y=r.valid(l))=="string"?v.get(f=y).put(l,s,u):r.is(l)?(v.put(function($){l.get(function(D,c,_){if(!D)return s.call(v,{err:r.log('Only a node can be linked! Not "'+_.put+'"!')});(y={})[D]={"#":D},$(y)},!0)}),l):(Object.plain(l)&&(l=d.get(f=v.back("opt.uuid")()).put(l)),v.get(f||d.back("opt.uuid")(7)).put(l,s,u))}})(t,"./set"),t(function(a){t("./shim");var r=function(){},l=JSON.parseAsync||function(d,f,y){var $,D=+new Date;try{f($,JSON.parse(d,y),s.sucks(+new Date-D))}catch(c){f(c)}},s=JSON.stringifyAsync||function(d,f,y,$){var D,c=+new Date;try{f(D,JSON.stringify(d,y,$),s.sucks(+new Date-c))}catch(_){f(_)}};s.sucks=function(d){d>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),s.sucks=r)};function u(d){var f=function(){},y=d.opt||{};y.log=y.log||console.log,y.gap=y.gap||y.wait||0,y.max=y.max||(y.memory?y.memory*999*999:3e8)*.3,y.pack=y.pack||y.max*.01*.01,y.puff=y.puff||9;var $=setTimeout.turn||setTimeout,D=d.dup,c=D.check,_=D.track,w=f.hear=function(i,p){if(!!i){if(y.max<=i.length)return f.say({dam:"!",err:"Message too big!"},p);f===this&&(w.d+=i.length||0,++w.c);var k=p.SH=+new Date,A=i[0],m;if(A==="["){l(i,function(T,j){if(T||!j)return f.say({dam:"!",err:"DAM JSON parse error."},p);console.STAT&&console.STAT(+new Date,j.length,"# on hear batch");var N=y.puff;(function E(){for(var h=+new Date,o=0,g;o<N&&(g=j[o++]);)f.hear(g,p);j=j.slice(o),console.STAT&&console.STAT(h,+new Date-h,"hear loop"),O(p),j.length&&$(E,0)})()}),i="";return}if(A==="{"||(i["#"]||Object.plain(i))&&(m=i)){if(m)return w.one(m,p,k);l(i,function(T,j){if(T||!j)return f.say({dam:"!",err:"DAM JSON parse error."},p);w.one(j,p,k)});return}}};w.one=function(i,p,E){var A,m,T,j,N;if(i.DBG&&(i.DBG=N={DBG:i.DBG}),N&&(N.h=E),N&&(N.hp=+new Date),(A=i["#"])||(A=i["#"]=String.random(9)),!(T=c(A))&&(m=i["##"],!(m&&(T=i["@"]||i.get&&A)&&D.check(j=T+m)))){if((i._=function(){}).via=f.leap=p,(T=i["><"])&&typeof T=="string"&&T.slice(0,99).split(",").forEach(function(h){this[h]=1},i._.yo={}),T=i.dam){(T=f.hear[T])&&T(i,p,d),_(A);return}(T=i.ok)&&(i._.near=T["/"]);var E=+new Date;N&&(N.is=E),p.SI=A,d.on("in",f.last=i),N&&(N.hd=+new Date),console.STAT&&console.STAT(E,+new Date-E,i.get?"msg get":i.put?"msg put":"msg"),(T=_(A)).via=p,i.get&&(T.it=i),j&&_(j),f.leap=f.last=null}},w.c=w.d=0,function(){var i=0,p;f.hash=function(m,T){var j,N,E,h=+new Date;s(m.put,function o(g,b){var G=(N||(N=E=b||"")).slice(0,32768);if(j=String.hash(G,j),N=N.slice(32768),N){$(o,0);return}console.STAT&&console.STAT(h,+new Date-h,"say json+hash"),m._.$put=E,m["##"]=j,f.say(m,T),delete m._.$put},k)};function k(m,T){var j;return T instanceof Object?(Object.keys(T).sort().forEach(A,{to:j={},on:T}),j):T}function A(m){this.to[m]=this.on[m]}f.say=function(m,T){var j;if((j=this)&&(j=j.to)&&j.next&&j.next(m),!m)return!1;var N,E,h=m["@"],o=m._||(m._=function(){}),g=m.DBG,b=+new Date;if(o.y=o.y||b,T||g&&(g.y=b),(N=m["#"])||(N=m["#"]=String.random(9)),!p&&_(N),!m["##"]&&v!==m.put&&!o.via&&h){f.hash(m,T);return}if(!T&&h&&(T=(j=D.s[h])&&(j.via||(j=j.it)&&(j=j._)&&j.via)||(j=f.last)&&h===j["#"]&&f.leap),!T&&h)return D.s[h]?void 0:(console.STAT&&console.STAT(+new Date,++i,"total no peer to ack to"),!1);if(!T&&f.way)return f.way(m);if(g&&(g.yh=+new Date),!(E=o.raw)){f.raw(m,T);return}if(g&&(g.yr=+new Date),!T||!T.id){if(!Object.plain(T||y.peers))return!1;var b=+new Date;y.puff;var G=y.peers,C=Object.keys(T||y.peers||{});console.STAT&&console.STAT(b,+new Date-b,"peer keys"),function L(){var P=+new Date;p=1;var M=o.raw;o.raw=E;for(var R=0,B;R<9&&(B=(C||"")[R++]);)!(B=G[B]||(T||"")[B])||f.say(m,B);o.raw=M,p=0,C=C.slice(R),console.STAT&&console.STAT(P,+new Date-P,"say loop"),C.length&&($(L,0),h&&_(h))}();return}if(!T.wire&&f.wire&&f.wire(T),N!==T.last){if(T.last=N,T===o.via||(j=o.yo)&&(j[T.url]||j[T.pid]||j[T.id]))return!1;if(console.STAT&&console.STAT(b,((g||o).yp=+new Date)-(o.y||b),"say prep"),!p&&h&&_(h),T.batch){if(T.tail=(j=T.tail||0)+E.length,T.tail<=y.pack){T.batch+=(j?",":"")+E;return}O(T)}T.batch="[";var S=+new Date;setTimeout(function(){console.STAT&&console.STAT(S,+new Date-S,"0ms TO"),O(T)},y.gap),x(E,T),console.STAT&&h===T.SI&&console.STAT(b,+new Date-T.SH,"say ack")}},f.say.c=f.say.d=0,f.raw=function(m,T){if(!m)return"";var j=m._||{},N,E;if(E=j.raw)return E;if(typeof m=="string")return m;var h=m["##"],o=m["@"];if(h&&o){if(!j.via&&c(o+h))return!1;if((E=(D.s[o]||"").it)||(E=f.last)&&o===E["#"]){if(h===E["##"])return!1;E["##"]||(E["##"]=h)}}if(!m.dam&&!m["@"]){var g=0,b=[];E=y.peers;for(var G in E){var C=E[G];if(b.push(C.url||C.pid||C.id),++g>6)break}g>1&&(m["><"]=b.join())}if(m.put&&(E=m.ok)&&(m.ok={"@":(E["@"]||1)-1,"/":E["/"]==m._.near?f.near:E["/"]}),N=j.$put){E={},Object.keys(m).forEach(function(I){E[I]=m[I]}),E.put=":])([:",s(E,function(I,L){if(!I){var P=+new Date;E=L.indexOf('"put":":])([:"'),S(v,L=L.slice(0,E+6)+N+L.slice(E+14)),console.STAT&&console.STAT(P,+new Date-P,"say slice")}});return}s(m,S);function S(I,L){I||(j.raw=L,f.say(m,T))}}}();function O(i){var p=i.batch,k=typeof p=="string";if(k&&(p+="]"),i.batch=i.tail=null,!!p&&!(k?3>p.length:!p.length)){if(!k)try{p=p.length===1?p[0]:JSON.stringify(p)}catch(A){return y.log("DAM JSON stringify error",A)}!p||x(p,i)}}function x(i,p){try{var k=p.wire;p.say?p.say(i):k.send&&k.send(i),f.say.d+=i.length||0,++f.say.c}catch{(p.queue=p.queue||[]).push(i)}}return f.near=0,f.hi=function(i){var p=i.wire,k;if(!p){f.wire(i.length&&{url:i,id:i}||i);return}i.id?y.peers[i.url||i.id]=i:(k=i.id=i.id||i.url||String.random(9),f.say({dam:"?",pid:d.opt.pid},y.peers[k]=i),delete D.s[i.last]),i.met||(f.near++,i.met=+new Date,d.on("hi",i)),k=i.queue,i.queue=[],setTimeout.each(k||[],function(A){x(A,i)},0,9)},f.bye=function(i){i.met&&--f.near,delete i.met,d.on("bye",i);var p=+new Date;p=p-(i.met||p),f.bye.time=((f.bye.time||p)+p)/2},f.hear["!"]=function(i,p){y.log("Error:",i.err)},f.hear["?"]=function(i,p){i.pid&&(p.pid||(p.pid=i.pid),i["@"])||(f.say({dam:"?",pid:y.pid,"@":i["#"]},p),delete D.s[p.last])},f.hear.mob=function(i,p){if(!!i.peers){var k=Object.keys(i.peers),A=k[Math.random()*k.length>>0];!A||(f.bye(p),f.hi(A))}},d.on("create",function(i){i.opt.pid=i.opt.pid||String.random(9),this.to.next(i),i.on("out",f.say)}),d.on("bye",function(i,p){i=y.peers[i.id||i]||i,this.to.next(i),i.bye?i.bye():(p=i.wire)&&p.close&&p.close(),delete y.peers[i.id],i.wire=null}),d.on("bye",function(i,p){this.to.next(i),(p=console.STAT)&&(p.peers=f.near),(p=i.url)&&setTimeout(function(){},y.lack||9e3)}),d.on("hi",function(i,p){if(this.to.next(i),(p=console.STAT)&&(p.peers=f.near),!y.super){var k=Object.keys(d.next||"");k.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(k,function(A){var m=d.next[A];if(y.super||(m.ask||"")[""]){f.say({get:{"#":A}},i);return}setTimeout.each(Object.keys(m.ask||""),function(T){!T||f.say({"##":String.hash((d.graph[A]||"")[T]),get:{"#":A,".":T}},i)})})}}),f}var v;try{a.exports=u}catch{}})(t,"./mesh"),t(function(a){var r=t("./index");r.Mesh=t("./mesh"),r.on("opt",function(s){if(this.to.next(s),s.once)return;var u=s.opt;if(u.WebSocket===!1)return;var v=r.window||{},d=u.WebSocket||v.WebSocket||v.webkitWebSocket||v.mozWebSocket;if(!d)return;u.WebSocket=d;var f=u.mesh=u.mesh||r.Mesh(s);f.wire||u.wire,f.wire=u.wire=y;function y(_){try{if(!_||!_.url)return O&&O(_);var w=_.url.replace(/^http/,"ws"),O=_.wire=new u.WebSocket(w);return O.onclose=function(){D(_),u.mesh.bye(_)},O.onerror=function(x){D(_)},O.onopen=function(){u.mesh.hi(_)},O.onmessage=function(x){!x||u.mesh.hear(x.data||x,_)},O}catch{u.mesh.bye(_)}}setTimeout(function(){!u.super&&s.on("out",{dam:"hi"})},1);var $=2*999;function D(_){clearTimeout(_.defer),u.peers[_.url]&&(c&&_.retry<=0||(_.retry=(_.retry||u.retry+1||60)-(-_.tried+(_.tried=+new Date)<$*4?1:0),_.defer=setTimeout(function w(){if(c&&c.hidden)return setTimeout(w,$);y(_)},$)))}var c=""+l!=typeof document&&document});var l})(t,"./websocket"),t(function(a){if(!(typeof Gun>"u")){var r=function(){},l;try{l=(Gun.window||r).localStorage}catch{}l||(Gun.log("Warning: No localStorage exists to persist data to!"),l={setItem:function(u,v){this[u]=v},removeItem:function(u){delete this[u]},getItem:function(u){return this[u]}});var s=JSON.stringifyAsync||function(u,v,d,f){var y;try{v(y,JSON.stringify(u,d,f))}catch($){v($)}};Gun.on("create",function u(v){this.to.next(v);var d=v.opt;v.graph;var f=[],y,$,D,c;if(d.localStorage===!1)return;d.prefix=d.file||"gun/";try{y=u[d.prefix]=u[d.prefix]||JSON.parse(D=l.getItem(d.prefix))||{}}catch{y=u[d.prefix]={}}D=(D||"").length,v.on("get",function(w){this.to.next(w);var O=w.get,x,i,p,k;!O||!(x=O["#"])||(i=y[x]||k,i&&(p=O["."])&&!Object.plain(p)&&(i=Gun.state.ify({},p,Gun.state.is(i,p),i[p],x)),Gun.on.get.ack(w,i))}),v.on("put",function(w){this.to.next(w);var O=w.put,x=O["#"],i=O["."],p=w["#"],k=w.ok||"";if(y[x]=Gun.state.ify(y[x],i,O[">"],O[":"],x),c&&D>4999880){v.on("in",{"@":p,err:"localStorage max!"});return}!w["@"]&&(!w._.via||Math.random()<k["@"]/k["/"])&&f.push(p),!$&&($=setTimeout(_,9+D/333))});function _(){if(!f.length&&((setTimeout.turn||"").s||"").length){setTimeout(_,99);return}var w=f;clearTimeout($),$=!1,f=[],s(y,function(O,x){try{!O&&l.setItem(d.prefix,x)}catch(i){O=c=i||"localStorage failure"}O&&(Gun.log(O+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),v.on("localStorage:error",{err:O,get:d.prefix,put:y})),D=x.length,setTimeout.each(w,function(i){v.on("in",{"@":i,err:O,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var E;if(""+E!=typeof Gun){var t=function(h){console.warn("Warning! Deprecated internal utility will break in next version:",h)},n=Gun;n.fn=n.fn||{is:function(h){return t("fn"),!!h&&typeof h=="function"}},n.bi=n.bi||{is:function(h){return t("bi"),h instanceof Boolean||typeof h=="boolean"}},n.num=n.num||{is:function(h){return t("num"),!a(h)&&(h-parseFloat(h)+1>=0||h===1/0||h===-1/0)}},n.text=n.text||{is:function(h){return t("text"),typeof h=="string"}},n.text.ify=n.text.ify||function(h){return t("text.ify"),n.text.is(h)?h:typeof JSON<"u"?JSON.stringify(h):h&&h.toString?h.toString():h},n.text.random=n.text.random||function(h,o){t("text.random");var g="";for(h=h||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";h>0;)g+=o.charAt(Math.floor(Math.random()*o.length)),h--;return g},n.text.match=n.text.match||function(h,o){var g,b;return t("text.match"),typeof h!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},g=o["="]||o["*"]||o[">"]||o["<"],h===g?!0:b!==o["="]?!1:(g=o["*"]||o[">"]||o["<"],h.slice(0,(g||"").length)===g?!0:b!==o["*"]?!1:b!==o[">"]&&b!==o["<"]?h>=o[">"]&&h<=o["<"]:b!==o[">"]&&h>=o[">"]||b!==o["<"]&&h<=o["<"]))},n.text.hash=n.text.hash||function(h,o){if(t("text.hash"),typeof h=="string"){if(o=o||0,!h.length)return o;for(var g=0,b=h.length,G;g<b;++g)G=h.charCodeAt(g),o=(o<<5)-o+G,o|=0;return o}},n.list=n.list||{is:function(h){return t("list"),h instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(h){return t("list.sort"),function(o,g){return!o||!g?0:(o=o[h],g=g[h],o<g?-1:o>g?1:0)}},n.list.map=n.list.map||function(h,o,g){return t("list.map"),j(h,o,g)},n.list.index=1,n.obj=n.boj||{is:function(h){return t("obj"),h?h instanceof Object&&h.constructor===Object||Object.prototype.toString.call(h).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},n.obj.put=n.obj.put||function(h,o,g){return t("obj.put"),(h||{})[o]=g,h},n.obj.has=n.obj.has||function(h,o){return t("obj.has"),h&&Object.prototype.hasOwnProperty.call(h,o)},n.obj.del=n.obj.del||function(h,o){if(t("obj.del"),!!h)return h[o]=null,delete h[o],h},n.obj.as=n.obj.as||function(h,o,g,b){return t("obj.as"),h[o]=h[o]||(b===g?{}:g)},n.obj.ify=n.obj.ify||function(h){if(t("obj.ify"),p(h))return h;try{h=JSON.parse(h)}catch{h={}}return h},function(){var h;function o(g,b){A(this,b)&&h!==this[b]||(this[b]=g)}n.obj.to=n.obj.to||function(g,b){return t("obj.to"),b=b||{},j(g,o,b),b}}(),n.obj.copy=n.obj.copy||function(h){return t("obj.copy"),h&&JSON.parse(JSON.stringify(h))},function(){function h(o,g){var b=this.n,G;if(!(b&&(g===b||p(b)&&A(b,g)))&&G!==g)return!0}n.obj.empty=n.obj.empty||function(o,g){return t("obj.empty"),o?!j(o,h,{n:g}):!0}}(),function(){function h(b,G){if(arguments.length===2){h.r=h.r||{},h.r[b]=G;return}h.r=h.r||[],h.r.push(b)}var o=Object.keys,g;Object.keys=Object.keys||function(b){return g(b,function(G,C,S){S(C)})},n.obj.map=g=n.obj.map||function(b,G,C){t("obj.map");var S,I=0,L,P,M,R,B=typeof G=="function";if(h.r=S,o&&p(b)&&(M=o(b),R=!0),C=C||{},a(b)||M)for(L=(M||b).length;I<L;I++){var z=I+n.list.index;if(B){if(P=R?G.call(C,b[M[I]],M[I],h):G.call(C,b[I],z,h),P!==S)return P}else if(G===b[R?M[I]:I])return M?M[I]:z}else for(I in b)if(B){if(A(b,I)&&(P=C?G.call(C,b[I],I,h):G(b[I],I,h),P!==S))return P}else if(G===b[I])return I;return B?h.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(h){return t("time"),h?h instanceof Date:+new Date().getTime()};var x=n.fn.is,a=n.list.is,i=n.obj,p=i.is,A=i.has,j=i.map,r={};r.is=function(h){return t("val.is"),h===E?!1:h===null?!0:h===1/0?!1:u(h)||s(h)||c(h)?!0:r.link.is(h)||!1},r.link=r.rel={_:"#"},function(){r.link.is=function(o){if(t("val.link.is"),o&&o[l]&&!o._&&p(o)){var g={};if(j(o,h,g),g.id)return g.id}return!1};function h(o,g){var b=this;if(b.id)return b.id=!1;if(g==l&&u(o))b.id=o;else return b.id=!1}}(),r.link.ify=function(h){return t("val.link.ify"),T({},l,h)},n.obj.has._=".";var l=r.link._,E,s=n.bi.is,c=n.num.is,u=n.text.is,i=n.obj,p=i.is,T=i.put,j=i.map;n.val=n.val||r;var v={_:"_"};v.soul=function(h,o){return t("node.soul"),h&&h._&&h._[o||y]},v.soul.ify=function(h,o){return t("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},h=h||{},h._=h._||{},h._[y]=o.soul||h._[y]||f(),h},v.soul._=r.link._,function(){v.is=function(o,g,b){t("node.is");var G;return p(o)&&(G=v.soul(o))?!j(o,h,{as:b,cb:g,s:G,n:o}):!1};function h(o,g){if(g!==v._){if(!r.is(o))return!0;this.cb&&this.cb.call(this.as,o,g,this.n,this.s)}}}(),function(){v.ify=function(o,g,b){return t("node.ify"),g?typeof g=="string"?g={soul:g}:typeof g=="function"&&(g={map:g}):g={},g.map&&(g.node=g.map.call(b,o,E,g.node||{})),(g.node=v.soul.ify(g.node||{},g))&&j(o,h,{o:g,as:b}),g.node};function h(o,g){var b=this.o,G,C;if(b.map){G=b.map.call(this.as,o,""+g,b.node),C===G?k(b.node,g):b.node&&(b.node[g]=G);return}r.is(o)&&(b.node[g]=o)}}();var i=n.obj,p=i.is,k=i.del,j=i.map,d=n.text,f=d.random,y=v.soul._,E;n.node=n.node||v;var $=n.state;$.lex=function(){return t("state.lex"),$().toString(36).replace(".","")},$.to=function(h,o,g){t("state.to");var b=(h||{})[o];return p(b)&&(b=N(b)),$.ify(g,o,$.is(h,o),b,v.soul(h))},function(){$.map=function(o,g,b){t("state.map");var G,C=p(C=o||g)?C:null;return o=x(o=o||g)?o:null,C&&!o?(g=c(g)?g:$(),C[w]=C[w]||{},j(C,h,{o:C,s:g}),C):(b=b||p(g)?g:G,g=c(g)?g:$(),function(S,I,L,P){if(!o)return h.call({o:L,s:g},S,I),S;o.call(b||this||{},S,I,L,P),!(A(L,I)&&G===L[I])&&h.call({o:L,s:g},S,I)})};function h(o,g){w!==g&&$.ify(this.o,g,this.s)}}();var i=n.obj;i.as;var A=i.has,p=i.is,j=i.map,N=i.copy,D=n.num,c=D.is,_=n.fn,x=_.is,w=v._,E,O={};(function(){O.is=function(g,b,G,C){return t("graph.is"),!g||!p(g)||m(g)?!1:!j(g,h,{cb:b,fn:G,as:C})};function h(g,b){if(!g||b!==v.soul(g)||!v.is(g,this.fn,this.as))return!0;!this.cb||(o.n=g,o.as=this.as,this.cb.call(o.as,g,b,o))}function o(g){g&&v.is(o.n,g,o.as)}})(),function(){O.ify=function(C,S,I){t("graph.ify");var L={path:[],obj:C};return S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S.map=S):S={},typeof I=="string"&&(S.soul=S.soul||I,I=E),S.soul&&(L.link=r.link.ify(S.soul)),S.shell=(I||{}).shell,S.graph=S.graph||{},S.seen=S.seen||[],S.as=S.as||I,h(S,L),S.root=L.node,S.graph};function h(C,S){var I;return(I=G(C,S))?I:(S.env=C,S.soul=g,v.ify(S.obj,o,S)&&(S.link=S.link||r.link.ify(v.soul(S.node)),S.obj!==C.shell&&(C.graph[r.link.is(S.link)]=S.node)),S)}function o(C,S,I){var L=this,P=L.env,M,R;if(v._===S&&A(C,r.link._))return I._;if(!!(M=b(C,S,I,L,P))){if(S||(L.node=L.node||I||{},A(C,v._)&&v.soul(C)&&(L.node._=N(C._)),L.node=v.soul.ify(L.node,r.link.is(L.link)),L.link=L.link||r.link.ify(v.soul(L.node))),(R=P.map)&&(R.call(P.as||{},C,S,I,L),A(I,S))){if(C=I[S],E===C){k(I,S);return}if(!(M=b(C,S,I,L,P)))return}if(!S)return L.node;if(M===!0)return C;if(R=h(P,{obj:C,path:L.path.concat(S)}),!!R.node)return R.link}}function g(C){var S=this,I=r.link.is(S.link),L=S.env.graph;S.link=S.link||r.link.ify(C),S.link[r.link._]=C,S.node&&S.node[v._]&&(S.node[v._][r.link._]=C),A(L,I)&&(L[C]=L[I],k(L,I))}function b(C,S,I,L,P){var M;if(r.is(C))return!0;if(p(C))return 1;if(M=P.invalid)return C=M.call(P.as||{},C,S,I),b(C,S,I,L,P);P.err="Invalid value at '"+L.path.concat(S).join(".")+"'!",n.list.is(C)&&(P.err+=" Use `.set(item)` instead of an Array.")}function G(C,S){for(var I=C.seen,L=I.length,P;L--;)if(P=I[L],S.obj===P.obj)return P;I.push(S)}}(),O.node=function(h){t("graph.node");var o=v.soul(h);if(!!o)return T({},o,h)},function(){O.to=function(o,g,b){if(t("graph.to"),!!o){var G={};return b=b||{seen:{}},j(o[g],h,{obj:G,graph:o,opt:b}),G}};function h(o,g){var b,G;if(v._===g){if(m(o,r.link._))return;this.obj[g]=N(o);return}if(!(b=r.link.is(o))){this.obj[g]=o;return}if(G=this.opt.seen[b]){this.obj[g]=G;return}this.obj[g]=this.opt.seen[b]=O.to(this.graph,b,this.opt)}}();var x=n.fn.is,i=n.obj,p=i.is,k=i.del,A=i.has,m=i.empty,T=i.put,j=i.map,N=i.copy,E;n.graph=n.graph||O}}()})(le);(function(e){e.exports=le.exports})(ae);const An=jn(ae.exports),Dn=st('<div><div class="grid grid-cols-3 grid-rows-3"></div></div>'),On=An("https://mvp-gun.herokuapp.com/gun"),Cn=()=>{const[e,t]=tt(Array.from({length:9},()=>K.None)),[n,a]=tt(K.Circle),r=H(()=>Ke(e()));let l=K.None;const s=c=>{let _=e(),w=n();w===l&&_[c]===K.None&&(_[c]=w,t([..._]),w=We(w),a(w),v())},u=()=>{t(Array.from({length:9},()=>K.None)),a(K.Circle),v()},v=()=>{$.put({field:{...e()},turn:n()})},d=()=>{let c=localStorage.getItem("playerID");return c||(c=Wt(),localStorage.setItem("playerID",c)),c},f=c=>c%2===0?K.Circle:K.Cross;let y=wn().query.id;y||(y=Wt(),vn()(`/?id=${y}`,{replace:!0}));const $=On.get(y),D=d();return $.get("players").once(c=>{c||$.put({players:{...[D]}})}),$.get("players").on(c=>{const _=Object.values(c),w=_.slice(0,_.length-1);w.includes(D)?l=f(w.indexOf(D)):($.put({players:{...[D,...w]}}),l=f(w.length))}),$.get("field").on(c=>{const _=Object.values(c),w=_.slice(0,_.length-1);t(w)}),$.get("turn").on(c=>{a(c)}),(()=>{const c=Dn.cloneNode(!0),_=c.firstChild;return X(_,J(Te,{get each(){return e()},children:(w,O)=>J(Ye,{state:w,onClick:()=>s(O())})})),X(c,J(ie,{get children(){return[J(ht,{get when(){return r()===K.Circle},get children(){return J(St,{restartGame:u,result:"Winner: Circle"})}}),J(ht,{get when(){return r()===K.Cross},get children(){return J(St,{restartGame:u,result:"Winner: Cross"})}}),J(ht,{get when(){return r()===K.Draw},get children(){return J(St,{restartGame:u,result:"Draw"})}})]}}),null),c})()},Nn=st('<div class="absolute inset-0 flex justify-center items-center"></div>'),En=()=>J(kn,{get children(){const e=Nn.cloneNode(!0);return X(e,J(Cn,{})),e}});Le(()=>J(En,{}),document.getElementById("root"));
