import{d as h,e as y,l as w,c as o,i as b,j as k,t as u,m as S,S as M,M as f}from"./index.3b47104f.js";import{a as C,c as I,M as D,L as U}from"./layout.d91c01ac.js";let x;const G=new Uint8Array(16);function j(){if(!x&&(x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(G)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function E(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}const R=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_={randomUUID:R};function T(e,t,i){if(_.randomUUID&&!t&&!e)return _.randomUUID();e=e||{};const r=e.random||(e.rng||j)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){i=i||0;for(let a=0;a<16;++a)t[i+a]=r[a];return t}return E(r)}var V=u('<span class="block text-red-500">'),J=u('<form><span class="flex justify-between items-center flex-col sm:flex-row gap-x-2"><label for=creategameinput>Game ID (leave blank for random)</label><input id=creategameinput type=text class="px-2 rounded border-green border-2 w-[max(80vw, 20rem)]"></span><button class="modal-btn hover-scale bg-lavender mt-2 px-3 py-1 float-left">Back</button><button class="modal-btn hover-scale bg-terra mt-2 px-3 py-1 float-right">Create');const B=e=>{const[t,i]=y(void 0),r=w();let a;return o(D,{backgroundClass:"animate-fadein",foregroundClass:"animate-popin",cancel:()=>e.setMenu("main"),get children(){var s=J(),d=s.firstChild,$=d.firstChild,m=$.nextSibling,c=d.nextSibling,v=c.nextSibling,p=a;return typeof p=="function"?S(p,m):a=m,b(s,o(k,{when:t!==void 0,get children(){var l=V();return b(l,t),l}}),c),c.$$click=async l=>{l.preventDefault(),e.setMenu("main")},v.$$click=async l=>{l.preventDefault();const g=a?.value||T();if(!await C(g))await I(g);else{i("Game already exists!");return}r(`game/?id=${g}`)},s}})};h(["click"]);var L=u('<span class="block text-red-500">'),A=u('<form><span class="flex justify-between items-center flex-col sm:flex-row gap-x-2"><label for=joingameinput>Game ID</label><input id=joingameinput type=text class="px-2 rounded border-green border-2 w-[max(80vw, 20rem)]"></span><button class="modal-btn hover-scale bg-lavender mt-2 border-green border-2 px-3 py-1 rounded float-left">Back</button><button class="modal-btn hover-scale bg-terra mt-2 px-3 py-1 float-right">Join');const H=e=>{const[t,i]=y(void 0),r=w();let a;return o(D,{backgroundClass:"animate-fadein",foregroundClass:"animate-popin",cancel:()=>e.setMenu("main"),get children(){var s=A(),d=s.firstChild,$=d.firstChild,m=$.nextSibling,c=d.nextSibling,v=c.nextSibling,p=a;return typeof p=="function"?S(p,m):a=m,b(s,o(k,{when:t!==void 0,get children(){var l=L();return b(l,t),l}}),c),c.$$click=async l=>{l.preventDefault(),e.setMenu("main")},v.$$click=async l=>{if(l.preventDefault(),a?.value){if(!await C(a.value)){i("Game does not exist!");return}r(`game/?id=${a.value}`)}else{i("Enter a Game ID");return}},s}})};h(["click"]);var N=u('<h1 class="text-3xl text-center">Welcome to Tic Tac Toe!'),W=u('<div class="m-2 flex gap-x-3"><button class="btn hover-shadow border-4 my-4 py-2 px-4">Create Game</button><button class="btn hover-shadow border-4 my-4 py-2 px-4">Join Game');const K=()=>{const[e,t]=y("main");return o(U,{get children(){return[N(),(()=>{var i=W(),r=i.firstChild,a=r.nextSibling;return r.$$click=()=>t("create"),a.$$click=()=>t("join"),i})(),o(M,{get children(){return[o(f,{get when(){return e()==="create"},get children(){return o(B,{setMenu:t})}}),o(f,{get when(){return e()==="join"},get children(){return o(H,{setMenu:t})}})]}})]}})};h(["click"]);export{K as default};
