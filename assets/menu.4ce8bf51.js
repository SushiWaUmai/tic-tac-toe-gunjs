import{d as _,b as w,u as k,c as a,i as $,h as M,t as d,S as U,M as f}from"./index.e429eb2f.js";import{a as S,c as C,M as D,L as I}from"./layout.51b08f0f.js";let x;const G=new Uint8Array(16);function j(){if(!x&&(x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(G)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function N(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const E=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v={randomUUID:E};function L(e,t,l){if(v.randomUUID&&!t&&!e)return v.randomUUID();e=e||{};const o=e.random||(e.rng||j)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){l=l||0;for(let c=0;c<16;++c)t[l+c]=o[c];return t}return N(o)}const R=d('<span class="block text-red-500"></span>'),T=d('<form><span class="flex justify-between items-center flex-col sm:flex-row gap-x-2"><label for="creategameinput">Game ID (leave blank for random)</label><input id="creategameinput" type="text" class="px-2 rounded border-green border-2 w-[max(80vw, 20rem)]"></span><button class="bg-terra mt-2 border-green border-2 px-3 py-1 rounded float-right">Create</button><button class="bg-lavender mt-2 border-green border-2 px-3 py-1 rounded float-left">Back</button></form>'),V=e=>{const[t,l]=w(void 0),c=k().pathname;let i;return a(D,{cancel:()=>e.setMenu("main"),get children(){const s=T.cloneNode(!0),m=s.firstChild,h=m.firstChild,p=h.nextSibling,u=m.nextSibling,y=u.nextSibling,g=i;return typeof g=="function"?g(p):i=p,$(s,a(M,{when:t!==void 0,get children(){const r=R.cloneNode(!0);return $(r,t),r}}),u),u.$$click=async r=>{r.preventDefault();const b=i?.value||L();if(!await S(b))await C(b);else{l("Game already exists!");return}document.location.href=`${c}/game/?id=${b}`},y.$$click=async r=>{r.preventDefault(),e.setMenu("main")},s}})};_(["click"]);const J=d('<span class="block text-red-500"></span>'),B=d('<form><span class="flex justify-between items-center flex-col sm:flex-row gap-x-2"><label for="joingameinput">Game ID</label><input id="joingameinput" type="text" class="px-2 rounded border-green border-2 w-[max(80vw, 20rem)]"></span><button class="bg-terra mt-2 border-green border-2 px-3 py-1 rounded float-right">Join</button><button class="bg-lavender mt-2 border-green border-2 px-3 py-1 rounded float-left">Back</button></form>'),A=e=>{const[t,l]=w(void 0),c=k().pathname;let i;return a(D,{cancel:()=>e.setMenu("main"),get children(){const s=B.cloneNode(!0),m=s.firstChild,h=m.firstChild,p=h.nextSibling,u=m.nextSibling,y=u.nextSibling,g=i;return typeof g=="function"?g(p):i=p,$(s,a(M,{when:t!==void 0,get children(){const r=J.cloneNode(!0);return $(r,t),r}}),u),u.$$click=async r=>{if(r.preventDefault(),i?.value){if(!await S(i.value)){l("Game does not exist!");return}document.location.href=`${c}/game/?id=${i.value}`}},y.$$click=async r=>{r.preventDefault(),e.setMenu("main")},s}})};_(["click"]);const H=d('<h1 class="text-3xl text-center">Welcome to Tic Tac Toe!</h1>'),W=d('<div class="m-2 flex gap-x-3"><button class="btn hover-shadow border-4 my-4 py-2 px-4">Create Game</button><button class="btn hover-shadow border-4 my-4 py-2 px-4">Join Game</button></div>'),K=()=>{const[e,t]=w("main");return a(I,{get children(){return[H.cloneNode(!0),a(U,{get children(){return[a(f,{get when(){return e()==="main"},get children(){const l=W.cloneNode(!0),o=l.firstChild,c=o.nextSibling;return o.$$click=()=>t("create"),c.$$click=()=>t("join"),l}}),a(f,{get when(){return e()==="create"},get children(){return a(V,{setMenu:t})}}),a(f,{get when(){return e()==="join"},get children(){return a(A,{setMenu:t})}})]}})]}})};_(["click"]);export{K as default};
