(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const Z={},le=(e,t)=>e===t,ce=Symbol("solid-proxy"),he=Symbol("solid-track"),bt={equals:le};let de=Zt;const ot=1,mt=2,Ft={owned:null,cleanups:null,context:null,owner:null};var U=null;let rt=null,q=null,K=null,it=null,Ot=0;function vt(e,t){const n=q,a=U,r=e.length===0,l=r?Ft:{owned:null,cleanups:null,context:null,owner:t||a},s=r?e:()=>e(()=>Y(()=>Ct(l)));U=l,q=null;try{return ut(s,!0)}finally{q=n,U=a}}function tt(e,t){t=t?Object.assign({},bt,t):bt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},a=r=>(typeof r=="function"&&(r=r(n.value)),Xt(n,r));return[zt.bind(n),a]}function Q(e,t,n){const a=Qt(e,t,!1,ot);_t(a)}function H(e,t,n){n=n?Object.assign({},bt,n):bt;const a=Qt(e,t,!0,0);return a.observers=null,a.observerSlots=null,a.comparator=n.equals||void 0,_t(a),zt.bind(a)}function Y(e){let t,n=q;return q=null,t=e(),q=n,t}function pe(e,t,n){const a=Array.isArray(e);let r,l=n&&n.defer;return s=>{let u;if(a){u=Array(e.length);for(let c=0;c<e.length;c++)u[c]=e[c]()}else u=e();if(l){l=!1;return}const v=Y(()=>t(u,r,s));return r=u,v}}function Nt(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function ye(){return U}function ge(e,t){const n=U;U=e;try{return ut(t,!0)}finally{U=n}}function ve(e){const t=q,n=U;return Promise.resolve().then(()=>{q=t,U=n;let a;return ut(e,!1),q=U=null,a?a.done:void 0})}function Kt(e){const t=Symbol("context");return{id:t,Provider:ke(t),defaultValue:e}}function Ht(e){let t;return(t=ne(U,e.id))!==void 0?t:e.defaultValue}function Vt(e){const t=H(e),n=H(()=>At(t()));return n.toArray=()=>{const a=n();return Array.isArray(a)?a:a!=null?[a]:[]},n}function zt(){const e=rt;if(this.sources&&(this.state||e))if(this.state===ot||e)_t(this);else{const t=K;K=null,ut(()=>kt(this),!1),K=t}if(q){const t=this.observers?this.observers.length:0;q.sources?(q.sources.push(this),q.sourceSlots.push(t)):(q.sources=[this],q.sourceSlots=[t]),this.observers?(this.observers.push(q),this.observerSlots.push(q.sources.length-1)):(this.observers=[q],this.observerSlots=[q.sources.length-1])}return this.value}function Xt(e,t,n){let a=e.value;return(!e.comparator||!e.comparator(a,t))&&(e.value=t,e.observers&&e.observers.length&&ut(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],s=rt&&rt.running;s&&rt.disposed.has(l),(s&&!l.tState||!s&&!l.state)&&(l.pure?K.push(l):it.push(l),l.observers&&te(l)),s||(l.state=ot)}if(K.length>1e6)throw K=[],new Error},!1)),t}function _t(e){if(!e.fn)return;Ct(e);const t=U,n=q,a=Ot;q=U=e,we(e,e.value,a),q=n,U=t}function we(e,t,n){let a;try{a=e.fn(t)}catch(r){e.pure&&(e.state=ot),ee(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Xt(e,a):e.value=a,e.updatedAt=n)}function Qt(e,t,n,a=ot,r){const l={fn:e,state:a,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:null,pure:n};return U===null||U!==Ft&&(U.owned?U.owned.push(l):U.owned=[l]),l}function Yt(e){const t=rt;if(e.state===0||t)return;if(e.state===mt||t)return kt(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ot);)(e.state||t)&&n.push(e);for(let a=n.length-1;a>=0;a--)if(e=n[a],e.state===ot||t)_t(e);else if(e.state===mt||t){const r=K;K=null,ut(()=>kt(e,n[0]),!1),K=r}}function ut(e,t){if(K)return e();let n=!1;t||(K=[]),it?n=!0:it=[],Ot++;try{const a=e();return be(n),a}catch(a){K||(it=null),ee(a)}}function be(e){if(K&&(Zt(K),K=null),e)return;const t=it;it=null,t.length&&ut(()=>de(t),!1)}function Zt(e){for(let t=0;t<e.length;t++)Yt(e[t])}function kt(e,t){const n=rt;e.state=0;for(let a=0;a<e.sources.length;a+=1){const r=e.sources[a];r.sources&&(r.state===ot||n?r!==t&&Yt(r):(r.state===mt||n)&&kt(r,t))}}function te(e){const t=rt;for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n];(!a.state||t)&&(a.state=mt,a.pure?K.push(a):it.push(a),a.observers&&te(a))}}function Ct(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),a=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),s=n.observerSlots.pop();a<r.length&&(l.sourceSlots[s]=a,r[a]=l,n.observerSlots[a]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Ct(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function me(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function ee(e){throw e=me(e),e}function ne(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:ne(e.owner,t):void 0}function At(e){if(typeof e=="function"&&!e.length)return At(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const a=At(e[n]);Array.isArray(a)?t.push.apply(t,a):t.push(a)}return t}return e}function ke(e){return function(n){let a;return Q(()=>a=Y(()=>(U.context={[e]:n.value},Vt(()=>n.children)))),a}}const _e=Symbol("fallback");function Lt(e){for(let t=0;t<e.length;t++)e[t]()}function xe(e,t,n={}){let a=[],r=[],l=[],s=0,u=t.length>1?[]:null;return Nt(()=>Lt(l)),()=>{let v=e()||[],c,f;return v[he],Y(()=>{let m=v.length,T,d,$,k,O,x,i,p,_;if(m===0)s!==0&&(Lt(l),l=[],a=[],r=[],s=0,u&&(u=[])),n.fallback&&(a=[_e],r[0]=vt(D=>(l[0]=D,n.fallback())),s=1);else if(s===0){for(r=new Array(m),f=0;f<m;f++)a[f]=v[f],r[f]=vt(y);s=m}else{for($=new Array(m),k=new Array(m),u&&(O=new Array(m)),x=0,i=Math.min(s,m);x<i&&a[x]===v[x];x++);for(i=s-1,p=m-1;i>=x&&p>=x&&a[i]===v[p];i--,p--)$[p]=r[i],k[p]=l[i],u&&(O[p]=u[i]);for(T=new Map,d=new Array(p+1),f=p;f>=x;f--)_=v[f],c=T.get(_),d[f]=c===void 0?-1:c,T.set(_,f);for(c=x;c<=i;c++)_=a[c],f=T.get(_),f!==void 0&&f!==-1?($[f]=r[c],k[f]=l[c],u&&(O[f]=u[c]),f=d[f],T.set(_,f)):l[c]();for(f=x;f<m;f++)f in $?(r[f]=$[f],l[f]=k[f],u&&(u[f]=O[f],u[f](f))):r[f]=vt(y);r=r.slice(0,s=m),a=v.slice(0)}return r});function y(m){if(l[f]=m,u){const[T,d]=tt(f);return u[f]=d,t(v[f],T)}return t(v[f])}}}function J(e,t){return Y(()=>e(t||{}))}function yt(){return!0}const $e={get(e,t,n){return t===ce?n:e.get(t)},has(e,t){return e.has(t)},set:yt,deleteProperty:yt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:yt,deleteProperty:yt}},ownKeys(e){return e.keys()}};function $t(e){return(e=typeof e=="function"?e():e)==null?{}:e}function Se(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const a=$t(e[n])[t];if(a!==void 0)return a}},has(t){for(let n=e.length-1;n>=0;n--)if(t in $t(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys($t(e[n])));return[...new Set(t)]}},$e)}function je(e){const t="fallback"in e&&{fallback:()=>e.fallback};return H(xe(()=>e.each,e.children,t||void 0))}function re(e){let t=!1,n=!1;const a=Vt(()=>e.children),r=H(()=>{let l=a();Array.isArray(l)||(l=[l]);for(let s=0;s<l.length;s++){const u=l[s].when;if(u)return n=!!l[s].keyed,[s,u,l[s]]}return[-1]},void 0,{equals:(l,s)=>l[0]===s[0]&&(t?l[1]===s[1]:!l[1]==!s[1])&&l[2]===s[2]});return H(()=>{const[l,s,u]=r();if(l<0)return e.fallback;const v=u.children,c=typeof v=="function"&&v.length>0;return t=n||c,c?Y(()=>v(s)):v})}function ht(e){return e}const Te=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ae=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Te]),De=new Set(["innerHTML","textContent","innerText","children"]),Oe={className:"class",htmlFor:"for"},Pt={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Ne=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ce={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ee(e,t){return H(e,void 0,t?void 0:{equals:t})}function Ge(e,t,n){let a=n.length,r=t.length,l=a,s=0,u=0,v=t[r-1].nextSibling,c=null;for(;s<r||u<l;){if(t[s]===n[u]){s++,u++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===s){const f=l<a?u?n[u-1].nextSibling:n[l-u]:v;for(;u<l;)e.insertBefore(n[u++],f)}else if(l===u)for(;s<r;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[u]===t[r-1]){const f=t[--r].nextSibling;e.insertBefore(n[u++],t[s++].nextSibling),e.insertBefore(n[--l],f),t[r]=n[l]}else{if(!c){c=new Map;let y=u;for(;y<l;)c.set(n[y],y++)}const f=c.get(t[s]);if(f!=null)if(u<f&&f<l){let y=s,m=1,T;for(;++y<r&&y<l&&!((T=c.get(t[y]))==null||T!==f+m);)m++;if(m>f-u){const d=t[s];for(;u<f;)e.insertBefore(n[u++],d)}else e.replaceChild(n[u++],t[s++])}else s++;else t[s++].remove()}}}const Mt="_$DX_DELEGATE";function Ie(e,t,n){let a;return vt(r=>{a=r,t===document?e():X(t,e(),t.firstChild?null:void 0,n)}),()=>{a(),t.textContent=""}}function st(e,t,n){const a=document.createElement("template");a.innerHTML=e;let r=a.content.firstChild;return n&&(r=r.firstChild),r}function xt(e,t=window.document){const n=t[Mt]||(t[Mt]=new Set);for(let a=0,r=e.length;a<r;a++){const l=e[a];n.has(l)||(n.add(l),t.addEventListener(l,qe))}}function wt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Le(e,t,n,a){a==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,a)}function Pe(e,t){t==null?e.removeAttribute("class"):e.className=t}function Et(e,t,n,a){if(a)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=l=>r.call(e,n[1],l))}else e.addEventListener(t,n)}function Me(e,t,n={}){const a=Object.keys(t||{}),r=Object.keys(n);let l,s;for(l=0,s=r.length;l<s;l++){const u=r[l];!u||u==="undefined"||t[u]||(Rt(e,u,!1),delete n[u])}for(l=0,s=a.length;l<s;l++){const u=a[l],v=!!t[u];!u||u==="undefined"||n[u]===v||!v||(Rt(e,u,!0),n[u]=v)}return n}function ie(e,t,n={}){const a=e.style,r=typeof n=="string";if(t==null&&r||typeof t=="string")return a.cssText=t;r&&(a.cssText=void 0,n={}),t||(t={});let l,s;for(s in n)t[s]==null&&a.removeProperty(s),delete n[s];for(s in t)l=t[s],l!==n[s]&&(a.setProperty(s,l),n[s]=l);return n}function Re(e,t,n,a){typeof t=="function"?Q(r=>Ut(e,t(),r,n,a)):Ut(e,t,void 0,n,a)}function X(e,t,n,a){if(n!==void 0&&!a&&(a=[]),typeof t!="function")return lt(e,t,a,n);Q(r=>lt(e,t(),r,n),a)}function Be(e,t,n,a,r={},l=!1){t||(t={});for(const s in r)if(!(s in t)){if(s==="children")continue;Bt(e,s,null,r[s],n,l)}for(const s in t){if(s==="children"){a||lt(e,t.children);continue}const u=t[s];r[s]=Bt(e,s,u,r[s],n,l)}}function Ue(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Rt(e,t,n){const a=t.trim().split(/\s+/);for(let r=0,l=a.length;r<l;r++)e.classList.toggle(a[r],n)}function Bt(e,t,n,a,r,l){let s,u,v;if(t==="style")return ie(e,n,a);if(t==="classList")return Me(e,n,a);if(n===a)return a;if(t==="ref")l||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);a&&e.removeEventListener(c,a),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);a&&e.removeEventListener(c,a,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),f=Ne.has(c);if(!f&&a){const y=Array.isArray(a)?a[0]:a;e.removeEventListener(c,y)}(f||n)&&(Et(e,c,n,f),f&&xt([c]))}else if((v=De.has(t))||!r&&(Pt[t]||(u=Ae.has(t)))||(s=e.nodeName.includes("-")))t==="class"||t==="className"?Pe(e,n):s&&!u&&!v?e[Ue(t)]=n:e[Pt[t]||t]=n;else{const c=r&&t.indexOf(":")>-1&&Ce[t.split(":")[0]];c?Le(e,c,t,n):wt(e,Oe[t]||t,n)}return n}function qe(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),Z.registry&&!Z.done&&(Z.done=!0,document.querySelectorAll("[id^=pl-]").forEach(a=>a.remove()));n!==null;){const a=n[t];if(a&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?a.call(n,r,e):a.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Ut(e,t,n={},a,r){return t||(t={}),!r&&"children"in t&&Q(()=>n.children=lt(e,t.children,n.children)),t.ref&&t.ref(e),Q(()=>Be(e,t,a,!0,n,!0)),n}function lt(e,t,n,a,r){for(Z.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=a!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(Z.context)return n;if(l==="number"&&(t=t.toString()),s){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=ft(e,n,a,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(Z.context)return n;n=ft(e,n,a)}else{if(l==="function")return Q(()=>{let u=t();for(;typeof u=="function";)u=u();n=lt(e,u,n,a)}),()=>n;if(Array.isArray(t)){const u=[],v=n&&Array.isArray(n);if(Dt(u,t,n,r))return Q(()=>n=lt(e,u,n,a,!0)),()=>n;if(Z.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=ft(e,n,a),s)return n}else v?n.length===0?qt(e,u,a):Ge(e,n,u):(n&&ft(e),qt(e,u));n=u}else if(t instanceof Node){if(Z.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=ft(e,n,a,t);ft(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Dt(e,t,n,a){let r=!1;for(let l=0,s=t.length;l<s;l++){let u=t[l],v=n&&n[l];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))r=Dt(e,u,v)||r;else if(typeof u=="function")if(a){for(;typeof u=="function";)u=u();r=Dt(e,Array.isArray(u)?u:[u],v)||r}else e.push(u),r=!0;else{const c=String(u);v&&v.nodeType===3&&v.data===c?e.push(v):e.push(document.createTextNode(c))}}return r}function qt(e,t,n){for(let a=0,r=t.length;a<r;a++)e.insertBefore(t[a],n)}function ft(e,t,n,a){if(n===void 0)return e.textContent="";const r=a||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const u=t[s];if(r!==u){const v=u.parentNode===e;!l&&!s?v?e.replaceChild(r,u):e.insertBefore(r,n):v&&u.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const Je=!1;var F=(e=>(e[e.None=0]="None",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Draw=3]="Draw",e))(F||{});const We=e=>{switch(e){case 2:return 1;case 1:return 2}return 0},Fe=e=>{const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]];for(let a of t){const[r,l,s]=a;if(e[r]!==0&&e[r]===e[l]&&e[r]==e[s])return e[r]}let n=!0;for(let a of e)a===0&&(n=!1);return n?3:0},Ke=st('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),He=st("<title></title>");function oe(e,t){const n=Se(e.a,t);return(()=>{const a=Ke.cloneNode(!0);return Re(a,n,!0,!0),X(a,()=>Je,null),X(a,(()=>{const r=Ee(()=>!!t.title,!0);return()=>r()&&(()=>{const l=He.cloneNode(!0);return X(l,()=>t.title),l})()})(),null),Q(r=>{const l=e.a.stroke,s={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",v=t.size||"1em",c=e.c;return l!==r._v$&&wt(a,"stroke",r._v$=l),r._v$2=ie(a,s,r._v$2),u!==r._v$3&&wt(a,"height",r._v$3=u),v!==r._v$4&&wt(a,"width",r._v$4=v),c!==r._v$5&&(a.innerHTML=r._v$5=c),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),a})()}function Ve(e){return oe({a:{viewBox:"0 0 512 512"},c:'<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"/>'},e)}function ze(e){return oe({a:{viewBox:"0 0 384 512"},c:'<path d="M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 01-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 01-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"/>'},e)}const Xe=st('<div class="bg-gray-300 rounded min-w-[6rem] min-h-[6rem] sm:min-w-[8rem] sm:min-h-[8rem] md:min-w-[12rem] md:min-h-[12rem] lg:min-w-[16rem] lg:min-h-[16rem] m-2 flex justify-center items-center"></div>'),Qe=e=>(()=>{const t=Xe.cloneNode(!0);return Et(t,"click",e.onClick,!0),X(t,J(re,{get fallback(){return[]},get children(){return[J(ht,{get when(){return e.state===F.Cross},get children(){return J(ze,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}}),J(ht,{get when(){return e.state===F.Circle},get children(){return J(Ve,{class:"text-[6rem] md:text-[8rem] lg:text-[12rem]"})}})]}})),t})();xt(["click"]);const Ye=st('<div class="absolute inset-0 flex justify-center items-center"><div class="rounded bg-gray-100 px-8 py-5"></div></div>'),Ze=e=>(()=>{const t=Ye.cloneNode(!0),n=t.firstChild;return X(n,()=>e.children),t})(),tn=st('<div class="flex flex-col"><h3 class="m-3 text-4xl text-center"></h3><span class="py-2 px-3 rounded bg-gray-300 m-auto cursor-pointer">Restart Game</span></div>'),St=e=>J(Ze,{get children(){const t=tn.cloneNode(!0),n=t.firstChild,a=n.nextSibling;return X(n,()=>e.result),Et(a,"click",e.restartGame,!0),t}});xt(["click"]);function en(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function nn([e,t],n,a){return[n?()=>n(e()):e,a?r=>t(a(r)):t]}function rn(e){try{return document.querySelector(e)}catch{return null}}function on(e,t){const n=rn(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function un(e,t,n,a){let r=!1;const l=u=>typeof u=="string"?{value:u}:u,s=nn(tt(l(e()),{equals:(u,v)=>u.value===v.value}),void 0,u=>(!r&&t(u),u));return n&&Nt(n((u=e())=>{r=!0,s[1](l(u)),r=!1})),{signal:s,utils:a}}function sn(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:tt({value:""})};return e}function fn(){return un(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:a})=>{t?window.history.replaceState(a,"",e):window.history.pushState(a,"",e),on(window.location.hash.slice(1),n)},e=>en(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const an=/^(?:[a-z0-9]+:)?\/\//i,ln=/^\/+|\/+$/g;function jt(e,t=!1){const n=e.replace(ln,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Tt(e,t,n){if(an.test(t))return;const a=jt(e),r=n&&jt(n);let l="";return!r||t.startsWith("/")?l=a:r.toLowerCase().indexOf(a.toLowerCase())!==0?l=a+r:l=r,(l||"/")+jt(t,!l)}function cn(e,t){if(e==null)throw new Error(t);return e}function hn(e){const t={};return e.searchParams.forEach((n,a)=>{t[a]=n}),t}function at(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function dn(e){const t=new Map,n=ye();return new Proxy({},{get(a,r){return t.has(r)||ge(n,()=>t.set(r,H(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const pn=100,ue=Kt(),yn=Kt(),se=()=>cn(Ht(ue),"Make sure your app is wrapped in a <Router />");let Jt;const gn=()=>se().navigatorFactory(),vn=()=>se().location;function wn(e,t){const n=new URL("http://sar"),a=H(v=>{const c=e();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),v}},n,{equals:(v,c)=>v.href===c.href}),r=H(()=>at(a().pathname)),l=H(()=>at(a().search,!0)),s=H(()=>at(a().hash)),u=H(()=>"");return{get pathname(){return r()},get search(){return l()},get hash(){return s()},get state(){return t()},get key(){return u()},query:dn(pe(l,()=>hn(a())))}}function bn(e,t="",n,a){const{signal:[r,l],utils:s={}}=sn(e),u=s.parsePath||(j=>j),v=s.renderPath||(j=>j),c=Tt("",t),f=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!r().value&&l({value:c,replace:!0,scroll:!1});const[y,m]=tt(!1),T=async j=>{m(!0);try{await ve(j)}finally{m(!1)}},[d,$]=tt(r().value),[k,O]=tt(r().state),x=wn(d,k),i=[],p={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(j){return Tt(c,j)}};if(n)try{Jt=p,p.data=n({data:void 0,params:{},location:x,navigate:D(p)})}finally{Jt=void 0}function _(j,C,E){Y(()=>{if(typeof C=="number"){C&&(s.go?s.go(C):console.warn("Router integration does not support relative routing"));return}const{replace:h,resolve:o,scroll:g,state:w}={replace:!1,resolve:!0,scroll:!0,...E},I=o?j.resolvePath(C):Tt("",C);if(I===void 0)throw new Error(`Path '${C}' is not a routable path`);if(i.length>=pn)throw new Error("Too many redirects");const N=d();if(I!==N||w!==k()){const S=i.push({value:N,replace:h,scroll:g,state:k()});T(()=>{$(I),O(w)}).then(()=>{i.length===S&&b({value:I,state:w})})}})}function D(j){return j=j||Ht(yn)||p,(C,E)=>_(j,C,E)}function b(j){const C=i[0];C&&((j.value!==C.value||j.state!==C.state)&&l({...j,replace:C.replace,scroll:C.scroll}),i.length=0)}Q(()=>{const{value:j,state:C}=r();Y(()=>{j!==d()&&T(()=>{$(j),O(C)})})});{let j=function(C){if(C.defaultPrevented||C.button!==0||C.metaKey||C.altKey||C.ctrlKey||C.shiftKey)return;const E=C.composedPath().find(S=>S instanceof Node&&S.nodeName.toUpperCase()==="A");if(!E||!E.hasAttribute("link"))return;const h=E.href;if(E.target||!h&&!E.hasAttribute("state"))return;const o=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||o&&o.includes("external"))return;const g=new URL(h),w=at(g.pathname);if(g.origin!==window.location.origin||c&&w&&!w.toLowerCase().startsWith(c.toLowerCase()))return;const I=u(w+at(g.search,!0)+at(g.hash)),N=E.getAttribute("state");C.preventDefault(),_(p,I,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:N&&JSON.parse(N)})};var A=j;xt(["click"]),document.addEventListener("click",j),Nt(()=>document.removeEventListener("click",j))}return{base:p,out:f,location:x,isRouting:y,renderPath:v,parsePath:u,navigatorFactory:D}}const mn=e=>{const{source:t,url:n,base:a,data:r,out:l}=e,s=t||fn(),u=bn(s,a,r);return J(ue.Provider,{value:u,get children(){return e.children}})};let gt;const kn=new Uint8Array(16);function _n(){if(!gt&&(gt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gt(kn)}const W=[];for(let e=0;e<256;++e)W.push((e+256).toString(16).slice(1));function xn(e,t=0){return(W[e[t+0]]+W[e[t+1]]+W[e[t+2]]+W[e[t+3]]+"-"+W[e[t+4]]+W[e[t+5]]+"-"+W[e[t+6]]+W[e[t+7]]+"-"+W[e[t+8]]+W[e[t+9]]+"-"+W[e[t+10]]+W[e[t+11]]+W[e[t+12]]+W[e[t+13]]+W[e[t+14]]+W[e[t+15]]).toLowerCase()}const $n=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wt={randomUUID:$n};function Sn(e,t,n){if(Wt.randomUUID&&!t&&!e)return Wt.randomUUID();e=e||{};const a=e.random||(e.rng||_n)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=a[r];return t}return xn(a)}function jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={exports:{}};function Tn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ae={exports:{}};(function(e){(function(){function t(a,r){return r?Tn(a):a.slice?t[l(a)]:function(s,u){a(s={exports:{}}),t[l(u)]=s.exports};function l(s){return s.split("/").slice(-1).toString().replace(".js","")}}var n=e;t(function(a){String.random=function(l,s){var u="";for(l=l||24,s=s||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";l-- >0;)u+=s.charAt(Math.floor(Math.random()*s.length));return u},String.match=function(l,s){var u,v;return typeof l!="string"?!1:(typeof s=="string"&&(s={"=":s}),s=s||{},u=s["="]||s["*"]||s[">"]||s["<"],l===u?!0:v!==s["="]?!1:(u=s["*"]||s[">"],l.slice(0,(u||"").length)===u?!0:v!==s["*"]?!1:v!==s[">"]&&v!==s["<"]?l>=s[">"]&&l<=s["<"]:v!==s[">"]&&l>=s[">"]||v!==s["<"]&&l<=s["<"]))},String.hash=function(l,s){if(typeof l=="string"){if(s=s||0,!l.length)return s;for(var u=0,v=l.length,c;u<v;++u)c=l.charCodeAt(u),s=(s<<5)-s+c,s|=0;return s}};var r=Object.prototype.hasOwnProperty;Object.plain=function(l){return l?l instanceof Object&&l.constructor===Object||Object.prototype.toString.call(l).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(l,s){for(var u in l)if(r.call(l,u)&&(!s||s.indexOf(u)==-1))return!1;return!0},Object.keys=Object.keys||function(l){var s=[];for(var u in l)r.call(l,u)&&s.push(u);return s},function(){var l,s=setTimeout,u=0,v=0,c=typeof setImmediate!=""+l&&setImmediate||function(y,m){return typeof MessageChannel==""+l?s:((y=new MessageChannel).port1.onmessage=function(T){T.data==""&&m()},function(T){m=T,y.port2.postMessage("")})}(),f=s.check=s.check||typeof performance!=""+l&&performance||{now:function(){return+new Date}};s.hold=s.hold||9,s.poll=s.poll||function(y){if(s.hold>=f.now()-u&&v++<3333){y();return}c(function(){u=f.now(),y()},v=0)}}(),function(){var l=setTimeout,s=l.turn=l.turn||function(m){u.push(m)==1&&v(y)},u=s.s=[],v=l.poll,c=0,f,y=function(){(f=u[c++])&&f(),(c==u.length||c==99)&&(u=s.s=u.slice(c),c=0),u.length&&v(y)}}(),function(){var l,s=setTimeout,u=s.turn;(s.each=s.each||function(v,c,f,y){y=y||9,function m(T,d,$){if(d=(T=(v||[]).splice(0,y)).length){for(var k=0;k<d&&l===($=c(T[k]));k++);if(l===$){u(m);return}}f&&f($)}()})()}()})(t,"./shim"),t(function(a){a.exports=function r(f,s,u){if(!f)return{to:r};var v,c=typeof s=="function",f=(this.tag||(this.tag={}))[f]||c&&(this.tag[f]={tag:f,to:r._={next:function(m){var T;(T=this.to)&&T.next(m)}}});if(c){var y={off:r.off||(r.off=function(){if(this.next===r._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=r._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:r._,next:s,the:f,on:this,as:u};return(y.back=f.last||f).to=y,f.last=y}return(f=f.to)&&v!==s&&f.next(s),f}})(t,"./onto"),t(function(a){a.exports=function(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"&&r!=1/0&&r!=-1/0&&r===r||!!r&&typeof r["#"]=="string"&&Object.keys(r).length===1&&r["#"]}})(t,"./valid"),t(function(a){t("./shim");function r(){var f=+new Date;return v<f?(s=0,v=f+r.drift):v=f+(s+=1)/u+r.drift}r.drift=0;var l=-1/0,s=0,u=999,v=l,c;r.is=function(f,y,m){var T=y&&f&&f._&&f._[">"]||m;if(!!T)return typeof(T=T[y])=="number"?T:l},r.ify=function(f,y,m,T,d){(f=f||{})._=f._||{},d&&(f._["#"]=d);var $=f._[">"]||(f._[">"]={});return c!==y&&y!=="_"&&(typeof m=="number"&&($[y]=m),c!==T&&(f[y]=T)),f},a.exports=r})(t,"./state"),t(function(a){t("./shim");function r(l){var s={s:{}},u=s.s;l=l||{max:999,age:1e3*9},s.check=function(c){return u[c]?v(c):!1};var v=s.track=function(c){var f=u[c]||(u[c]={});return f.was=s.now=+new Date,s.to||(s.to=setTimeout(s.drop,l.age+9)),f};return s.drop=function(c){s.to=null,s.now=+new Date;var f=Object.keys(u);console.STAT&&console.STAT(s.now,+new Date-s.now,"dup drop keys"),setTimeout.each(f,function(y){var m=u[y];m&&(c||l.age)>s.now-m.was||delete u[y]},0,99)},s}a.exports=r})(t,"./dup"),t(function(a){t("./onto"),a.exports=function(s,u){if(!!this.on){var v=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var f=s["#"]||s,c=(this.tag||"")[f];return c?(u&&(c=this.on(f,u),clearTimeout(c.err),c.err=setTimeout(function(){c.off()},v)),!0):void 0}var f=u&&u["#"]||r(9);if(!s)return f;var y=this.on(f,s,u);return y.err=y.err||setTimeout(function(){y.off(),y.next({err:"Error: No ACK yet.",lack:!0})},v),f}};var r=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(a){function r(d){return d instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:d}):new r(d)}r.is=function(d){return d instanceof r||d&&d._&&d===d._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},t("./shim"),r.valid=t("./valid"),r.state=t("./state"),r.on=t("./onto"),r.dup=t("./dup"),r.ask=t("./ask"),function(){r.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||r.on,o.ask=o.ask||r.ask,o.dup=o.dup||r.dup();var g=o.$.opt(o.opt);return o.once||(o.on("in",d,o),o.on("out",d,o),o.on("put",O,o),r.on("create",o),o.on("create",o)),o.once=1,g};function d(o){if(!!o){if(o.out===d){this.to.next(o);return}var g=this,w=g.as,I=w.at||w,N=I.$,S=I.dup,G,L=o.DBG;if((G=o["#"])||(G=o["#"]=s(9)),!S.check(G)){if(S.track(G),G=o._,o._=typeof G=="function"?G:function(){},o.$&&o.$===(o.$._||"").$||(o.$=N),o["@"]&&!o.put&&i(o),!I.ask(o["@"],o))if(L&&(L.u=+new Date),o.put){$(o);return}else o.get&&r.on.get(o,N);L&&(L.uc=+new Date),g.to.next(o),L&&(L.ua=+new Date),!(o.nts||o.NTS)&&(o.out=d,I.on("out",o),L&&(L.ue=+new Date))}}}function $(o){if(!!o){var g=o._||"",w=g.root=((g.$=o.$||"")._||"").root;if(o["@"]&&g.faith&&!g.miss){o.out=d,w.on("out",o);return}g.latch=w.hatch,g.match=w.hatch=[];var I=o.put,N=g.DBG=o.DBG,S=+new Date;if(E=E||S,!(I["#"]&&I["."])){N&&(N.p=S),g["#"]=o["#"],g.msg=o,g.all=0,g.stun=1;var G=Object.keys(I);console.STAT&&console.STAT(S,((N||g).pk=+new Date)-S,"put sort");var L=0,P,M,R,B,z,V,ct;(function et(dt){if(P!=L){if(P=L,!(R=G[L])){console.STAT&&console.STAT(S,((N||g).pd=+new Date)-S,"put"),x(g);return}(B=I[R])?(ct=B._)?R!==ct["#"]?V=_+D(R)+"soul not same.":(z=ct[">"])||(V=_+D(R)+"no state."):V=_+D(R)+"no meta.":V=_+D(R)+"no node.",M=Object.keys(B||{})}if(V){o.err=g.err=V,x(g);return}var Gt=0,nt;for(dt=dt||0;dt++<9&&(nt=M[Gt++]);)if(nt!=="_"){var pt=B[nt],It=z[nt];if(y===It){V=_+D(nt)+"on"+D(R)+"no state.";break}if(!v(pt)){V=_+D(nt)+"on"+D(R)+"bad "+typeof pt+D(pt);break}k(pt,nt,R,It,o),++C}if((M=M.slice(Gt)).length){u(et);return}++L,M=null,et(dt)})()}}}r.on.put=$;function k(o,g,w,I,N){var S=N._||"",G=S.root,L=G.graph,P,M=L[w]||m,R=c(M,g,1),B=M[g],z=S.DBG;(P=console.STAT)&&(!L[w]||!B)&&(P.has=(P.has||0)+1);var V=j();if(I>V){setTimeout(function(){k(o,g,w,I,N)},(P=I-V)>A?A:P),console.STAT&&console.STAT((z||S).Hf=+new Date,P,"future");return}if(!(I<R)&&!(!S.faith&&I===R&&(o===B||b(o)<=b(B))&&!S.miss)){S.stun++;var ct=N["#"]+S.all++,et={toString:function(){return ct},_:S};et.toJSON=et.toString,G.dup.track(et)["#"]=N["#"],z&&(z.ph=z.ph||+new Date),G.on("put",{"#":et,"@":N["@"],put:{"#":w,".":g,":":o,">":I},ok:N.ok,_:S})}}function O(o){var g;(g=(o._||"").DBG)&&(g.pa=+new Date,g.pm=g.pm||+new Date);var w=this,I=w.as,N=I.graph,S=o._,G=o.put,L=G["#"],P=G["."],M=G[":"],R=G[">"];o["#"];var B;(B=S.msg)&&(B=B.put)&&(B=B[L])&&f(B,P,R,M,L),N[L]=f(N[L],P,R,M,L),(B=(I.next||"")[L])&&B.on("in",o),x(S),w.to.next(o)}function x(o,g){var w;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!(w=o.root))){var I=o.match;I.end=1,I===w.hatch&&(!(I=o.latch)||I.end?delete w.hatch:w.hatch=I),o.hatch&&o.hatch(),setTimeout.each(o.match,function(N){N&&N()}),!(!(g=o.msg)||o.err||g.err)&&(g.out=d,o.root.on("out",g),h())}}function i(o){var g=o["@"]||"",w;if(!(w=g._)){var I=(I=o.$)&&(I=I._)&&(I=I.root)&&(I=I.dup);if(!(I=I.check(g)))return;o["@"]=I["#"]||o["@"];return}w.acks=(w.acks||0)+1,(w.err=o.err)&&(o["@"]=w["#"],x(w)),w.ok=o.ok||w.ok,!w.stop&&!w.crack&&(w.crack=w.match&&w.match.push(function(){p(w)})),p(w)}function p(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?y:o.ok||{"":1}})}var _="Error: Invalid graph!",D=function(o){return" '"+(""+o).slice(0,9)+"...' "},b=JSON.stringify,A=2147483647,j=r.state,C=0,E,h=function(){C>999&&C/-(E-(E=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),h=function(){C=0})}}(),function(){r.on.get=function($,k){var O=k._,x=$.get,i=x["#"],p=O.graph[i],_=x["."],D=O.next||(O.next={});D[i];var b=$._||{},A=b.DBG=$.DBG;if(A&&(A.g=+new Date),!p)return O.on("get",$);if(_){if(typeof _!="string"||y===p[_])return O.on("get",$);p=f({},_,c(p,_),p[_],i)}p&&d($,p),O.on("get",$)};function d($,k){var O=+new Date,x=$._||{},i=x.DBG=$.DBG,p=$["#"],_=s(9),D=Object.keys(k||"").sort(),b=((k||"")._||"")["#"];D.length;var A=$.$._.root,j=k===A.graph[b];console.STAT&&console.STAT(O,((i||x).gk=+new Date)-O,"got keys"),k&&function C(){O=+new Date;for(var E=0,h,o={},g;E<9&&(h=D[E++]);)f(o,h,c(k,h),k[h],b);D=D.slice(E),(g={})[b]=o,o=g;var w;j&&(w=function(){},w.ram=w.faith=!0),g=D.length,console.STAT&&console.STAT(O,-(O-(O=+new Date)),"got copied some"),i&&(i.ga=+new Date),A.on("in",{"@":p,"#":_,put:o,"%":g?_=s(9):y,$:A.$,_:w,DBG:i}),console.STAT&&console.STAT(O,+new Date-O,"got in"),g&&setTimeout.turn(C)}(),k||A.on("in",{"@":$["#"]})}r.on.get.ack=d}(),function(){r.chain.opt=function(d){d=d||{};var $=this,k=$._,O=d.peers||d;return Object.plain(d)||(d={}),Object.plain(k.opt)||(k.opt=d),typeof O=="string"&&(O=[O]),Object.plain(k.opt.peers)||(k.opt.peers={}),O instanceof Array&&(d.peers={},O.forEach(function(x){var i={};i.id=i.url=x,d.peers[x]=k.opt.peers[x]=k.opt.peers[x]||i})),l(d,function x(i){var p=this[i];if(this&&this.hasOwnProperty(i)||typeof p=="string"||Object.empty(p)){this[i]=p;return}p&&p.constructor!==Object&&!(p instanceof Array)||l(p,x)}),k.opt.from=d,r.on("opt",k),k.opt.uuid=k.opt.uuid||function(i){return r.state().toString(36).replace(".","")+String.random(i||12)},$}}();var l=function(d,$){Object.keys(d).forEach($,d)},s=String.random,u=setTimeout.turn,v=r.valid,c=r.state.is,f=r.state.ify,y,m={},T;r.log=function(){return!r.log.off&&T.log.apply(T,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(d,$,k){return(k=r.log.once)[d]=k[d]||0,k[d]++||r.log($)},typeof window<"u"&&((window.GUN=window.Gun=r).window=window);try{typeof n<"u"&&(n.exports=r)}catch{}a.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(T=console).only=function(d,$){return T.only.i&&d===T.only.i&&T.only.i++&&(T.log.apply(T,arguments)||$)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(a){var r=t("./root");r.chain.back=function(u,v){var c;if(u=u||1,u===-1||u===1/0)return this._.root.$;if(u===1)return(this._.back||this._).$;var f=this,y=f._;if(typeof u=="string"&&(u=u.split(".")),u instanceof Array){var m=0,T=u.length,c=y;for(m;m<T;m++)c=(c||l)[u[m]];return s!==c?v?f:c:(c=y.back)?c.$.back(u,v):void 0}if(typeof u=="function"){for(var d,c={back:y};(c=c.back)&&s===(d=u(c,v)););return d}return typeof u=="number"?(y.back||y).$.back(u-1):this};var l={},s})(t,"./back"),t(function(a){var r=t("./root");r.chain.chain=function(x){var i=this,p=i._,_=new(x||i).constructor(i),D=_._,b;return D.root=b=p.root,D.id=++b.once,D.back=i._,D.on=r.on,D.on("in",r.on.in,D),D.on("out",r.on.out,D),_};function l(x){var i,p=this.as,_=p.back,D=p.root,b;if(x.$||(x.$=p.$),this.to.next(x),p.err){p.on("in",{put:p.put=y,$:p.$});return}if(i=x.get){if(D.pass&&(D.pass[p.id]=p),p.lex&&Object.keys(p.lex).forEach(function(A){b[A]=p.lex[A]},b=x.get=x.get||{}),i["#"]||p.soul){if(i["#"]=i["#"]||p.soul,x["#"]||(x["#"]=m(9)),_=D.$.get(i["#"])._,i=i["."]){if(d(_.put,i)&&(b=_.ask&&_.ask[i],(_.ask||(_.ask={}))[i]=_.$.get(i)._,_.on("in",{get:i,put:{"#":_.soul,".":i,":":_.put[i],">":k(D.graph[_.soul],i)}}),b))return}else{if(b=_.ask&&_.ask[""],(_.ask||(_.ask={}))[""]=_,y!==_.put&&(_.on("in",_),b))return;x.$=_.$}return D.ask(c,x),D.on("in",x)}if(i["."])return p.get?(x={get:{".":p.get},$:p.$},(_.ask||(_.ask={}))[p.get]=x.$._,_.on("out",x)):(x={get:p.lex?x.get:{},$:p.$},_.on("out",x));if((p.ask||(p.ask={}))[""]=p,p.get)return i["."]=p.get,(_.ask||(_.ask={}))[p.get]=x.$._,_.on("out",x)}return _.on("out",x)}r.on.out=l;function s(x,i){i=i||this.as;var p=i.root,_=x.$||(x.$=i.$),D=(_||"")._||f,b=x.put||"",A=b["#"],j=b["."],C=y!==b["="]?b["="]:b[":"],E=b[">"]||-1/0,h;if(y!==x.put&&(y===b["#"]||y===b["."]||y===b[":"]&&y===b["="]||y===b[">"])){if(!T(b)){if(!(A=((b||"")._||"")["#"])){console.log("chain not yet supported for",b,"...",x,i);return}return _=i.root.$.get(A),setTimeout.each(Object.keys(b).sort(),function(o){o=="_"||y===(E=k(b,o))||i.on("in",{$:_,put:{"#":A,".":o,"=":b[o],">":E},VIA:x})})}i.on("in",{$:D.back.$,put:{"#":A=D.back.soul,".":j=D.has||D.get,"=":b,">":k(D.back.put,j)},via:x});return}(x.seen||"")[i.id]||((x.seen||(x.seen=function(){}))[i.id]=i,i!==D&&(Object.keys(x).forEach(function(o){b[o]=x[o]},b={}),b.get=i.get||b.get,!i.soul&&!i.has?b.$$$=b.$$$||i.$:D.soul&&(b.$=i.$,b.$$=b.$$||D.$),x=b),v(x,i),(i.soul||x.$$)&&E>=k(p.graph[A],j)&&((b=p.$.get(A)._).put=O(b.put,j,E,C,A)),!D.soul&&E>=k(p.graph[A],j)&&(h=(p.$.get(A)._.next||"")[j])&&(h.put=C,typeof(b=T(C))=="string"&&(h.put=p.$.get(b)._.put||C)),this.to&&this.to.next(x),i.any&&setTimeout.each(Object.keys(i.any),function(o){(o=i.any[o])&&o(x)},0,99),i.echo&&setTimeout.each(Object.keys(i.echo),function(o){(o=i.echo[o])&&o.on("in",x)},0,99),((x.$$||"")._||D).soul&&(h=i.next)&&(h=h[j])&&(b={},Object.keys(x).forEach(function(o){b[o]=x[o]}),b.$=(x.$$||x.$).get(b.get=j),delete b.$$,delete b.$$$,h.on("in",b)),u(x,i))}r.on.in=s;function u(x,i){if(i=i||this.as||x.$._,!(x.$$&&this!==r.on)&&!(!x.put||i.soul)){var p=x.put||"",_=p["="]||p[":"],j,D=i.root,b=D.$.get(p["#"]).get(p["."])._;if(typeof(_=T(_))!="string"){this===r.on&&((b.echo||(b.echo={}))[i.id]=i);return}if(!((b.echo||(b.echo={}))[i.id]&&!(D.pass||"")[i.id])){if(j=D.pass){if(j[_+i.id])return;j[_+i.id]=1}(b.echo||(b.echo={}))[i.id]=i,i.has&&(i.link=_);var A=D.$.get(b.link=_)._;(A.echo||(A.echo={}))[b.id]=b;var j=i.ask||"";(j[""]||i.lex)&&A.on("out",{get:{"#":_}}),setTimeout.each(Object.keys(j),function(C,E){!C||!(E=j[C])||E.on("out",{get:{"#":_,".":C}})},0,99)}}}r.on.link=u;function v(x,i){var p=x.put||"",_=y!==p["="]?p["="]:p[":"],D=i.root,b,A;if(y===_){if(i.soul&&y!==i.put||(A=(x.$$||x.$||"")._||"",x["@"]&&(y!==A.put||y!==i.put)))return;(b=i.link||x.linked)&&delete(D.$.get(b)._.echo||"")[i.id],i.has&&(i.link=null),i.put=y,setTimeout.each(Object.keys(i.next||""),function(j,C){!(C=i.next[j])||(b&&delete(D.$.get(b).get(j)._.echo||"")[C.id],C.on("in",{get:j,put:y,$:C.$}))},0,99);return}i.soul||x.$$||(b=T(_),A=x.$._||"",!((b===A.link||i.has&&!A.link)&&!((D.pass||"")[i.id]&&typeof b!="string"))&&(delete(A.echo||"")[i.id],v({get:i.get,put:y,$:x.$,linked:x.linked=x.linked||A.link},i)))}r.on.unlink=v;function c(x,i){var p=this.as,_=p.$._;_.root;var D=p.get||"",b=(x.put||"")[D["#"]]||"";if(!x.put||typeof D["."]=="string"&&y===b[D["."]]){if(y!==_.put||!_.soul&&!_.has)return;_.ack=(_.ack||0)+1,_.on("in",{get:_.get,put:_.put=y,$:_.$,"@":x["@"]});return}(x._||{}).miss=1,r.on.put(x)}var f={},y,m=String.random,T=r.valid,d=function(x,i){return x&&Object.prototype.hasOwnProperty.call(x,i)},$=r.state,k=$.is,O=$.ify})(t,"./chain"),t(function(a){var r=t("./root");r.chain.get=function(y,m,T){var d,$;if(typeof y=="string"){if(y.length==0)return(d=this.chain())._.err={err:r.log("0 length key!",y)},m&&m.call(d,d._.err),d;var k=this,O=k._,x=O.next||v;(d=x[y])||(d=y&&l(y,k)),d=d&&d.$}else if(typeof y=="function"){let j=function(C,E,h){if(!j.stun&&!((S=p.pass)&&!S[_])){var o=C.$._,g=(C.$$||"")._,w=(g||o).put,I=!o.has&&!o.soul,N={},S;if((I||f===w)&&(w=f===((S=C.put)||"")["="]?f===(S||"")[":"]?S:S[":"]:S["="]),typeof(S=r.valid(w))=="string"&&(w=f===(S=p.$.get(S)._.put)?i.not?f:w:S),!(i.not&&f===w)){if(f===i.stun){if((S=p.stun)&&S.on&&(O.$.back(function(G){if(S.on(""+G.id,N={}),(N.run||0)<j.id)return N}),!N.run&&S.on(""+o.id,N={}),!N.run&&g&&S.on(""+g.id,N={}),j.id>N.run&&((!N.stun||N.stun.end)&&(N.stun=S.on("stun"),N.stun=N.stun&&N.stun.last),N.stun&&!N.stun.end))){(N.stun.add||(N.stun.add={}))[_]=function(){j(C,E,1)};return}if(f===w&&(h=0),(S=p.hatch)&&!S.end&&f===i.hatch&&!h){if(D[o.$._.id])return;D[o.$._.id]=1,S.push(function(){j(C,E,1)});return}D={}}if(p.pass){if(p.pass[_+o.id])return;p.pass[_+o.id]=1}if(i.on){i.ok.call(o.$,w,o.get,C,E||j);return}if(i.v2020){i.ok(C,E||j);return}Object.keys(C).forEach(function(G){S[G]=C[G]},S={}),C=S,C.put=w,i.ok.call(i.as,C,E||j)}}};var b=j;if(m===!0)return s(this,y,m,T),this;d=this;var O=d._,i=m||{},p=O.root,_;i.at=O,i.ok=y;var D={};return j.at=O,(O.any||(O.any={}))[_=String.random(7)]=j,j.off=function(){j.stun=1,O.any&&delete O.any[_]},j.rid=u,j.id=i.run||++p.once,$=p.pass,(p.pass={})[_]=1,i.out=i.out||{get:{}},O.on("out",i.out),p.pass=$,d}else{if(typeof y=="number")return this.get(""+y,m,T);if(typeof($=c(y))=="string")return this.get($,m,T);($=this.get.next)&&(d=$(this,y))}return d?(m&&typeof m=="function"&&d.get(m,T),d):((d=this.chain())._.err={err:r.log("Invalid get request!",y)},m&&m.call(d,d._.err),d)};function l(y,m){var T=m._,d=T.next,$=m.chain(),k=$._;return d||(d=T.next={}),d[k.get=y]=k,m===T.root.$?k.soul=y:(T.soul||T.has)&&(k.has=y),k}function s(y,m,T,d){var $=y._,k=0,O;return(O=$.soul||$.link)?m(O,d,$):$.jam?$.jam.push([m,d]):($.jam=[[m,d]],y.get(function(i,p){if(!(f===i.put&&!$.root.opt.super&&(O=Object.keys($.root.opt.peers).length)&&++k<=O)){p.rid(i);var _=(_=i.$)&&_._||{},D=0,b;for(O=$.jam,delete $.jam;b=O[D++];){var A=b[0];b=b[1],A&&A(_.link||_.soul||r.valid(i.put)||((i.put||{})._||{})["#"],b,i,p)}}},{out:{get:{".":!0}}}),y)}function u(y){var m=this.at||this.on;if(!y||m.soul||m.has)return this.off();if(!!(y=(y=(y=y.$||y)._||y).id)){m.map;var T;if((T=this.seen||(this.seen={}))[y])return!0;T[y]=!0}}var v={},c=r.valid,f})(t,"./get"),t(function(a){var r=t("./root");r.chain.put=function(d,$,k){var O=this,x=O._,i=x.root;k=k||{},k.root=x.root,k.run||(k.run=i.once),l(k,x.id),k.ack=k.ack||$,k.via=k.via||O,k.data=k.data||d,k.soul||(k.soul=x.soul||typeof $=="string"&&$);var p=k.state=k.state||r.state();return typeof d=="function"?(d(function(_){k.data=_,O.put(c,c,k)}),O):k.soul?(k.$=i.$.get(k.soul),k.todo=[{it:k.data,ref:k.$}],k.turn=k.turn||y,k.ran=k.ran||s,function _(){var D=k.todo,b=D.pop(),A=b.it;b.ref&&b.ref._.id;var j,C,E,h,o;if(l(k,b.ref),(h=b.todo)&&(C=h.pop(),A=A[C],h.length&&D.push(b)),C&&(D.path||(D.path=[])).push(C),!(j=m(A))&&!(o=r.is(A))){if(!Object.plain(A)){s.err(k,"Invalid data: "+v(A)+" at "+(k.via.back(function(S){S.get&&h.push(S.get)},h=[])||h.join("."))+"."+(D.path||[]).join("."));return}for(var g=k.seen||(k.seen=[]),w=g.length;w--;)if(A===(h=g[w]).it){j=A=h.link;break}}if(C&&j)b.node=T(b.node,C,p,A);else{let S=function(G,L){var P=E.link["#"];L&&(L.off(),L.rid(G));var M=P||G.soul||(h=(G.$$||G.$)._||"").soul||h.link||((h=h.put||"")._||"")["#"]||h["#"]||((h=G.put||"")&&G.$$?h["#"]:(h["="]||h[":"]||"")["#"]);if(!P&&l(k,G.$),!M&&!b.link["#"]){(b.wait||(b.wait=[])).push(function(){S(G,L)});return}M||(M=[],(G.$$||G.$).back(function(R){if(h=R.soul||R.link)return M.push(h);M.push(R.get)}),M=M.reverse().join("/")),E.link["#"]=M,!o&&(((k.graph||(k.graph={}))[M]=E.node||(E.node={_:{}}))._["#"]=M),delete k.wait[I],E.wait&&setTimeout.each(E.wait,function(R){R&&R()}),k.ran(k)};var N=S;if(!k.seen){s.err(k,"Data at root of graph must be a node (an object).");return}k.seen.push(E={it:A,link:{},todo:o?[]:Object.keys(A).sort().reverse(),path:(D.path||[]).slice(),up:b}),b.node=T(b.node,C,p,E.link),!o&&E.todo.length&&D.push(E);var I=k.seen.length;(k.wait||(k.wait={}))[I]="",h=(E.ref=o?A:C?b.ref.get(C):b.ref)._,(h=A&&(A._||"")["#"]||h.soul||h.link)?S({soul:h}):E.ref.get(S,{run:k.run,v2020:1,out:{get:{".":" "}}})}if(!D.length)return k.ran(k);k.turn(_)}(),O):(u(k),O)};function l(d,$){if(!!$){$=($._||"").id||$;var k=d.root.stun||(d.root.stun={on:r.on}),O={},x;d.stun||(d.stun=k.on("stun",function(){})),(x=k.on(""+$))&&x.the.last.next(O),!(O.run>=d.run)&&k.on(""+$,function(i){if(d.stun.end){this.off(),this.to.next(i);return}i.run=i.run||d.run,i.stun=i.stun||d.stun})}}function s(d){if(d.err){s.end(d.stun,d.root);return}if(!(d.todo.length||d.end||!Object.empty(d.wait))){d.end=1;var $=d.$.back(-1)._,k=$.root,O=$.ask(function(_){k.on("ack",_),_.err&&!_.lack&&r.log(_),++x>(d.acks||0)&&this.off(),d.ack&&d.ack(_,this)},d.opt),x=0,i=d.stun,p;(p=function(){!i||(s.end(i,k),setTimeout.each(Object.keys(i=i.add||""),function(_){(_=i[_])&&_()}))}).hatch=p,d.ack&&!d.ok&&(d.ok=d.acks||9),d.via._.on("out",{put:d.out=d.graph,ok:d.ok&&{"@":d.ok+1},opt:d.opt,"#":O,_:p})}}s.end=function(d,$){d.end=f,d.the.to===d&&d===d.the.last&&delete $.stun,d.off()},s.err=function(d,$){(d.ack||f).call(d,d.out={err:d.err=r.log($)}),d.ran(d)};function u(d){var $=d.via._,k;d.via=d.via.back(function(O){if(O.soul||!O.get)return O.$;k=d.data,(d.data={})[O.get]=k}),(!d.via||!d.via._.soul)&&(d.via=$.root.$.get(((d.data||"")._||"")["#"]||$.$.back("opt.uuid")())),d.via.put(d.data,d.ack,d)}function v(d,$){return d&&($=d.constructor)&&$.name||typeof d}var c,f=function(){},y=setTimeout.turn,m=r.valid,T=r.state.ify})(t,"./put"),t(function(a){var r=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),a.exports=r})(t,"./index"),t(function(a){var r=t("./index");r.chain.on=function(u,v,c,f){var y=this,m=y._;m.root;var T;if(typeof u=="string")return v?(T=m.on(u,v,c||m,f),c&&c.$&&(c.subs||(c.subs=[])).push(T),y):m.on(u);var d=v;return(d=d===!0?{change:!0}:d||{}).not=1,d.on=1,y.get(u,d),y},r.chain.once=function(u,v){if(v=v||{},!u)return l(this);var c=this,f=c._,y=f.root;f.put;var m=String.random(7),T;return c.get(function(d,$,k,O){var x=this,i=x._,p=i.one||(i.one={});if(O.stun||p[m]==="")return;if((T=r.valid(d))===!0){_();return}if(typeof T=="string")return;clearTimeout((f.one||"")[m]),clearTimeout(p[m]),p[m]=setTimeout(_,v.wait||99);function _(D){if(!i.has&&!i.soul&&(i={put:d,get:$}),s===(T=i.put)&&(T=((k.$$||"")._||"").put),typeof r.valid(T)=="string"&&(T=y.$.get(T)._.put,T===s&&!D)){p[m]=setTimeout(function(){_(1)},v.wait||99);return}O.stun||p[m]!==""&&(p[m]="",(f.soul||f.has)&&O.off(),u.call(x,T,i.get),clearTimeout(p[m]))}},{on:1}),c};function l(u,v,c){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(c=u.chain())._.nix=u.once(function(f,y){c._.on("in",this._)}),c._.lex=u._.lex,c}r.chain.off=function(){var u=this,v=u._,c,f=v.back;if(!!f)return v.ack=0,(c=f.next)&&c[v.get]&&delete c[v.get],(c=f.ask)&&delete c[v.get],(c=f.put)&&delete c[v.get],(c=v.soul)&&delete f.root.graph[c],(c=v.map)&&Object.keys(c).forEach(function(y,m){m=c[y],m.link&&f.root.$.get(m.link).off()}),(c=v.next)&&Object.keys(c).forEach(function(y,m){m=c[y],m.$.off()}),v.on("off",{}),u};var s})(t,"./on"),t(function(a){var r=t("./index"),l=r.chain.get.next;r.chain.get.next=function(c,f){var y;return Object.plain(f)?(y=((y=f["#"])||"")["="]||y)?c.get(y):((y=c.chain()._).lex=f,c.on("in",function(m){String.match(m.get||(m.put||"")["."],f["."]||f["#"]||f)&&y.on("in",m),this.to.next(m)}),y.$):(l||u)(c,f)},r.chain.map=function(c,f,y){var m=this,T=m._,d,$;return Object.plain(c)&&(d=c["."]?c:{".":c},c=v),c?(r.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),$=m.chain(),m.map().on(function(k,O,x,i){var p=(c||u).call(this,k,O,x,i);if(v!==p){if(k===p)return $._.on("in",x);if(r.is(p))return $._.on("in",p._);var _={};Object.keys(x.put).forEach(function(D){_[D]=x.put[D]},_),_["="]=p,$._.on("in",{get:O,put:_})}}),$):(($=T.each)||((T.each=$=m.chain())._.lex=d||$._.lex||T.lex,$._.nix=m.back("nix"),m.on("in",s,$._)),$)};function s(c){this.to.next(c);var f=this.as,y=c.$,m=y._,T=c.put,d;!m.soul&&!c.$$||(d=f.lex)&&!String.match(c.get||(T||"")["."],d["."]||d["#"]||d)||r.on.link(c,f)}var u=function(){},v})(t,"./map"),t(function(a){var r=t("./index");r.chain.set=function(l,s,u){var v=this,c=v.back(-1),f,y;return s=s||function(){},u=u||{},u.item=u.item||l,(f=((l||"")._||"")["#"])&&((l={})["#"]=f),typeof(y=r.valid(l))=="string"?v.get(f=y).put(l,s,u):r.is(l)?(v.put(function(m){l.get(function(T,d,$){if(!T)return s.call(v,{err:r.log('Only a node can be linked! Not "'+$.put+'"!')});(y={})[T]={"#":T},m(y)},!0)}),l):(Object.plain(l)&&(l=c.get(f=v.back("opt.uuid")()).put(l)),v.get(f||c.back("opt.uuid")(7)).put(l,s,u))}})(t,"./set"),t(function(a){t("./shim");var r=function(){},l=JSON.parseAsync||function(c,f,y){var m,T=+new Date;try{f(m,JSON.parse(c,y),s.sucks(+new Date-T))}catch(d){f(d)}},s=JSON.stringifyAsync||function(c,f,y,m){var T,d=+new Date;try{f(T,JSON.stringify(c,y,m),s.sucks(+new Date-d))}catch($){f($)}};s.sucks=function(c){c>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),s.sucks=r)};function u(c){var f=function(){},y=c.opt||{};y.log=y.log||console.log,y.gap=y.gap||y.wait||0,y.max=y.max||(y.memory?y.memory*999*999:3e8)*.3,y.pack=y.pack||y.max*.01*.01,y.puff=y.puff||9;var m=setTimeout.turn||setTimeout,T=c.dup,d=T.check,$=T.track,k=f.hear=function(i,p){if(!!i){if(y.max<=i.length)return f.say({dam:"!",err:"Message too big!"},p);f===this&&(k.d+=i.length||0,++k.c);var _=p.SH=+new Date,D=i[0],b;if(D==="["){l(i,function(A,j){if(A||!j)return f.say({dam:"!",err:"DAM JSON parse error."},p);console.STAT&&console.STAT(+new Date,j.length,"# on hear batch");var C=y.puff;(function E(){for(var h=+new Date,o=0,g;o<C&&(g=j[o++]);)f.hear(g,p);j=j.slice(o),console.STAT&&console.STAT(h,+new Date-h,"hear loop"),O(p),j.length&&m(E,0)})()}),i="";return}if(D==="{"||(i["#"]||Object.plain(i))&&(b=i)){if(b)return k.one(b,p,_);l(i,function(A,j){if(A||!j)return f.say({dam:"!",err:"DAM JSON parse error."},p);k.one(j,p,_)});return}}};k.one=function(i,p,E){var D,b,A,j,C;if(i.DBG&&(i.DBG=C={DBG:i.DBG}),C&&(C.h=E),C&&(C.hp=+new Date),(D=i["#"])||(D=i["#"]=String.random(9)),!(A=d(D))&&(b=i["##"],!(b&&(A=i["@"]||i.get&&D)&&T.check(j=A+b)))){if((i._=function(){}).via=f.leap=p,(A=i["><"])&&typeof A=="string"&&A.slice(0,99).split(",").forEach(function(h){this[h]=1},i._.yo={}),A=i.dam){(A=f.hear[A])&&A(i,p,c),$(D);return}(A=i.ok)&&(i._.near=A["/"]);var E=+new Date;C&&(C.is=E),p.SI=D,c.on("in",f.last=i),C&&(C.hd=+new Date),console.STAT&&console.STAT(E,+new Date-E,i.get?"msg get":i.put?"msg put":"msg"),(A=$(D)).via=p,i.get&&(A.it=i),j&&$(j),f.leap=f.last=null}},k.c=k.d=0,function(){var i=0,p;f.hash=function(b,A){var j,C,E,h=+new Date;s(b.put,function o(g,w){var I=(C||(C=E=w||"")).slice(0,32768);if(j=String.hash(I,j),C=C.slice(32768),C){m(o,0);return}console.STAT&&console.STAT(h,+new Date-h,"say json+hash"),b._.$put=E,b["##"]=j,f.say(b,A),delete b._.$put},_)};function _(b,A){var j;return A instanceof Object?(Object.keys(A).sort().forEach(D,{to:j={},on:A}),j):A}function D(b){this.to[b]=this.on[b]}f.say=function(b,A){var j;if((j=this)&&(j=j.to)&&j.next&&j.next(b),!b)return!1;var C,E,h=b["@"],o=b._||(b._=function(){}),g=b.DBG,w=+new Date;if(o.y=o.y||w,A||g&&(g.y=w),(C=b["#"])||(C=b["#"]=String.random(9)),!p&&$(C),!b["##"]&&v!==b.put&&!o.via&&h){f.hash(b,A);return}if(!A&&h&&(A=(j=T.s[h])&&(j.via||(j=j.it)&&(j=j._)&&j.via)||(j=f.last)&&h===j["#"]&&f.leap),!A&&h)return T.s[h]?void 0:(console.STAT&&console.STAT(+new Date,++i,"total no peer to ack to"),!1);if(!A&&f.way)return f.way(b);if(g&&(g.yh=+new Date),!(E=o.raw)){f.raw(b,A);return}if(g&&(g.yr=+new Date),!A||!A.id){if(!Object.plain(A||y.peers))return!1;var w=+new Date;y.puff;var I=y.peers,N=Object.keys(A||y.peers||{});console.STAT&&console.STAT(w,+new Date-w,"peer keys"),function L(){var P=+new Date;p=1;var M=o.raw;o.raw=E;for(var R=0,B;R<9&&(B=(N||"")[R++]);)!(B=I[B]||(A||"")[B])||f.say(b,B);o.raw=M,p=0,N=N.slice(R),console.STAT&&console.STAT(P,+new Date-P,"say loop"),N.length&&(m(L,0),h&&$(h))}();return}if(!A.wire&&f.wire&&f.wire(A),C!==A.last){if(A.last=C,A===o.via||(j=o.yo)&&(j[A.url]||j[A.pid]||j[A.id]))return!1;if(console.STAT&&console.STAT(w,((g||o).yp=+new Date)-(o.y||w),"say prep"),!p&&h&&$(h),A.batch){if(A.tail=(j=A.tail||0)+E.length,A.tail<=y.pack){A.batch+=(j?",":"")+E;return}O(A)}A.batch="[";var S=+new Date;setTimeout(function(){console.STAT&&console.STAT(S,+new Date-S,"0ms TO"),O(A)},y.gap),x(E,A),console.STAT&&h===A.SI&&console.STAT(w,+new Date-A.SH,"say ack")}},f.say.c=f.say.d=0,f.raw=function(b,A){if(!b)return"";var j=b._||{},C,E;if(E=j.raw)return E;if(typeof b=="string")return b;var h=b["##"],o=b["@"];if(h&&o){if(!j.via&&d(o+h))return!1;if((E=(T.s[o]||"").it)||(E=f.last)&&o===E["#"]){if(h===E["##"])return!1;E["##"]||(E["##"]=h)}}if(!b.dam&&!b["@"]){var g=0,w=[];E=y.peers;for(var I in E){var N=E[I];if(w.push(N.url||N.pid||N.id),++g>6)break}g>1&&(b["><"]=w.join())}if(b.put&&(E=b.ok)&&(b.ok={"@":(E["@"]||1)-1,"/":E["/"]==b._.near?f.near:E["/"]}),C=j.$put){E={},Object.keys(b).forEach(function(G){E[G]=b[G]}),E.put=":])([:",s(E,function(G,L){if(!G){var P=+new Date;E=L.indexOf('"put":":])([:"'),S(v,L=L.slice(0,E+6)+C+L.slice(E+14)),console.STAT&&console.STAT(P,+new Date-P,"say slice")}});return}s(b,S);function S(G,L){G||(j.raw=L,f.say(b,A))}}}();function O(i){var p=i.batch,_=typeof p=="string";if(_&&(p+="]"),i.batch=i.tail=null,!!p&&!(_?3>p.length:!p.length)){if(!_)try{p=p.length===1?p[0]:JSON.stringify(p)}catch(D){return y.log("DAM JSON stringify error",D)}!p||x(p,i)}}function x(i,p){try{var _=p.wire;p.say?p.say(i):_.send&&_.send(i),f.say.d+=i.length||0,++f.say.c}catch{(p.queue=p.queue||[]).push(i)}}return f.near=0,f.hi=function(i){var p=i.wire,_;if(!p){f.wire(i.length&&{url:i,id:i}||i);return}i.id?y.peers[i.url||i.id]=i:(_=i.id=i.id||i.url||String.random(9),f.say({dam:"?",pid:c.opt.pid},y.peers[_]=i),delete T.s[i.last]),i.met||(f.near++,i.met=+new Date,c.on("hi",i)),_=i.queue,i.queue=[],setTimeout.each(_||[],function(D){x(D,i)},0,9)},f.bye=function(i){i.met&&--f.near,delete i.met,c.on("bye",i);var p=+new Date;p=p-(i.met||p),f.bye.time=((f.bye.time||p)+p)/2},f.hear["!"]=function(i,p){y.log("Error:",i.err)},f.hear["?"]=function(i,p){i.pid&&(p.pid||(p.pid=i.pid),i["@"])||(f.say({dam:"?",pid:y.pid,"@":i["#"]},p),delete T.s[p.last])},f.hear.mob=function(i,p){if(!!i.peers){var _=Object.keys(i.peers),D=_[Math.random()*_.length>>0];!D||(f.bye(p),f.hi(D))}},c.on("create",function(i){i.opt.pid=i.opt.pid||String.random(9),this.to.next(i),i.on("out",f.say)}),c.on("bye",function(i,p){i=y.peers[i.id||i]||i,this.to.next(i),i.bye?i.bye():(p=i.wire)&&p.close&&p.close(),delete y.peers[i.id],i.wire=null}),c.on("bye",function(i,p){this.to.next(i),(p=console.STAT)&&(p.peers=f.near),(p=i.url)&&setTimeout(function(){},y.lack||9e3)}),c.on("hi",function(i,p){if(this.to.next(i),(p=console.STAT)&&(p.peers=f.near),!y.super){var _=Object.keys(c.next||"");_.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(_,function(D){var b=c.next[D];if(y.super||(b.ask||"")[""]){f.say({get:{"#":D}},i);return}setTimeout.each(Object.keys(b.ask||""),function(A){!A||f.say({"##":String.hash((c.graph[D]||"")[A]),get:{"#":D,".":A}},i)})})}}),f}var v;try{a.exports=u}catch{}})(t,"./mesh"),t(function(a){var r=t("./index");r.Mesh=t("./mesh"),r.on("opt",function(s){if(this.to.next(s),s.once)return;var u=s.opt;if(u.WebSocket===!1)return;var v=r.window||{},c=u.WebSocket||v.WebSocket||v.webkitWebSocket||v.mozWebSocket;if(!c)return;u.WebSocket=c;var f=u.mesh=u.mesh||r.Mesh(s);f.wire||u.wire,f.wire=u.wire=y;function y($){try{if(!$||!$.url)return O&&O($);var k=$.url.replace(/^http/,"ws"),O=$.wire=new u.WebSocket(k);return O.onclose=function(){T($),u.mesh.bye($)},O.onerror=function(x){T($)},O.onopen=function(){u.mesh.hi($)},O.onmessage=function(x){!x||u.mesh.hear(x.data||x,$)},O}catch{u.mesh.bye($)}}setTimeout(function(){!u.super&&s.on("out",{dam:"hi"})},1);var m=2*999;function T($){clearTimeout($.defer),u.peers[$.url]&&(d&&$.retry<=0||($.retry=($.retry||u.retry+1||60)-(-$.tried+($.tried=+new Date)<m*4?1:0),$.defer=setTimeout(function k(){if(d&&d.hidden)return setTimeout(k,m);y($)},m)))}var d=""+l!=typeof document&&document});var l})(t,"./websocket"),t(function(a){if(!(typeof Gun>"u")){var r=function(){},l;try{l=(Gun.window||r).localStorage}catch{}l||(Gun.log("Warning: No localStorage exists to persist data to!"),l={setItem:function(u,v){this[u]=v},removeItem:function(u){delete this[u]},getItem:function(u){return this[u]}});var s=JSON.stringifyAsync||function(u,v,c,f){var y;try{v(y,JSON.stringify(u,c,f))}catch(m){v(m)}};Gun.on("create",function u(v){this.to.next(v);var c=v.opt;v.graph;var f=[],y,m,T,d;if(c.localStorage===!1)return;c.prefix=c.file||"gun/";try{y=u[c.prefix]=u[c.prefix]||JSON.parse(T=l.getItem(c.prefix))||{}}catch{y=u[c.prefix]={}}T=(T||"").length,v.on("get",function(k){this.to.next(k);var O=k.get,x,i,p,_;!O||!(x=O["#"])||(i=y[x]||_,i&&(p=O["."])&&!Object.plain(p)&&(i=Gun.state.ify({},p,Gun.state.is(i,p),i[p],x)),Gun.on.get.ack(k,i))}),v.on("put",function(k){this.to.next(k);var O=k.put,x=O["#"],i=O["."],p=k["#"],_=k.ok||"";if(y[x]=Gun.state.ify(y[x],i,O[">"],O[":"],x),d&&T>4999880){v.on("in",{"@":p,err:"localStorage max!"});return}!k["@"]&&(!k._.via||Math.random()<_["@"]/_["/"])&&f.push(p),!m&&(m=setTimeout($,9+T/333))});function $(){if(!f.length&&((setTimeout.turn||"").s||"").length){setTimeout($,99);return}var k=f;clearTimeout(m),m=!1,f=[],s(y,function(O,x){try{!O&&l.setItem(c.prefix,x)}catch(i){O=d=i||"localStorage failure"}O&&(Gun.log(O+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),v.on("localStorage:error",{err:O,get:c.prefix,put:y})),T=x.length,setTimeout.each(k,function(i){v.on("in",{"@":i,err:O,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var E;if(""+E!=typeof Gun){var t=function(h){console.warn("Warning! Deprecated internal utility will break in next version:",h)},n=Gun;n.fn=n.fn||{is:function(h){return t("fn"),!!h&&typeof h=="function"}},n.bi=n.bi||{is:function(h){return t("bi"),h instanceof Boolean||typeof h=="boolean"}},n.num=n.num||{is:function(h){return t("num"),!a(h)&&(h-parseFloat(h)+1>=0||h===1/0||h===-1/0)}},n.text=n.text||{is:function(h){return t("text"),typeof h=="string"}},n.text.ify=n.text.ify||function(h){return t("text.ify"),n.text.is(h)?h:typeof JSON<"u"?JSON.stringify(h):h&&h.toString?h.toString():h},n.text.random=n.text.random||function(h,o){t("text.random");var g="";for(h=h||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";h>0;)g+=o.charAt(Math.floor(Math.random()*o.length)),h--;return g},n.text.match=n.text.match||function(h,o){var g,w;return t("text.match"),typeof h!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},g=o["="]||o["*"]||o[">"]||o["<"],h===g?!0:w!==o["="]?!1:(g=o["*"]||o[">"]||o["<"],h.slice(0,(g||"").length)===g?!0:w!==o["*"]?!1:w!==o[">"]&&w!==o["<"]?h>=o[">"]&&h<=o["<"]:w!==o[">"]&&h>=o[">"]||w!==o["<"]&&h<=o["<"]))},n.text.hash=n.text.hash||function(h,o){if(t("text.hash"),typeof h=="string"){if(o=o||0,!h.length)return o;for(var g=0,w=h.length,I;g<w;++g)I=h.charCodeAt(g),o=(o<<5)-o+I,o|=0;return o}},n.list=n.list||{is:function(h){return t("list"),h instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(h){return t("list.sort"),function(o,g){return!o||!g?0:(o=o[h],g=g[h],o<g?-1:o>g?1:0)}},n.list.map=n.list.map||function(h,o,g){return t("list.map"),j(h,o,g)},n.list.index=1,n.obj=n.boj||{is:function(h){return t("obj"),h?h instanceof Object&&h.constructor===Object||Object.prototype.toString.call(h).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},n.obj.put=n.obj.put||function(h,o,g){return t("obj.put"),(h||{})[o]=g,h},n.obj.has=n.obj.has||function(h,o){return t("obj.has"),h&&Object.prototype.hasOwnProperty.call(h,o)},n.obj.del=n.obj.del||function(h,o){if(t("obj.del"),!!h)return h[o]=null,delete h[o],h},n.obj.as=n.obj.as||function(h,o,g,w){return t("obj.as"),h[o]=h[o]||(w===g?{}:g)},n.obj.ify=n.obj.ify||function(h){if(t("obj.ify"),p(h))return h;try{h=JSON.parse(h)}catch{h={}}return h},function(){var h;function o(g,w){D(this,w)&&h!==this[w]||(this[w]=g)}n.obj.to=n.obj.to||function(g,w){return t("obj.to"),w=w||{},j(g,o,w),w}}(),n.obj.copy=n.obj.copy||function(h){return t("obj.copy"),h&&JSON.parse(JSON.stringify(h))},function(){function h(o,g){var w=this.n,I;if(!(w&&(g===w||p(w)&&D(w,g)))&&I!==g)return!0}n.obj.empty=n.obj.empty||function(o,g){return t("obj.empty"),o?!j(o,h,{n:g}):!0}}(),function(){function h(w,I){if(arguments.length===2){h.r=h.r||{},h.r[w]=I;return}h.r=h.r||[],h.r.push(w)}var o=Object.keys,g;Object.keys=Object.keys||function(w){return g(w,function(I,N,S){S(N)})},n.obj.map=g=n.obj.map||function(w,I,N){t("obj.map");var S,G=0,L,P,M,R,B=typeof I=="function";if(h.r=S,o&&p(w)&&(M=o(w),R=!0),N=N||{},a(w)||M)for(L=(M||w).length;G<L;G++){var z=G+n.list.index;if(B){if(P=R?I.call(N,w[M[G]],M[G],h):I.call(N,w[G],z,h),P!==S)return P}else if(I===w[R?M[G]:G])return M?M[G]:z}else for(G in w)if(B){if(D(w,G)&&(P=N?I.call(N,w[G],G,h):I(w[G],G,h),P!==S))return P}else if(I===w[G])return G;return B?h.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(h){return t("time"),h?h instanceof Date:+new Date().getTime()};var x=n.fn.is,a=n.list.is,i=n.obj,p=i.is,D=i.has,j=i.map,r={};r.is=function(h){return t("val.is"),h===E?!1:h===null?!0:h===1/0?!1:u(h)||s(h)||d(h)?!0:r.link.is(h)||!1},r.link=r.rel={_:"#"},function(){r.link.is=function(o){if(t("val.link.is"),o&&o[l]&&!o._&&p(o)){var g={};if(j(o,h,g),g.id)return g.id}return!1};function h(o,g){var w=this;if(w.id)return w.id=!1;if(g==l&&u(o))w.id=o;else return w.id=!1}}(),r.link.ify=function(h){return t("val.link.ify"),A({},l,h)},n.obj.has._=".";var l=r.link._,E,s=n.bi.is,d=n.num.is,u=n.text.is,i=n.obj,p=i.is,A=i.put,j=i.map;n.val=n.val||r;var v={_:"_"};v.soul=function(h,o){return t("node.soul"),h&&h._&&h._[o||y]},v.soul.ify=function(h,o){return t("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},h=h||{},h._=h._||{},h._[y]=o.soul||h._[y]||f(),h},v.soul._=r.link._,function(){v.is=function(o,g,w){t("node.is");var I;return p(o)&&(I=v.soul(o))?!j(o,h,{as:w,cb:g,s:I,n:o}):!1};function h(o,g){if(g!==v._){if(!r.is(o))return!0;this.cb&&this.cb.call(this.as,o,g,this.n,this.s)}}}(),function(){v.ify=function(o,g,w){return t("node.ify"),g?typeof g=="string"?g={soul:g}:typeof g=="function"&&(g={map:g}):g={},g.map&&(g.node=g.map.call(w,o,E,g.node||{})),(g.node=v.soul.ify(g.node||{},g))&&j(o,h,{o:g,as:w}),g.node};function h(o,g){var w=this.o,I,N;if(w.map){I=w.map.call(this.as,o,""+g,w.node),N===I?_(w.node,g):w.node&&(w.node[g]=I);return}r.is(o)&&(w.node[g]=o)}}();var i=n.obj,p=i.is,_=i.del,j=i.map,c=n.text,f=c.random,y=v.soul._,E;n.node=n.node||v;var m=n.state;m.lex=function(){return t("state.lex"),m().toString(36).replace(".","")},m.to=function(h,o,g){t("state.to");var w=(h||{})[o];return p(w)&&(w=C(w)),m.ify(g,o,m.is(h,o),w,v.soul(h))},function(){m.map=function(o,g,w){t("state.map");var I,N=p(N=o||g)?N:null;return o=x(o=o||g)?o:null,N&&!o?(g=d(g)?g:m(),N[k]=N[k]||{},j(N,h,{o:N,s:g}),N):(w=w||p(g)?g:I,g=d(g)?g:m(),function(S,G,L,P){if(!o)return h.call({o:L,s:g},S,G),S;o.call(w||this||{},S,G,L,P),!(D(L,G)&&I===L[G])&&h.call({o:L,s:g},S,G)})};function h(o,g){k!==g&&m.ify(this.o,g,this.s)}}();var i=n.obj;i.as;var D=i.has,p=i.is,j=i.map,C=i.copy,T=n.num,d=T.is,$=n.fn,x=$.is,k=v._,E,O={};(function(){O.is=function(g,w,I,N){return t("graph.is"),!g||!p(g)||b(g)?!1:!j(g,h,{cb:w,fn:I,as:N})};function h(g,w){if(!g||w!==v.soul(g)||!v.is(g,this.fn,this.as))return!0;!this.cb||(o.n=g,o.as=this.as,this.cb.call(o.as,g,w,o))}function o(g){g&&v.is(o.n,g,o.as)}})(),function(){O.ify=function(N,S,G){t("graph.ify");var L={path:[],obj:N};return S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S.map=S):S={},typeof G=="string"&&(S.soul=S.soul||G,G=E),S.soul&&(L.link=r.link.ify(S.soul)),S.shell=(G||{}).shell,S.graph=S.graph||{},S.seen=S.seen||[],S.as=S.as||G,h(S,L),S.root=L.node,S.graph};function h(N,S){var G;return(G=I(N,S))?G:(S.env=N,S.soul=g,v.ify(S.obj,o,S)&&(S.link=S.link||r.link.ify(v.soul(S.node)),S.obj!==N.shell&&(N.graph[r.link.is(S.link)]=S.node)),S)}function o(N,S,G){var L=this,P=L.env,M,R;if(v._===S&&D(N,r.link._))return G._;if(!!(M=w(N,S,G,L,P))){if(S||(L.node=L.node||G||{},D(N,v._)&&v.soul(N)&&(L.node._=C(N._)),L.node=v.soul.ify(L.node,r.link.is(L.link)),L.link=L.link||r.link.ify(v.soul(L.node))),(R=P.map)&&(R.call(P.as||{},N,S,G,L),D(G,S))){if(N=G[S],E===N){_(G,S);return}if(!(M=w(N,S,G,L,P)))return}if(!S)return L.node;if(M===!0)return N;if(R=h(P,{obj:N,path:L.path.concat(S)}),!!R.node)return R.link}}function g(N){var S=this,G=r.link.is(S.link),L=S.env.graph;S.link=S.link||r.link.ify(N),S.link[r.link._]=N,S.node&&S.node[v._]&&(S.node[v._][r.link._]=N),D(L,G)&&(L[N]=L[G],_(L,G))}function w(N,S,G,L,P){var M;if(r.is(N))return!0;if(p(N))return 1;if(M=P.invalid)return N=M.call(P.as||{},N,S,G),w(N,S,G,L,P);P.err="Invalid value at '"+L.path.concat(S).join(".")+"'!",n.list.is(N)&&(P.err+=" Use `.set(item)` instead of an Array.")}function I(N,S){for(var G=N.seen,L=G.length,P;L--;)if(P=G[L],S.obj===P.obj)return P;G.push(S)}}(),O.node=function(h){t("graph.node");var o=v.soul(h);if(!!o)return A({},o,h)},function(){O.to=function(o,g,w){if(t("graph.to"),!!o){var I={};return w=w||{seen:{}},j(o[g],h,{obj:I,graph:o,opt:w}),I}};function h(o,g){var w,I;if(v._===g){if(b(o,r.link._))return;this.obj[g]=C(o);return}if(!(w=r.link.is(o))){this.obj[g]=o;return}if(I=this.opt.seen[w]){this.obj[g]=I;return}this.obj[g]=this.opt.seen[w]=O.to(this.graph,w,this.opt)}}();var x=n.fn.is,i=n.obj,p=i.is,_=i.del,D=i.has,b=i.empty,A=i.put,j=i.map,C=i.copy,E;n.graph=n.graph||O}}()})(ae);(function(e){e.exports=ae.exports})(fe);const An=jn(fe.exports),Dn=st('<div><div class="grid grid-cols-3 grid-rows-3"></div></div>'),On=An("https://mvp-gun.herokuapp.com/gun"),Nn=()=>{const[e,t]=tt(Array.from({length:9},()=>F.None)),[n,a]=tt(F.Circle);let r=F.None;const l=H(()=>{const m=Fe(e());return m!==F.None&&(r=F.None),m}),s=m=>{let T=e(),d=n();r===F.None&&(r=d),d===r&&T[m]===F.None&&(T[m]=d,t([...T]),d=We(d),a(d),v())},u=()=>{t(Array.from({length:9},()=>F.None)),a(F.Circle),r=F.None,v()},v=()=>{y.put({field:{...e()},turn:n()})},c=vn();let f=c.query.id;if(!f){f=Sn();const m=c.pathname;gn()(`${m}?id=${f}`,{replace:!0})}const y=On.get(f);return y.get("field").on(m=>{const T=Object.values(m),d=T.slice(0,T.length-1);t(d)}),y.get("turn").on(m=>{a(m)}),(()=>{const m=Dn.cloneNode(!0),T=m.firstChild;return X(T,J(je,{get each(){return e()},children:(d,$)=>J(Qe,{state:d,onClick:()=>s($())})})),X(m,J(re,{get children(){return[J(ht,{get when(){return l()===F.Circle},get children(){return J(St,{restartGame:u,result:"Winner: Circle"})}}),J(ht,{get when(){return l()===F.Cross},get children(){return J(St,{restartGame:u,result:"Winner: Cross"})}}),J(ht,{get when(){return l()===F.Draw},get children(){return J(St,{restartGame:u,result:"Draw"})}})]}}),null),m})()},Cn=st('<div class="absolute inset-0 flex justify-center items-center"></div>'),En=()=>J(mn,{get children(){const e=Cn.cloneNode(!0);return X(e,J(Nn,{})),e}});Ie(()=>J(En,{}),document.getElementById("root"));
