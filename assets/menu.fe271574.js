import{d as f,b as _,l as w,c as o,i as x,h as k,t as u,S as D,M as y}from"./index.82520075.js";import{a as M,c as U,M as S,L as C}from"./layout.ec27a939.js";let b;const I=new Uint8Array(16);function G(){if(!b&&(b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(I)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function j(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const N=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v={randomUUID:N};function E(e,t,c){if(v.randomUUID&&!t&&!e)return v.randomUUID();e=e||{};const a=e.random||(e.rng||G)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){c=c||0;for(let r=0;r<16;++r)t[c+r]=a[r];return t}return j(a)}const R=u('<span class="block text-red-500"></span>'),T=u('<form><span class="flex justify-between items-center flex-col sm:flex-row gap-x-2"><label for="creategameinput">Game ID (leave blank for random)</label><input id="creategameinput" type="text" class="px-2 rounded border-green border-2 w-[max(80vw, 20rem)]"></span><button class="bg-terra mt-2 border-green border-2 px-3 py-1 rounded float-right">Create</button><button class="bg-lavender mt-2 border-green border-2 px-3 py-1 rounded float-left">Back</button></form>'),V=e=>{const[t,c]=_(void 0),a=w();let r;return o(S,{cancel:()=>e.setMenu("main"),get children(){const i=T.cloneNode(!0),d=i.firstChild,$=d.firstChild,m=$.nextSibling,s=d.nextSibling,h=s.nextSibling,p=r;return typeof p=="function"?p(m):r=m,x(i,o(k,{when:t!==void 0,get children(){const l=R.cloneNode(!0);return x(l,t),l}}),s),s.$$click=async l=>{l.preventDefault();const g=r?.value||E();if(!await M(g))await U(g);else{c("Game already exists!");return}a(`game/?id=${g}`)},h.$$click=async l=>{l.preventDefault(),e.setMenu("main")},i}})};f(["click"]);const J=u('<span class="block text-red-500"></span>'),L=u('<form><span class="flex justify-between items-center flex-col sm:flex-row gap-x-2"><label for="joingameinput">Game ID</label><input id="joingameinput" type="text" class="px-2 rounded border-green border-2 w-[max(80vw, 20rem)]"></span><button class="bg-terra mt-2 border-green border-2 px-3 py-1 rounded float-right">Join</button><button class="bg-lavender mt-2 border-green border-2 px-3 py-1 rounded float-left">Back</button></form>'),B=e=>{const[t,c]=_(void 0),a=w();let r;return o(S,{cancel:()=>e.setMenu("main"),get children(){const i=L.cloneNode(!0),d=i.firstChild,$=d.firstChild,m=$.nextSibling,s=d.nextSibling,h=s.nextSibling,p=r;return typeof p=="function"?p(m):r=m,x(i,o(k,{when:t!==void 0,get children(){const l=J.cloneNode(!0);return x(l,t),l}}),s),s.$$click=async l=>{if(l.preventDefault(),r?.value){if(!await M(r.value)){c("Game does not exist!");return}a(`game/?id=${r.value}`)}},h.$$click=async l=>{l.preventDefault(),e.setMenu("main")},i}})};f(["click"]);const A=u('<h1 class="text-3xl text-center">Welcome to Tic Tac Toe!</h1>'),H=u('<div class="m-2 flex gap-x-3"><button class="btn hover-shadow border-4 my-4 py-2 px-4">Create Game</button><button class="btn hover-shadow border-4 my-4 py-2 px-4">Join Game</button></div>'),F=()=>{const[e,t]=_("main");return o(C,{get children(){return[A.cloneNode(!0),o(D,{get children(){return[o(y,{get when(){return e()==="main"},get children(){const c=H.cloneNode(!0),a=c.firstChild,r=a.nextSibling;return a.$$click=()=>t("create"),r.$$click=()=>t("join"),c}}),o(y,{get when(){return e()==="create"},get children(){return o(V,{setMenu:t})}}),o(y,{get when(){return e()==="join"},get children(){return o(B,{setMenu:t})}})]}})]}})};f(["click"]);export{F as default};
